<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <title>my first vim macro - hardscrabble</title>
  <meta content='Max Jacobson' name='author'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href='/feed.xml' rel='alternate' title='Posts feed' type='application/atom+xml'>
  <link href='/img/favicon.ico' rel='icon' type='image/x-icon'>
  <link rel="stylesheet" href="/css/lib/pinboard.css">
<link rel="stylesheet" href="/css/lib/normalize.css">
<link rel="stylesheet" href="/css/lib/solarized.css">
<link rel="stylesheet" href="/css/style.css">



  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', "UA-4982721-15", 'auto');
  ga('send', 'pageview');

</script>


</head>
<body>

<header>
  <h1><a href="/">hardscrabble</a></h1>
  <nav>
    <a href="/">home</a>
    | <a href="/about/">about</a>
    | <a href="/metaphorloop/">metaphor loop</a>
    | <a href="/search/">search</a>
    | <a href="/links/">links</a>
  </nav>
</header>

<div class="post">

  <div class="metadata">
    <div class="title">
      <h2>
        my first vim macro
      </h2>
    </div>
    <div class="byline">
      by <a href='/about'>Max Jacobson</a>
    </div>
    <div class="date">
      29 Mar 2015
    </div>
  </div>

  <div class="body">
    <p>The time has come for me to make a vim macro. Here’s what it looks like in
action:</p>

<p><img src="/img/2015-03-29-vim-macro.gif" alt="vim macro demo" /></p>

<p>I made it because I am working on a post that will include a few ruby examples,
and I got frustrated typing out Liquid’s verbose syntax for codeblocks (I wish
Jekyll supported GitHub-style fenced code blocks). It wasn’t too hard to make
it because it’s really simple. I don’t know how to make a smarter one, for
example one that puts ruby as the default language, but let’s you start typing
immediately to replace it with something else, and then hit tab to jump to the
middle (a behavior I’ve seen with snippets in Sublime Text for example).</p>

<p>Here’s what it looks like, straight from my vimrc:</p>

<div class="language-vim highlighter-rouge"><pre class="highlight"><code>  
    nnoremap hii <span class="k">i</span>```<span class="k">ruby</span><span class="p">&lt;</span>ESC<span class="p">&gt;</span><span class="k">o</span>```<span class="p">&lt;</span>ESC<span class="p">&gt;</span>O
  
</code></pre>
</div>

<p>I’ll translate to English:</p>

<p>When I’m in normal mode, and I type <code class="highlighter-rouge">hii</code>, act like I typed the following
stuff, which I would’ve done if I had typed it out manually:</p>

<ul>
  <li><code class="highlighter-rouge">i</code> to go into insert mode</li>
  <li>type out the first line’s stuff</li>
  <li><code class="highlighter-rouge">&lt;ESC&gt;o</code> to exit insert mode, create a newline, go to that new line, and go
back to insert mode</li>
  <li>type out the second line’s stuff</li>
  <li><code class="highlighter-rouge">&lt;ESC&gt;O</code> to exit insert mode, create a newline above the second line, go to
that new line, and go back to insert mode</li>
</ul>

<p>It’s not much and I’m not even sure I’m using the word macro right but it’s
mine.</p>

<p><strong>Edit April 2015</strong>: Turns out <code class="highlighter-rouge">hii</code> was a pretty bad choice, because it starts
with <code class="highlighter-rouge">h</code>, which I type all the time in normal mode. It’s the left arrow!
Whenever I type <code class="highlighter-rouge">h</code> now, it doesn’t immediately move left, it hangs a moment
while it waits to see if I really mean just <code class="highlighter-rouge">h</code>, or if I’m gonna continue and
write <code class="highlighter-rouge">hii</code>. So, I’ve changed it from <code class="highlighter-rouge">hii</code> to <code class="highlighter-rouge">&lt;Leader&gt;hii</code> and now I’m happy
again.</p>

<p>Note: the default Leader character is <code class="highlighter-rouge">\</code>.</p>

  </div>

  <div class="post-footer">
    <p>
      Feel free to get in touch via <a href='http://twitter.com/maxjacobson'>@maxjacobson</a> or <a href='mailto:max@hardscrabble.net'>max@hardscrabble.net</a>
    </p>
  </div>

</div>


<footer>
  <div>
    Powered by <a href="http://jekyllrb.com/">Jekyll</a>
    and hosted on <a href="https://pages.github.com/">GitHub Pages</a>.
    The source is <a href="https://github.com/hardscrabble/hardscrabble.github.io">available to browse, for nerds</a>.
    The feed can be found at <a href="/feed.xml">feed.xml</a>
  </div>
</footer>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<script src='/js/vendor/lunr.min.js'></script>
<script src='/js/app.js'></script>


<script src="//static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">try{ clicky.init(100815498); }catch(e){}</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100815498ns.gif" /></p></noscript>
</body>
</html>


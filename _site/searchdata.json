{
  "posts": [
    
      {
        "date": "21 Aug 2016",
        "title": "Using git to track git",
        "url": "/2016/git-tracking-git",
        "content": "<p>I made a screencast to share a fun idea I had while exploring a bit how git works.</p>\n\n<p>You may know that when you use git to track a project, it creates a hidden <code class=\"highlighter-rouge\">.git</code> directory with some files in it.\nBut what actually goes on in there?\nAnd when do the contents of those files change?</p>\n\n<p>Here’s the idea: I know a tool for tracking the changes to a directory over time, and that tool is git itself!</p>\n\n<p>So in this screencast you can see me try and do that – I initialized a git repository, which created a <code class=\"highlighter-rouge\">.git</code> folder, and then I initialized <em>another</em> git repository within that <code class=\"highlighter-rouge\">.git</code> directory.</p>\n\n<iframe src=\"https://player.vimeo.com/video/179684267?title=0&amp;byline=0&amp;portrait=0\" width=\"640\" height=\"486\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n\n<p>I still don’t have a really great understanding of how git represents the data, although I’ve read Mary Rose Cook’s very good essay about this topic <a href=\"https://codewords.recurse.com/issues/two/git-from-the-inside-out\">Git From The Inside Out</a>, which does contain those answers (I read it a while ago and forgot the details).</p>\n\n<p>But I feel like I learned a few things thru this little experiment, specifically about <em>when</em> they change.</p>\n"
      }
      
        ,
      
    
      {
        "date": "17 Aug 2016",
        "title": "jfk",
        "url": "/2016/jfk",
        "content": "<p><em>Note: this is a sort of personal story about a stressful experience. I’m writing it because I want to remember it.</em></p>\n\n<p>Last week I was on vacation in Berlin, and this week I’m jumping back into my work life.\nBoth things are great!\nIn-between something wasn’t great.</p>\n\n<figure>\n  <img src=\"/img/2016-08-14-my-airbnb.jpg\" alt=\"My airbnb in Berlin\" />\n  <figcaption>My airbnb in Berlin. 9:53</figcaption>\n</figure>\n\n<p>I had a few hours laid over in Copenhagen before my flight into JFK.\nI spent them doing laps around the terminal looking for something vegetarian to eat.\nWhile walking I listened to a few episodes of the Bike Shed podcast, which I’m a few months behind on.\nEventually I found and ate some nachos, which I happily ate while reading Squirrel Girl.\nAll that, fine.</p>\n\n<p>The flight was uneventful.\nNorwegian Air.\nI got around to watching Carol.\nI probably need to rewatch it on a bigger screen.\nSolid.\nSlept a bit.\nSo far so good.</p>\n\n<p>A husky American in a striped polo shirt sat on my right.\nA young Swedish woman slept on my left.\nNone of us really talked much, except mild small talk about whether you need to declare spices at customs.\n(She asked me.\nI had no idea, but I said eh, you can probably get away with not mentioning it.\nI think she declared anyway.)\nShe told me she’s a student on her way to Arkansas to study abroad, and she’s just transfering in New York.</p>\n\n<p>When we landed, around 8pm, we couldn’t disembark right away.\nThe pilot cited weather.\nThey played music.\nPeople kept watching movies and TV.\nI think I didn’t disembark until around 9:40pm.\nI remember joking to the Swedish woman that if it wasn’t for the music, I might be kinda impatient, but with it I’m pretty content.\nThe playlist ran out of songs and looped back on itself.\nI only noticed because it was mostly upbeat pop songs, but then also <a href=\"https://www.youtube.com/watch?v=erqpdc9W8F8\">Blue Bucket of Gold</a> by Sufjan Stevens, a very slow and beautiful song about feeling lonely and alienated.\nAnd I didn’t realize it was Sufjan Stevens (who I really like) until it came on a second time and I laughed at how random that is.\nThen I fell asleep for a bit.</p>\n\n<p>When we did start to disembark, I put on my big black backpack, but then we were asked to sit down again, and I took it off.\nA few minutes later, people started moving again and we flowed off the plane.\nI said “thanks” to the flight attendants, thinking they were probably getting a lot of shit from impatient passengers and strolled down the jet bridge (a term I only learned this week) toward customs.\nI was kind of tired; I’d just been napping with my forehead against a television.\nAll I was thinking about was how to get home, weighing the choice of springing for a cab or just taking the train.</p>\n\n<p>But first, customs.\nI got on the end of a long line, putting in my earbuds and selecting <a href=\"https://www.youtube.com/watch?v=Bdtrgr4LPgY\">Hotline Operator</a>, a song which bristles with an impatient energy.\nBecause people were impatient, they pressed forward, as though becoming dense would make the line move faster.\nSome others got on the stationary moving sidewalk to move farther ahead in the line.\nI remember thinking it was like people driving on the shoulder of a highway to pass you.\nWithout putting a lot of effort into hanging back, I was pretty much at the way back of the line.\nI couldn’t see all the way to the front.\nI started thinking about taking off my heavy backpack with the expectation that I would be standing for a while.\nWhen I expect to be bored for a while I kind of let my body go into autopilot and let my mind wander for a while, and that’s what I was starting to do.</p>\n\n<p>I’m not sure what exactly snapped me back to reality, but the next thing I knew I was running, and so was everyone else.\nIn only a few seconds, hundreds of mostly stationary people facing one way turned and ran the other way, toward me.\nYou don’t really question that, you just go.\nYou don’t really have another option.\nNot that you’re thinking at all.</p>\n\n<p>The gush of humanity I was swept up in elected to run down a jet bridge.\nThere were several abandoned rolling suitcases blocking the path.\nI knew people were charging behind me and were probably going to stumble on them, and I grab one by the handle and run with it in my hands.\nAt the entrance to the plane, I set it to the side.\nThis is the one good deed I did all night, I think, and I still left a bunch behind.</p>\n\n<p>The Air Korea flight attendants were confused and kind of angry that these people were rushing onto their plane.</p>\n\n<p>“What is happening??” one asked the streaming crowd.</p>\n\n<p>I told her the crowd has panicked and I didn’t know why, but it seemed like maybe there’s a shooter, but I didn’t know.</p>\n\n<p>That seemed like the only explanation.\nPeople in the front must have seen something and bolted, understandably.\nWhat else could it be?\nNo one needed to say it – we all knew, right away.\nAnd people did start saying it.</p>\n\n<p>I felt incredibly alert.\nI would notice later my mouth was dry as a bone.</p>\n\n<p>I paused in first class and moved into a seat to get my bearings.\nSome came panting, others crying onto the plane, everyone flowing into the back as though for a takeoff.\nI saw a woman calling for her son; they were separated in the chaos.\n“What does he look like?”, someone asked.\n“He’s ten years old”, she said.\nI saw another mother holding her young, sobbing son to her stomach and telling him, “It’s okay. It’s okay.”\nI wrote a text to my family:</p>\n\n<blockquote>\n  <p>I’m safe.\nThere was a a panic at the airport.\nCrowd ran.\nI’m sitting on an airplane right now.\nDifferent one than I disembarked from.\nFollowed running crowd.\nNo signal.\nNot sure if this will send.\nWriting at 22:07 ET\nWill update.\nI am safe</p>\n</blockquote>\n\n<p>I see now that it went through ten minutes later.</p>\n\n<p>I wasn’t sure how safe I was.\nEven on the plane, I felt exposed and at risk.\nI was tempted to move to the right side of the plane to be just a little farther from the terminal.\nBut I needed to send that.</p>\n\n<p>I saw the Swedish woman, shocked, move into the back of the plane, and I joined her in a seat.</p>\n\n<p>“What the fuck is going on?” I asked, and she didn’t reply.</p>\n\n<p>Somehow, for some reason, the flight attendants communicated to us that it was time for us to get off the plane.\nI don’t recall if we were instructed to go back down the jet bridge.\nI don’t recall if the plane was becoming full of people.\nWhat happened next is that people started opening the emergency exits.\nMaybe that’s why.\nThey couldn’t manage to open the emergency exit in the rear of the plane.\nI recall seeing some kind of component hanging by a wire, and a flight attendant poking at it like, “well, this one isn’t opening”.\n“Stay calm”, an elderly woman urged everyone.</p>\n\n<p>The mid-plane emergency exits were both open, and the one on the left (facing the terminal) had a slide going down to the tarmac.\nThe one on the right had no slide, it was just open twenty something feet above the hard ground.\nOne flight attendaant stood spread-eagle in front of it to make sure people knew not to go that way.\nAnother stood by the slide, metering us out, telling us when to go.\nThe two women shouted to each other in Korean over the din.</p>\n\n<p>Ahead of me, people were sliding down to the tarmac and jogging around a corner of the terminal.\nI jumped, slid, and hit the ground running after them.\nI passed a man taking shelter in a corner behind what might have been gas tanks, and I was tempted to join him, but I ran on with the bigger group.</p>\n\n<p>Around the corner, we reached a barbed-wire fence.\nI assume the idea is to make it harder to access the tarmac, but in the moment many people felt trapped.\nI saw some people pushing a bright yellow dumpster toward the fence, with the idea that they could use it to jump the fence.</p>\n\n<p>I took several photos from this point on, nearly all of which came out blurry beyond interpretation.</p>\n\n<figure>\n  <img src=\"/img/2016-08-14-22.19-corner-dumpster.jpg\" alt=\"The crowd and dumpster in the corner\" />\n  <figcaption>The crowd and dumpster in the corner. 22:19</figcaption>\n</figure>\n\n<p>My sister texted me:</p>\n\n<blockquote>\n  <p>Max?</p>\n</blockquote>\n\n<p>The rest of my family was in London, and sleeping, but Gaby was awake.\nI told her I was safe and to tell me if there’s anything in the news about JFK.\nThen I fired off a tweet:</p>\n\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">I am at JFK airport. I am safe. Something is happening. Please text or mention if you know what. Crowd is panicking</p>&mdash; Max Jacobson (@maxjacobson) <a href=\"https://twitter.com/maxjacobson/status/765011277186031616\">August 15, 2016</a></blockquote>\n\n<p>I sent tweets intermittently for the rest of the night, most of which have typos because I wrote them quickly while afraid.</p>\n\n<p>People weren’t sure what to do.\nPersonally, my plan was to stay put and wait for a hero.\nI think some others probably felt the same way.\nOpinions varied on where was safest to physically stand.\nThere was a large, open garage (I think that’s what you’d call it, although I don’t recall seeing any vehicles), which some stood within.\nThis seemed like a good idea in the event that attackers came around the corner.\nOthers seemed suspicious that attackers might come from inside the garage, and stood vigilant, eyes darting between the garage and the tarmac.</p>\n\n<p>Around this point a policeman came and told us to follow him around the corner back toward the customs area, where there are more police.\nWhen he saw the people pushing the dumpster he shouted after them, something like, “You are NOT going to do that.”\nA woman asked him what the plan was, said she wouldn’t go unless there was a plan.\nHe made the point that he was going to walk us there, and what, is he going to willfully put himself in danger?\nThis argument, an appeal to a relatable self-preservation, seemed to make sense to the crowd.</p>\n\n<p>We started cautiously walking.</p>\n\n<figure>\n  <img src=\"/img/2016-08-14-22.28-overpass.jpg\" alt=\"The crowd under an overpass\" />\n  <figcaption>The crowd inching under an overpass toward customs. 22:28</figcaption>\n</figure>\n\n<p>We were all hugely reluctant to move back in the direction of airplane and customs.\nAs we inched forward I saw silhouettes of figures in the windows of the terminal, some walking, some standing and watching us.\nI didn’t know what to make of that.\nA child let out a screaming cry, and everyone immediately turned to run back toward the corner, which had somehow started to feel safe, and not worth leaving.</p>\n\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">Crowd is still and then turns to run like a herd. &quot;It was just a child&#39;s scream&quot; no need to run someone says</p>&mdash; Max Jacobson (@maxjacobson) <a href=\"https://twitter.com/maxjacobson/status/765013552411410437\">August 15, 2016</a></blockquote>\n\n<p>I saw a woman was running barefoot.</p>\n\n<p>“I’m faster this way”, she said.</p>\n\n<p>Gaby:</p>\n\n<blockquote>\n  <p>Something at terminal 1 and 8</p>\n\n  <p>They are bringing in bomb squad</p>\n\n  <p>What is your battery %</p>\n\n  <p>If you feel safe please save battery</p>\n\n  <p>They haven’t found shooter or anyone injured as of now</p>\n</blockquote>\n\n<p>Me:</p>\n\n<blockquote>\n  <p>100%. I feel safe right now</p>\n\n  <p>Battery pack baby</p>\n</blockquote>\n\n<p>Slowly the policeman and some other airport staffers coaxed us back toward customs, and two doors which went directly from the tarmac into the big open room.\nPeople were very reluctant to enter.\nI had the sense that the room must be safe if I’m being told to enter it, and I went in.</p>\n\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">People reluctant to go inside but I&#39;m in and so are many. Air conditioned. Noisy chatter</p>&mdash; Max Jacobson (@maxjacobson) <a href=\"https://twitter.com/maxjacobson/status/765014717614153732\">August 15, 2016</a></blockquote>\n\n<p>Inside, I was shocked to find that there were already dozens of people queueing in an orderly fashion to go through customs.\nI couldn’t see if anyone was actually at the desks to process them.\nBeyond the desks, the airport seemed well-lit and deserted.</p>\n\n<p>I didn’t feel safe getting on the line; I’d seen this crowd turn into a stampede in seconds.\nI stood near the doors and tweeted this:</p>\n\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">Until further notice I am more afraid of the crowd being inside and panicking ahain</p>&mdash; Max Jacobson (@maxjacobson) <a href=\"https://twitter.com/maxjacobson/status/765015993546661889\">August 15, 2016</a></blockquote>\n\n<p>And a few minutes later, it happened.\nSomething spooked the crowd and they bolted for the doors, feeling safer on the tarmac.\nI think they believed an active shooter must have still been in the terminal, even though some semblance of order was beginning to form…\nOutside I tweeted this (compare the timestamp to the previous one):</p>\n\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">Crowd panicked and ran outside. Pipe of people at doorway. Outside again</p>&mdash; Max Jacobson (@maxjacobson) <a href=\"https://twitter.com/maxjacobson/status/765016110991339520\">August 15, 2016</a></blockquote>\n\n<p>I meant “pile”, not pipe.\nHere’s what I saw:</p>\n\n<figure>\n  <img src=\"/img/2016-08-14-22.41-pile.jpg\" alt=\"People struggling to leave customs\" />\n  <figcaption>People struggling to leave customs, and one tarmac staffer helping a fallen person get up. 22:41</figcaption>\n</figure>\n\n<p>At this point I saw people were starting to move way in the opposite direction of customs, to the far edge of the tarmac.\nI saw why: there were 2 shuttle buses there, and people were getting on them.\nI walked under an airplane toward the buses.</p>\n\n<figure>\n  <img src=\"/img/2016-08-14-22.46-under-airplane.jpg\" alt=\"View of airplane from below\" />\n  <figcaption>I made my way under an airplane. 22:46</figcaption>\n</figure>\n\n<figure>\n  <img src=\"/img/2016-08-14-22.47-buses.jpg\" alt=\"Buses in the distance\" />\n  <figcaption>I made my way toward these buses. 22:47</figcaption>\n</figure>\n\n<p>A crowd formed here, hopeful.\nWe’re getting outta here.\nThe two buses became full and left.\nI have no idea where they went.\nWe waited, hopeful that more would come.</p>\n\n<p>I took the opportunity to update Gaby, tweet a few updates, and search for any news.\nMy twitter feed was full of people talking about the Olympics and or the election.\nI remember feeling slightly stunned that the whole world wasn’t talking about me.\nEvery minute or two I got notifications of people sharing or replying to my tweet updates.\nSome folks mentioned or direct messaged me asking questions and providing updates from police scanners and news reports.\nNo one knew anything.\nOne BBC reporter mentioned me asking if I wanted to do an interview when I feel safe; a reporter from a talk radio show asked me if I could confirm that shots were fired.</p>\n\n<p>I felt the need to offer this update:</p>\n\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">Just to repeat the point, I didn&#39;t personally observe any guns or packages, just panicked crowds, and I ran with them. Still feel safe</p>&mdash; Max Jacobson (@maxjacobson) <a href=\"https://twitter.com/maxjacobson/status/765020584170381312\">August 15, 2016</a></blockquote>\n\n<p>I didn’t know if there was a shooting or not.\nI wanted to believe there hadn’t been.\nI knew there was a lot of confusion both among the passengers on the tarmac and among the people replying to my tweets.\nI couldn’t clear away the confusion but I wanted to emphasize to anyone who was following the story not to assume the worst.</p>\n\n<p>After more than 20 minutes of standing restlessly and comparing confused notes with each other, three more buses arrived.\nI got on the last bus.\nThe last person to board the bus before the door closed was a young guy who reminded me of my 20 year old cousin Eric from Georgia.\nHe asked if I knew anything.\nSaid his phone died.\nSaid he got separated from his sister.</p>\n\n<p>“How old is she?” I asked</p>\n\n<p>“Nineteen”, he said.</p>\n\n<p>Nearby a guy in a Panini Express shirt told us he was working when his boss suddenly turned and ran without saying anything.\nThe next thing he saw was a traveler crawling behind the counter for shelter.</p>\n\n<p>We waited on the bus for about ten minutes when an airport staffer boarded in the front and cheerfully, loudly gave us directions.</p>\n\n<p>“Alright, here’s what we’re gonna do”, he projected.\n“We’re going to exit the front of the bus and follow [muffled muffled].\nOK? Do you understand? Who understands?”</p>\n\n<p>He spoke with the cadence of a DJ trying to get the party started.\nI had missed some of what he said, but I still felt kind of compelled to echo back, “I understand!”\nThis was the clearest instructions I heard all night.\nGive that guy a medal.</p>\n\n<p>The bus was packed, and there was a second exit in the back.\nA woman shouted out to the bus driver, “Back door!”\nThe kind of thing you might shout on a city bus on a normal day, when the door hasn’t opened.\nI couldn’t help but wonder if the front door was somehow safer than the back door, and that was why we were being told explicitly to exit through the front door.</p>\n\n<p>Upon exiting I followed a stream of people back toward customs.\nThe crowd was much bigger now than before, and much calmer.\nThere were more police.\nAt some point a fire truck showed up.\nPeople started to relax, breath, sit.</p>\n\n<figure>\n  <img src=\"/img/2016-08-14-23.28-crowd.jpg\" alt=\"Gathering crowd on tarmac\" />\n  <figcaption>Gathering crowd on tarmac. 23:28</figcaption>\n</figure>\n\n<figure>\n  <img src=\"/img/2016-08-14-23.31-torn-shirt.jpg\" alt=\"Crowd including man with torn shirt\" />\n  <figcaption>Man with torn shirt in crowd. 23:31</figcaption>\n</figure>\n\n<figure>\n  <img src=\"/img/2016-08-14-23.39-prayer.jpg\" alt=\"Woman in crowd prays\" />\n  <figcaption>Woman in crowd was praying to herself. 23:39</figcaption>\n</figure>\n\n<p>I noticed my dad has replied to me:</p>\n\n<p>Dad (23:19, 5:19 in London):</p>\n\n<blockquote>\n  <p>Just got up to pee.\nAny new updates?\nNews at 15 minutes ago says unconfirmed reports of gun shots at terminal 8 &amp; 1 (yours)</p>\n</blockquote>\n\n<p>I told him where I was and that it was much calmer now.</p>\n\n<p>Dad:</p>\n\n<blockquote>\n  <p>Be patient &amp; be a calming influence.\nSee if anyone is alone &amp; nervous</p>\n</blockquote>\n\n<p>Me:</p>\n\n<blockquote>\n  <p>Yep</p>\n</blockquote>\n\n<p>I pictured my mom sleeping and my dad glued to his phone.</p>\n\n<p>The Swedish woman approached me.</p>\n\n<p>“Hey”, she said.</p>\n\n<p>I was shocked and very relieved to see a familar face.\nI had been traveling alone on my vacation and kind of reveling in the freedom to do whatever I wanted at any time.\nBut during this incident I wasn’t myself, wasn’t independent, I was just alone, an unindividuated animal in a suspicious herd.\nWe shared a water bottle she got from a fireman.\nI started to feel like a human again.</p>\n\n<p>She missed her transfer to Arkansas and was on the phone with her friend in New York to see if she could stay there.</p>\n\n<p>Many people sat down.\nI realized I felt safe enough to sit down.</p>\n\n<p>Soon we started queueing toward customs and I felt safe getting in line.\nA young woman stood with us for a while, seemingly wanting not to be alone.</p>\n\n<p>We parted ways inside, and I went through customs.\nI think it was quiet.\nThe kiosk was working, and I punched in that I wasn’t planning to declare any food, spices, or anything.\nI was glad I held onto my backpack as I dug my passport out.</p>\n\n<p>The young southern man from the bus was ahead of me in line.</p>\n\n<p>“I found her”, he said, indicating his nineteen year old sister.</p>\n\n<p>It took me a moment to register who he was and figure out what to say.</p>\n\n<p>“I’m really glad to see that”, I finally said.</p>\n\n<p>The police officer checked my passport and barely glanced at my customs slip.</p>\n\n<p>“You’re okay”, he said, and stamped my passport.</p>\n\n<p>As I exited baggage claim, I was met by a huge group of people waiting for the long-overdue terminal 1 arrivals, and felt momentarily like they were all there just for me, just to tell me I had been brave and I could rest now.</p>\n\n<figure>\n  <img src=\"/img/2016-08-15-00.27-welcome.jpg\" alt=\"Crowd at arrivals\" />\n  <figcaption>Crowd at arrivals. 00:27</figcaption>\n</figure>\n\n<p>I felt destabilized by how normal operations were on this side of the terminal, when it had been such fright and chaos on the tarmac.</p>\n\n<p>There was <em>no question</em> I was taking a taxi.\nI waited for a while and ended up sharing one with three other people.\nThe dispatcher was long gone, so the drivers were free to negotiate whatever prices they wanted.\nNo problem.</p>\n\n<p>On the drive home, we compared notes.\nA guy my age sat in the front seat, and a mother and teenaged daughter sat with me in the back.\nThe news was saying it was all a false alarm and that there was no evidence of a shooter or a bomb or anything.\nThe daughter said something about how scary the night had been for her, and her mother made the point, “We were never actually in danger at any point.”</p>\n\n<p>When I eventually found my way to my bed (around 2:30) and closed my eyes, I felt waves of cold energy coursing through my limbs.</p>\n\n<hr class=\"fancy\" />\n\n<p>If you’re curious for another experience of this night, read this article: <a href=\"http://nymag.com/daily/intelligencer/2016/08/the-terrifying-jfk-airport-shooting-that-wasnt.html\">Scenes From the Terrifying, Already Forgotten JFK Airport Shooting That Wasn’t</a> which captured a lot of what I felt and am feeling and also filled in some details for me.</p>\n\n<p>This passage jumped out like a lightning bolt:</p>\n\n<blockquote>\n  <p>The fact that there had been, actually, nothing to panic about was an enormous relief, of course. But it made things all the more eerie the next morning, when we woke up feeling like survivors of a ghost trauma, a minor local-news story. For several hours, we were in the flood of panic and chaos of an ongoing act of terror. There’s no other way to describe it. That it was an overreaction almost doesn’t matter; in fact, that is how terrorism works.</p>\n</blockquote>\n\n<p>Reading it made me feel some amount of relieved and want to write something myself.</p>\n"
      }
      
        ,
      
    
      {
        "date": "30 Jul 2016",
        "title": "integrating vim with the mac clipboard",
        "url": "/2016/integrating-vim-with-the-mac-clipboard",
        "content": "<p>Using terminal text editors has a lot of advantages, but for a while the biggest disadvantage I’ve felt as a vim user is that it’s kind of hard to interact with the system clipboard.\nI’m aware that there’s a concept called “registers” which are something like multiple clipboards that you can copy and paste from, and one of them is the system clipboard, and the others are all virtual, or something like this, but I haven’t taken the time to really learn how those work yet.</p>\n\n<p>If I want to copy a helpful code snippet from Stack Overflow into vim and I copy it to the mac clipboard, and then press “command + v” to paste it into vim, the indentation gets totally screwed up.\nThis is becuse vim is trying to help.\nIt doesn’t know that I just pasted, it thinks that I was suddenly just typing <em>super super fast</em> and each newline character I “typed” caused it to helpfully auto-indent the appropriate amount.\nWhen I actually am typing, this is helpful.\nBut when I’m pasting, it’s kind of annoying.</p>\n\n<p><img src=\"/img/2016-07-30-vim-bad-paste.png\" alt=\"Pasting into vim doesn't work well\" /></p>\n\n<p>(You can see in this example that not only is the indentation screwed up, but also there is an extra <code class=\"highlighter-rouge\">end</code> which <a href=\"https://github.com/tpope/vim-endwise\">vim-endwise</a> helpfully tried to auto-insert)</p>\n\n<p>The workaround I’ve used for a while is to always run <code class=\"highlighter-rouge\">:set paste</code> before I paste, and then <code class=\"highlighter-rouge\">:set nopaste</code> afterward.\nThis mode doesn’t auto-indent.\nIt also breaks a number of my other vim configurations, such as <code class=\"highlighter-rouge\">jk</code> being an alias for the escape key.</p>\n\n<p>Pretty annoying.</p>\n\n<p>Copying text out of vim is even more difficult.\nI can use my mouse to highlight the text I want to copy and then press “command + c” to copy it, but this is pretty awful, too, because it’s very easy to accidentally copy things like line numbers (which are just text in the terminal, and your mouse doesn’t know to avoid it) or to even copy text from multiple files which you happen to have open side by side in split buffers, such that the code is totally broken when you paste it out again.</p>\n\n<p><img src=\"/img/2016-07-30-vim-split-buffer.png\" alt=\"Copying from vim split buffer doesn't work well\" /></p>\n\n<p>My workaround for this is even worse! I generally close my splits, turn off line numbers (<code class=\"highlighter-rouge\">:set nonumber</code>) and sometimes make my font smaller so I can fit the whole lines on my screen and select the text and copy it.\nWhen I do this, I generally pick up a bunch of trailing whitespace that wasn’t there in the source code.\nIt totally stinks.</p>\n\n<p>Sometimes I will just open the file in <a href=\"https://atom.io\">Atom</a> so I can copy text in a sane way.</p>\n\n<p>Other times I will run <code class=\"highlighter-rouge\">:! cat % | pbcopy</code> to “shell out” to a bash command and copy the entire contents of the file to the clipboard.<sup id=\"fnref:1\"><a href=\"#fn:1\" class=\"footnote\">1</a></sup></p>\n\n<p>OK.\nSo obviously that sucks, right?\nThat’s just some context for how I’ve been doing things.\nI meant to look into a better technique and never got to it.</p>\n\n<p>The other day at work I saw my coworker Will very seamlessly copy some text out of vim and paste it into Slack.</p>\n\n<p>Scandalized, I asked him how he had done that.\nHe told me he’s using <a href=\"https://neovim.io\">neovim</a> and it’s probably something neovim does.</p>\n\n<p>I made a note to look into it.\nI’m open to the idea of using neovim instead of regular vim – I think it’s cool that you can <a href=\"https://neovim.io/doc/user/nvim_terminal_emulator.html\">run a terminal inside vim</a>, which makes me wonder if I even need tmux…</p>\n\n<p>One of the first things I found in my research was <a href=\"https://github.com/neovim/neovim/issues/583\">a neovim issue from April 2014</a> about how some vim configuration was working in vim but not neovim</p>\n\n<blockquote>\n  <p>… the follwing works perfectly fine with mainline vim, “y” and “p” work with X clipboard:</p>\n\n  <div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>set clipboard=unnamedplus\n</code></pre>\n  </div>\n\n  <p>but not for neovim.</p>\n\n  <p>I’ve tried setting it to:</p>\n\n  <div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>set clipboard=unnamed\n</code></pre>\n  </div>\n\n  <p>still works in vim, but not neovim.</p>\n</blockquote>\n\n<p>Hm. Wait. Does this mean vim already supports clipboard integration this whole time and no one told me!?</p>\n\n<p>Indeed, yes, and this is why I’m writing this blog post to tell you.\nI feel like there’s a good chance you already knew.</p>\n\n<p>So yep, I <a href=\"https://github.com/maxjacobson/dotfiles/commit/0d4bd62bef49c4607e6e4349f16ae24a3be5949b\">added</a> that second config option to my .vimrc and now it works great:</p>\n\n<ul>\n  <li>I can yank text from vim and then “command + v” it into other apps.</li>\n  <li>I can copy text from Stack Overflow and then “p” it into vim – no weird indentation behavior or anything</li>\n</ul>\n\n<p>I may yet switch to neovim<sup id=\"fnref:2\"><a href=\"#fn:2\" class=\"footnote\">2</a></sup> or learn about registers, but for now I don’t yet need to, and for that I celebrate.</p>\n\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:1\">\n      <p>The <code class=\"highlighter-rouge\">!</code> means to run a bash command; the <code class=\"highlighter-rouge\">%</code> will expand to refer to the file name; <code class=\"highlighter-rouge\">pbcopy</code> is a mac thing for piping data to your clipboard. <a href=\"#fnref:1\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:2\">\n      <p>Note that neovim did fix that issue and <a href=\"https://neovim.io/doc/user/provider.html#provider-clipboard\">it does work now</a>. <a href=\"#fnref:2\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "09 Jun 2016",
        "title": "the first useful thing I wrote in Rust",
        "url": "/2016/the-first-useful-thing-i-wrote-in-rust",
        "content": "<p>I’ve been interested in the <a href=\"https://www.rust-lang.org\">Rust programming language</a> for a while, but it wasn’t until this week that I wrote something in it which I found useful.</p>\n\n<p>Let’s rewind.\nI like to have a random, nice emoji in my shell prompt.\nIt’s just to add a little flair to the proceedings, some color.\nThe emoji don’t <a href=\"http://maximomussini.com/posts/bash-git-prompt/\">mean anything</a>, they’re just for fun.</p>\n\n<p>My shell prompt is <a href=\"https://github.com/maxjacobson/dotfiles/blob/c3ca325eb27173046bb504327f7a30613416c5f8/.zsh-customizations/terrorhawk.zsh-theme#L23\">set like this</a>:</p>\n\n<div class=\"language-shell highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nv\">PROMPT</span><span class=\"o\">=</span><span class=\"s2\">\"%F{grey}%C%f </span><span class=\"se\">\\$</span><span class=\"s2\">(random_nice_emoji) </span><span class=\"se\">\\$</span><span class=\"s2\">(git_prompt) \"</span>\n</code></pre>\n</div>\n\n<p><code class=\"highlighter-rouge\">random_nice_emoji</code> is a command line program on my PATH.\n<code class=\"highlighter-rouge\">git_prompt</code> is a shell function.\nThe <code class=\"highlighter-rouge\">\\$(...)</code> syntax means that the program or function should be called each time the prompt is drawn, not just once when you first open your terminal.</p>\n\n<p>I could have written <code class=\"highlighter-rouge\">random_nice_emoji</code> as a shell function if I could figure out how to use shell arays, but I could not.</p>\n\n<p>Instead I wrote it as a simple ruby script:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\">#!/usr/bin/env ruby</span>\n\n<span class=\"nb\">print</span> <span class=\"sx\">%w(\n  🐖\n  😅\n  🌸\n  🐙\n  🎑\n  🖌\n  ☕\n  📊\n  🐋\n  🌈\n  ✨\n)</span><span class=\"p\">.</span><span class=\"nf\">sample</span>\n</code></pre>\n</div>\n\n<p>And my prompt looks like this:</p>\n\n<p><img src=\"/img/2016-06-09-prompt.png\" alt=\"my prompt, where each line includes a random fun emoji\" /></p>\n\n<p>But over time I noticed that it was kind of….. slow.\nAnd I started to wonder if maybe my fun affectation was worth it.\nSome benchmarking suggests that this program takes about a tenth of a second to run.\nThat’s not a lot, really.\nBut we can do better.</p>\n\n<p>Maybe the shell function would be much faster, but yea, still don’t know how to use shell arrays.</p>\n\n<p>So let’s try writing this little script as a Rust program – Rust is supposed to be fast!</p>\n\n<p>To make a new command line program in Rust, you can <a href=\"http://doc.crates.io/#lets-get-started\">use Cargo</a> to scaffold the project:</p>\n\n<div class=\"language-shell highlighter-rouge\"><pre class=\"highlight\"><code>cargo new random_nice_emoji --bin\n</code></pre>\n</div>\n\n<p>The <code class=\"highlighter-rouge\">--bin</code> part means that it will be a command line program.\nWithout it, I think the idea is that you’re making a package which will be used in an application.</p>\n\n<p>That command crates a directory called <code class=\"highlighter-rouge\">random_nice_emoji</code>, and within that there is a file <code class=\"highlighter-rouge\">src/main.rs</code> which is where you put your code which should run when the command line program is invoked.</p>\n\n<p>Here’s what I came up with (I’m really new to Rust so this isn’t necessarily good code):</p>\n\n<div class=\"language-rust highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">extern</span> <span class=\"n\">crate</span> <span class=\"n\">rand</span><span class=\"p\">;</span>\n<span class=\"k\">use</span> <span class=\"nn\">rand</span><span class=\"p\">::</span><span class=\"nn\">distributions</span><span class=\"p\">::{</span><span class=\"n\">IndependentSample</span><span class=\"p\">,</span> <span class=\"n\">Range</span><span class=\"p\">};</span>\n\n<span class=\"k\">fn</span> <span class=\"nf\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"c\">// cool, friendly emoji that look fine against a black terminal background</span>\n    <span class=\"k\">let</span> <span class=\"n\">list</span> <span class=\"o\">=</span> <span class=\"nd\">vec!</span><span class=\"p\">[</span><span class=\"s\">\"🐖\"</span><span class=\"p\">,</span> <span class=\"s\">\"😅\"</span><span class=\"p\">,</span> <span class=\"s\">\"🌸\"</span><span class=\"p\">,</span> <span class=\"s\">\"🐙\"</span><span class=\"p\">,</span> <span class=\"s\">\"🎑\"</span><span class=\"p\">,</span> <span class=\"s\">\"🖌\"</span><span class=\"p\">,</span> <span class=\"s\">\"☕\"</span><span class=\"p\">,</span> <span class=\"s\">\"📊\"</span><span class=\"p\">,</span> <span class=\"s\">\"🐋\"</span><span class=\"p\">,</span> <span class=\"s\">\"🌈\"</span><span class=\"p\">,</span>\n                    <span class=\"s\">\"✨\"</span><span class=\"p\">];</span>\n    <span class=\"k\">let</span> <span class=\"n\">between</span> <span class=\"o\">=</span> <span class=\"nn\">Range</span><span class=\"p\">::</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">list</span><span class=\"nf\">.len</span><span class=\"p\">());</span>\n    <span class=\"k\">let</span> <span class=\"k\">mut</span> <span class=\"n\">rng</span> <span class=\"o\">=</span> <span class=\"nn\">rand</span><span class=\"p\">::</span><span class=\"nf\">thread_rng</span><span class=\"p\">();</span>\n    <span class=\"k\">let</span> <span class=\"n\">index</span> <span class=\"o\">=</span> <span class=\"n\">between</span><span class=\"nf\">.ind_sample</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"k\">mut</span> <span class=\"n\">rng</span><span class=\"p\">);</span>\n    <span class=\"k\">let</span> <span class=\"n\">emoji</span> <span class=\"o\">=</span> <span class=\"n\">list</span><span class=\"p\">[</span><span class=\"n\">index</span><span class=\"p\">];</span>\n    <span class=\"nd\">print!</span><span class=\"p\">(</span><span class=\"s\">\"{}\"</span><span class=\"p\">,</span> <span class=\"n\">emoji</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</code></pre>\n</div>\n\n<p>I couldn’t find a super-simple <code class=\"highlighter-rouge\">sample</code> method, so I did my best to adapt the example from <a href=\"https://doc.rust-lang.org/rand/rand/index.html\">the docs for the rand crate</a> to achieve that behavior.</p>\n\n<p>You can install it yourself with <code class=\"highlighter-rouge\">cargo install random_nice_emoji</code>.\nMaybe I shouldn’t have released it because it’s not generally useful – but it’s very convenient for me so I can install it on multiple computers, for example.</p>\n\n<p>And this one usually finishes in 0.006 seconds – 16 times faster.\nAnd it was maybe 5 times harder to write?\nI’m hopeful that if I get better at Rust, that will go down.</p>\n\n<p>If you’re into Ruby and intrigured by Rust, I recommend checking out <a href=\"http://blog.skylight.io/introducing-helix/\">this Helix project</a> which makes it easy to embed Rust code in Ruby projects to ease performance hot spots.\nI haven’t used Helix yet, but that talk does a really great job of explaining the idea and was really inspiring to me.</p>\n"
      }
      
        ,
      
    
      {
        "date": "08 Jun 2016",
        "title": "Fun method names in Ruby",
        "url": "/2016/fun-method-names",
        "content": "<p>One thing I like about Ruby is that you can use a little punctuation in your method names, which can help you write expressions that read like nice sentences:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">delete_user</span> <span class=\"n\">user</span> <span class=\"k\">unless</span> <span class=\"n\">user</span><span class=\"p\">.</span><span class=\"nf\">special?</span>\n</code></pre>\n</div>\n\n<p>Kind of fun.</p>\n\n<p>I knew a guy who liked to use these question mark methods in conjunction with the ternary operator to write code that reads like a panicked friend:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">user</span><span class=\"p\">.</span><span class=\"nf\">special?</span><span class=\"p\">?</span> <span class=\"n\">protect</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"p\">)</span> <span class=\"p\">:</span> <span class=\"n\">delete</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>The double question mark always makes me smile, which makes me wonder…\nCan I just define a method with double question marks right in the method signature?\nLike this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">User</span>\n  <span class=\"k\">def</span> <span class=\"nf\">special?</span><span class=\"p\">?</span>\n    <span class=\"nb\">name</span> <span class=\"o\">==</span> <span class=\"s1\">'Max'</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Turns out: nope.\nThat’s a syntax error.\nNot valid Ruby code.</p>\n\n<p>Well…\nOK.\nBut this is Ruby, so there’s not just one way to do a thing.\nThere’s another way to define a method…\nLet’s try this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">User</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"nb\">name</span><span class=\"p\">)</span>\n    <span class=\"vi\">@name</span> <span class=\"o\">=</span> <span class=\"nb\">name</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"n\">define_method</span><span class=\"p\">(</span><span class=\"s2\">\"special??\"</span><span class=\"p\">)</span> <span class=\"k\">do</span>\n    <span class=\"vi\">@name</span> <span class=\"o\">==</span> <span class=\"s1\">'Max'</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"n\">define_method</span><span class=\"p\">(</span><span class=\"s2\">\"multi\n                line\n                method\n                name??\"</span><span class=\"p\">)</span> <span class=\"k\">do</span>\n    <span class=\"nb\">puts</span> <span class=\"s2\">\"sure, why not?\"</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"n\">define_method</span><span class=\"p\">(</span><span class=\"s2\">\"!?\"</span><span class=\"p\">)</span> <span class=\"k\">do</span>\n    <span class=\"s2\">\"‼\"</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"no\">User</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Max\"</span><span class=\"p\">)</span>\n<span class=\"n\">user</span><span class=\"p\">.</span><span class=\"nf\">public_send</span><span class=\"p\">(</span><span class=\"s2\">\"special??\"</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; true</span>\n<span class=\"n\">user</span><span class=\"p\">.</span><span class=\"nf\">public_send</span><span class=\"p\">(</span><span class=\"s2\">\"!?\"</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; \"‼\"</span>\n<span class=\"n\">user</span><span class=\"p\">.</span><span class=\"nf\">public_methods</span><span class=\"p\">(</span><span class=\"kp\">false</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; [:\"special??\", :\"multi\\n                line\\n                method\\n                name??\", :\"!?\"]</span>\n</code></pre>\n</div>\n\n<p>Haha that works!</p>\n\n<p>OK it’s not as satisfying calling the methods with <code class=\"highlighter-rouge\">public_send</code>, but as far as I know, it’s the only syntactically-correct way to call these methods.</p>\n"
      }
      
        ,
      
    
      {
        "date": "05 Apr 2016",
        "title": "Articulating my Vegetarianism",
        "url": "/2016/articulating-my-vegetarianism",
        "content": "<p><em>note: this is going to be sort of personal and self-indulgent and I’m mostly writing it for myself to work out some ideas and make some decisions</em></p>\n\n<p>I’m writing this from vacation, in Mumbai.\nLast year, I googled “best vegetarian cities” and Mumbai was near the top.\nNew York City, where I live, was also near the top.\nIt’s not a shock – New York has many specialty restaurants that focus on vegetarians and vegans, and almost any restaurant has something for me.\nBut after spending a few days in Mumbai, I think it’s truer here.</p>\n\n<p>In software, we sometimes talk about “sensible defaults”.\nIf you’re going to provide options to your user to change the behavior of your app, the default behavior should probably make sense for the majority of users.\nI don’t <em>think</em> the majority of Mumbaikers are vegetarian, actually, but the nomenclature suggests it.\nIt manifests like this:</p>\n\n<ul>\n  <li>FourSquare tips like “best place for non-veg in the city”.</li>\n  <li>Restaurant servers asking “veg or non-veg?”</li>\n  <li>Restaurant signs indicating that a place is “pure veg” (which I think means it’s suited for <a href=\"https://en.wikipedia.org/wiki/Jain_vegetarianism\">Jain vegetarians</a>)</li>\n</ul>\n\n<p>I like that the “non” is attached to “veg” and not “meat”.</p>\n\n<hr class=\"fancy\" />\n\n<p>If you become a vegetarian, people will want to know why.\nI’ve been a vegetarian for a little over three years, and I often struggle to come up with a good answer.\nThis dissatisfies people, myself included.</p>\n\n<p>The truthful answer is that <strong>I’m a vegetarian today because I was a vegetarian yesterday and for no other conscious reason</strong>.\nThis of course raises a few questions:</p>\n\n<ol>\n  <li><a href=\"#why-did-i-start-eating-vegetarian\">why did I start eating vegetarian?</a></li>\n  <li><a href=\"#what-do-i-like-about-eating-vegetarian\">what do I like about eating vegetarian?</a></li>\n  <li><a href=\"#what-do-i-do-next\">what do I do next?</a></li>\n</ol>\n\n<h2 id=\"why-did-i-start-eating-vegetarian\">1. Why did I start eating vegetarian?</h2>\n\n<p>In February 2013 my toe hurt.\nI thought maybe it was broken.\nI had a vague memory of stubbing it badly while walking in the snow.\nThere were drinks involved.</p>\n\n<p>The doctor x-rayed me and said it looked fine.\nNo broken toe or anything.</p>\n\n<p>“You probably have gout” (I paraphrase).</p>\n\n<p>Gout, as I understood it, is a form of arthritis.\nIf your diet is too purine-rich, uric acid causes crystallization in your joints, which can be painful or uncomfortable.\n(This is probably not a fully accurate definition of gout – I’m writing without WiFi currently and going from memory from a conversation 3 years ago)\nHe took some blood to assess the levels of uric acid and gave me a cheat sheet of foods to avoid.</p>\n\n<p>He didn’t tell me to become vegetarian.\nHe told me to moderate my levels of purine by limiting my consumption of specific foods to lower levels.\nThe list was kind of surprising to me: I recall spinach and oatmeal being on the no-fly list.\nThere were specific amounts of red meat I was recommended to eat in a week, limited to a few ounces.\nSimilarly for other meat, maybe a little more generous.</p>\n\n<p>I’ve never been a very conscientious eater.\nI still don’t feel like I understand the basics of nutrition.\nI wasn’t excited to memorize a list of foods to eat or to buy a kitchen scale.\nI decided to try eating vegetarian for a few weeks and see if the toe pain went away.</p>\n\n<p>It did.</p>\n\n<p>Curiously, the blood test showed normal levels of uric acid.\n<a href=\"https://en.wikipedia.org/wiki/Gout#Blood_tests\">I might’ve had it, anyway</a> although I may never know.</p>\n\n<p>I think in the first few weeks I was just superstitious and didn’t want the toe pain to return.\nIt was very inconvenient!\nI could barely walk.</p>\n\n<p>And then it became a habit and I forgot about stopping.</p>\n\n<hr class=\"fancy\" />\n\n<p>In the interim, I’ve bought a few books about veg* eating, but I think I’ve only finished one: Eat &amp; Run.\nIt’s a very inspiring memoir about a vegan ultra-marathoner.\nThis dude runs 100+ miles at a time powered by smoothies, salads, and black bean burritos.\nHe makes a very persuasive case for veganism as an ideal diet for some kinds of athletic pursuits.\nI’m not an athlete, but I do encounter people who insist that they “could never be vegetarian” because their gym regimen requires amounts of protein which would be impossible, inconvenient, impractical, or unaffordable to attain through a plant-based diet.\nThey’re probably right, I don’t know their life.\nOne takeaway from the book I took away is that most Americans are consuming too much protein.\nI like to share that when people worry about my protein.</p>\n\n<p>People worry about my protein all the time.\n“But how do you get your protein?”\nPeople need to know.\nI’ll tell ya: I don’t worry about it.\nI’m still not a very conscientious eater, and I feel pretty much fine.\nI think I feel a little better than before, but I don’t really remember.</p>\n\n<p>(This post continues not to be medical advice.)</p>\n\n<h2 id=\"what-do-i-like-about-eating-vegetarian\">2. What do I like about eating vegetarian?</h2>\n\n<p>There are a few benefits I’ve picked up on, which I’ll enumerate now, as they occur to me.</p>\n\n<h3 id=\"easier-decision-making\">Easier decision making</h3>\n\n<p>Some people talk about clothing this way: <em>I wear the same thing every day so I have one fewer decision to make each day.</em>\nI haven’t heard people talk about food in the same way, but I think it’s similar.\nI have the personality where I feel compelled to read the whole menu before I make a decision, lest I make the mistake of overlooking something I might like.\nHave you ever been to a diner?\nThese menus are an astonishment.\nI can get thru a menu much quicker when I can skip all of the non-veg items.\nNo more “please, come to me last”; I know what I’m ordering.</p>\n\n<h3 id=\"no-more-storing-and-cooking-meat\">No more storing and cooking meat</h3>\n\n<p>I used to try to cook meat.\nI was real bad at it.\nI couldn’t make a burger without setting off the smoke alarm or undercooking it.\nI couldn’t defrost a chicken breast without accidentally cooking it a bit, which I found kind of gross at the time but pushed down.\nI didn’t really enjoy handling raw meat – it’s kind of slimy and sticky, right?\nI don’t really remember, and maybe it’s grown more ghoulish with distance.</p>\n\n<h3 id=\"no-more-gristle-no-more-veins-no-more-bones\">No more gristle, no more veins, no more bones</h3>\n\n<p>It’s been a long time since I’ve taken a bite and felt a surprising popping resistance in my mouth.\nI used to secret unpleasant, gristly bites into napkins.\nI used to worry I wasn’t effective at extracting as much meat as I could from a bone.\nI used to avoid eating veins.\nNo more!</p>\n\n<h3 id=\"physical-comfort\">Physical comfort</h3>\n\n<p>Meat sits like a lump in your stomach in a way that vegetables don’t.\nRestaurants sometimes serve these giant sandwiches, burgers, steaks…\nAnd I would eat the whole thing, and it would just sit there.\nLook, I don’t want to go into too much detail about gastro-intestinal scenarios.\nBut let’s just say it’s harder to cause problems when you skip all that stuff.</p>\n\n<h3 id=\"moral-correctness\">Moral correctness</h3>\n\n<p>This is a touchy one.\nWhen a meat eater asks me why I’m vegetarian, what they really seem to mean is: <em>do you think I’m an asshole?</em>\nI don’t think you’re an asshole.\nBut I do think it’s morally correct to avoid eating meat.</p>\n\n<p>I don’t think it’s majorly evil.\nBut I think it’s <em>kind of wrong</em>.</p>\n\n<p>I don’t feel strongly enough to try and convince others to give up meat.\nBut I do take a small amount of pleasure in feeling like I’m doing the right thing, <strong>the same feeling I get when I recycle</strong>.\nThat’s the moral level I put it at.\nIt’s a nice thing to do.</p>\n\n<p>I ate meat for 24 years and didn’t eat meat for 3 years.\nI think of it like I’m offsetting some damage, paying off some debt.\nIf I take that thought to its conclusion, I should remain vegetarian for another 21 years, after which point I would be in the black and could start eating meat again guilt free.</p>\n\n<p>That’s not necessarily the plan, by the way.</p>\n\n<h3 id=\"having-a-label-for-my-diet\">Having a label for my diet</h3>\n\n<p>There are many diets. I’ll list a few (summarized crudely):</p>\n\n<ol>\n  <li>Omnivore – I’ll eat anything</li>\n  <li>Kosher/Halal – I’ll eat anything except a few specific things</li>\n  <li>Vegetarian – I’ll eat anything except an animal</li>\n  <li>Pescaterian – Vegetarian, except I’ll eat seafood</li>\n  <li>[?????] – I’ll eat anything except red meat</li>\n  <li>Vegan – I’ll eat anything unless an animal was involved</li>\n  <li>Jain vegetarianism – I’ll eat anything except animals, eggs, and vegetables which grow in the ground</li>\n</ol>\n\n<p>Before I stopped eating meat I didn’t belong in any of these categories and I was kind of embarrassed about it.\nNot a deep burning shame or anything, but I had a hard time explaining it, and I was put into some uncomfortable situations.\nMy diet was something like: “Inverse Pescatarian – I’ll eat anything except seafood… or mushrooms… or green olives… or solid tomatoes… or a few other things”.\nNot great!\nI’m very proud and happy that I fit into a group now, called vegetarian.\nPeople understand it and people have been mostly happy to accommodate what they can understand.</p>\n\n<p>And, happily, I’ve expanded to fill the space I entered and have come to appreciate many or most of the vegetables I used to discriminate against.</p>\n\n<p>If I were to start eating meat again, I think I would need to eat seafood as well, or I wouldn’t belong to a group anymore.</p>\n\n<h2 id=\"what-do-i-do-next\">3. What do I do next?</h2>\n\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">What does it mean if you’re a vegetarian but every night you have vivid dreams of eating meat?</p>&mdash; Max Jacobson (@maxjacobson) <a href=\"https://twitter.com/maxjacobson/status/713525209907728385\">March 26, 2016</a></blockquote>\n\n<p>I’m writing this out because recently I’ve been tempted to eat meat again and I wanted to explore the idea.</p>\n\n<p>Here are my temptations, as they occur to me:</p>\n\n<ul>\n  <li>Shake Shack burger</li>\n  <li>McDonald’s burger</li>\n  <li>Wendy’s burger</li>\n  <li>Most other burgers</li>\n  <li>sliced pastrami – specifically in a pastrami reuben from a specific deli in Vermont near where I lived senior year of college</li>\n  <li>boneless spare ribs at literally any takeout Chinese restaurant</li>\n  <li>pork belly bao at Baohaus</li>\n  <li>Chicken Parmesan at an Italian restaurant near where I grew up</li>\n  <li>Lamb … in some context?\n I forget when I ate lamb.\n Maybe it was goat?\n Something kind of tough and rich.</li>\n</ul>\n\n<p>My mouth is watering as I think about these.\nBut it passes pretty quickly.</p>\n\n<p>I fear if I started eating meat again, even slowly and carefully, I would shortly be subsumed by it.</p>\n\n<p>And I really have no desire to start eating seafood.</p>\n\n<p>And no real reason.</p>\n\n<p>Well, it ain’t broke.</p>\n"
      }
      
        ,
      
    
      {
        "date": "31 Jan 2016",
        "title": "how to run shell commands from ruby if you care about their output or if they failed",
        "url": "/2016/shell-whisperer",
        "content": "<p>Recently I made a new gem called <a href=\"https://rubygems.org/gems/shell_whisperer\">shell whisperer</a> which you might find\nuseful for when your ruby programs need to run shell commands.</p>\n\n<p>Let’s say you want to write a script which prints a summary of the current\ndirectory. The desired output is:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>There are 213 files in this git repo.\nLast commit: fixed a typo\n</code></pre>\n</div>\n\n<p>There are two questions we need to ask the shell in order to print this output.</p>\n\n<p>First question: how many files are there in this git repo?</p>\n\n<p>First answer: we can ask git to list the files in the repo, and pipe the list to\nthe word counting command to get the answer:</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code>git ls-files | wc -l\n</code></pre>\n</div>\n\n<p>Second question: what is the last commit?</p>\n\n<p>Second answer: we can ask git for the log, limited to the most recent commit,\nand formatted to include just the first line:</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code>git log -1 --pretty<span class=\"o\">=</span><span class=\"s2\">\"%s\"</span>\n</code></pre>\n</div>\n\n<p>So far so good, but how do we run these commands from Ruby?</p>\n\n<p>The language provides two ways that I’m aware of:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># backtick style</span>\n<span class=\"sb\">`git ls-files | wc -l`</span>\n</code></pre>\n</div>\n\n<p>Or:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># system style</span>\n<span class=\"nb\">system</span> <span class=\"s1\">'git ls-files | wc -l'</span>\n</code></pre>\n</div>\n\n<p>What is the difference? I don’t want to go into all of the nuances (see\n<a href=\"http://stackoverflow.com/a/18623297\">this SO post for that and more</a>) but I’ll share how I think of the\ndifference:</p>\n\n<ol>\n  <li>if you use the backtick (`) style, the return value is whatever was output by\nthe command – but only STDOUT, not STDERR, so you’ll miss error messages</li>\n  <li>if you use the system style, the output from the command will go to STDOUT,\nas if you had run <code class=\"highlighter-rouge\">puts</code> and output some text, and the return value will\nsignify whether the command failed or not</li>\n</ol>\n\n<p>So our program might look something like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"sb\">`git ls-files`</span><span class=\"p\">.</span><span class=\"nf\">each_line</span><span class=\"p\">.</span><span class=\"nf\">count</span>\n<span class=\"n\">message</span> <span class=\"o\">=</span> <span class=\"sb\">`git log -1 --pretty=\"%s\"`</span><span class=\"p\">.</span><span class=\"nf\">chomp</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"There are </span><span class=\"si\">#{</span><span class=\"n\">count</span><span class=\"si\">}</span><span class=\"s2\"> files in this git repo.\"</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"Last commit: </span><span class=\"si\">#{</span><span class=\"n\">message</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n</code></pre>\n</div>\n\n<p>And this is <em>okay</em>.</p>\n\n<p>The issue becomes: well, what do you if you care that the command might fail?\nThe system style allowed for checking the return value to see whether it\nsucceeded or failed, but there’s a reason we’re not using the system style: we\ncare about capturing the output of the command. So with the backtick style, we\ncan capture the output, but (seemingly) we can’t capture the successfulness.</p>\n\n<p>Well, we can, it’s just a little awkward:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"sb\">`git ls-files`</span><span class=\"p\">.</span><span class=\"nf\">each_line</span><span class=\"p\">.</span><span class=\"nf\">count</span>\n<span class=\"k\">raise</span> <span class=\"s1\">'list failed somehow'</span> <span class=\"k\">unless</span> <span class=\"vg\">$?</span><span class=\"p\">.</span><span class=\"nf\">success?</span>\n<span class=\"n\">message</span> <span class=\"o\">=</span> <span class=\"sb\">`git log -1 --pretty=\"%s\"`</span><span class=\"p\">.</span><span class=\"nf\">chomp</span>\n<span class=\"k\">raise</span> <span class=\"s1\">'message failed somehow'</span> <span class=\"k\">unless</span> <span class=\"vg\">$?</span><span class=\"p\">.</span><span class=\"nf\">success?</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"There are </span><span class=\"si\">#{</span><span class=\"n\">count</span><span class=\"si\">}</span><span class=\"s2\"> files in this git repo.\"</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"Last commit: </span><span class=\"si\">#{</span><span class=\"n\">message</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n</code></pre>\n</div>\n\n<p>Which, OK, kind of cool, but what if we want to know <em>why</em> it failed?</p>\n\n<p>This is possible:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">count_or_failure_reason</span> <span class=\"o\">=</span> <span class=\"sb\">`git ls-files 2&gt;&amp;1`</span><span class=\"p\">.</span><span class=\"nf\">each_line</span><span class=\"p\">.</span><span class=\"nf\">count</span>\n<span class=\"k\">raise</span> <span class=\"n\">count_or_failure_reason</span> <span class=\"k\">unless</span> <span class=\"vg\">$?</span><span class=\"p\">.</span><span class=\"nf\">success?</span>\n<span class=\"n\">message_or_failure_reason</span> <span class=\"o\">=</span> <span class=\"sb\">`git log -1 --pretty=\"%s\" 2&gt;&amp;1`</span><span class=\"p\">.</span><span class=\"nf\">chomp</span>\n<span class=\"k\">raise</span> <span class=\"n\">message_or_failure_reason</span> <span class=\"k\">unless</span> <span class=\"vg\">$?</span><span class=\"p\">.</span><span class=\"nf\">success?</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"There are </span><span class=\"si\">#{</span><span class=\"n\">count_or_failure_reason</span><span class=\"si\">}</span><span class=\"s2\"> files in this git repo.\"</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"Last commit: </span><span class=\"si\">#{</span><span class=\"n\">message_or_failure_reason</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n</code></pre>\n</div>\n\n<p>Let me attempt to explain this. The <code class=\"highlighter-rouge\">2&gt;&amp;1</code> part means that we want the STDERR\nstream to be directed to the STDOUT stream, so that we’ll capture either one\n(or both). This gives us access to the reason the command failed, if it failed,\nbut still gives us access to the output if it succeeds.</p>\n\n<p>I found myself doing this in multiple places, so I decided to wrap this pattern\nup in a tiny gem, which allows you to instead write your program like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">require</span> <span class=\"s1\">'shell_whisperer'</span>\n<span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"no\">ShellWhisperer</span><span class=\"p\">.</span><span class=\"nf\">run</span><span class=\"p\">(</span><span class=\"s1\">'git ls-files'</span><span class=\"p\">).</span><span class=\"nf\">each_line</span><span class=\"p\">.</span><span class=\"nf\">count</span>\n<span class=\"n\">message</span> <span class=\"o\">=</span> <span class=\"no\">ShellWhisperer</span><span class=\"p\">.</span><span class=\"nf\">run</span><span class=\"p\">(</span><span class=\"s1\">'git log -1 --pretty=\"%s\"'</span><span class=\"p\">).</span><span class=\"nf\">chomp</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"There are </span><span class=\"si\">#{</span><span class=\"n\">count</span><span class=\"si\">}</span><span class=\"s2\"> files in this git repo.\"</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"Last commit: </span><span class=\"si\">#{</span><span class=\"n\">message</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n</code></pre>\n</div>\n\n<p>If any of the commands fail, that error message will be re-raised as a\n<code class=\"highlighter-rouge\">ShellWhisperer::CommandFailed</code> exception, so you can handle that as you please.</p>\n\n<p>The node.js community seems to be all about tiny modules, and I think that idea\nis very cool, and I’m hoping to find more opportunities to do that with Ruby.</p>\n"
      }
      
        ,
      
    
      {
        "date": "14 Dec 2015",
        "title": "how to re-draw the line you just printed in Ruby, like to make a progress bar",
        "url": "/2015/how-to-make-a-progress-bar-in-ruby",
        "content": "<p>Here’s something I learned recently. Let’s say you have a program that is going\nto take a long time, and you want to mark the progress over time. You can print\nout some information like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">tasks</span> <span class=\"o\">=</span> <span class=\"no\">Array</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"mi\">1000</span><span class=\"p\">)</span>\n<span class=\"n\">tasks</span><span class=\"p\">.</span><span class=\"nf\">each</span><span class=\"p\">.</span><span class=\"nf\">with_index</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">task</span><span class=\"p\">,</span> <span class=\"n\">index</span><span class=\"o\">|</span>\n  <span class=\"nb\">sleep</span> <span class=\"nb\">rand</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"nf\">.</span><span class=\"mi\">0</span><span class=\"o\">.</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"c1\"># (something slow)</span>\n  <span class=\"n\">percentage</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">index</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">/</span> <span class=\"n\">tasks</span><span class=\"p\">.</span><span class=\"nf\">count</span><span class=\"p\">.</span><span class=\"nf\">to_f</span>\n  <span class=\"nb\">puts</span> <span class=\"s2\">\"</span><span class=\"si\">#{</span><span class=\"p\">(</span><span class=\"n\">percentage</span> <span class=\"o\">*</span> <span class=\"mi\">100</span><span class=\"p\">).</span><span class=\"nf\">round</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"si\">}</span><span class=\"s2\">%\"</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Which looks kinda like this:</p>\n\n<p><img src=\"/img/2015-12-14-progress-bar-before-picture.png\" alt=\"progress bar before picture\" /></p>\n\n<p>Which is, let’s say, serviceable, but not, let’s say, beautiful. It stinks that\nit printed out all those lines when it didn’t really need to. I would rather it\nhad sort of animated while it went. But how is this done?</p>\n\n<p>This is one of those questions that’s itched at the back of my mind for a while\nand which, when I finally googled it, was a bit disappointing. It’s just another\nunix escape character, like <code class=\"highlighter-rouge\">\\n</code> (which prints a new line). It’s <code class=\"highlighter-rouge\">\\r</code>, which I\nnow think of as “the backspace to the beginning of the line” magic character.</p>\n\n<p>Armed with this knowledge and some clunky math we can write something like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">begin</span>\n  <span class=\"n\">tasks</span> <span class=\"o\">=</span> <span class=\"no\">Array</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"mi\">1000</span><span class=\"p\">)</span>\n  <span class=\"n\">tasks</span><span class=\"p\">.</span><span class=\"nf\">each</span><span class=\"p\">.</span><span class=\"nf\">with_index</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">task</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"o\">|</span>\n    <span class=\"n\">width</span> <span class=\"o\">=</span> <span class=\"sb\">`tput cols`</span><span class=\"p\">.</span><span class=\"nf\">to_i</span>\n    <span class=\"nb\">sleep</span> <span class=\"nb\">rand</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"nf\">.</span><span class=\"mi\">0</span><span class=\"o\">.</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"c1\"># (something slow)</span>\n    <span class=\"n\">percentage</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">/</span> <span class=\"n\">tasks</span><span class=\"p\">.</span><span class=\"nf\">count</span><span class=\"p\">.</span><span class=\"nf\">to_f</span>\n    <span class=\"n\">summary</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"si\">#{</span><span class=\"p\">(</span><span class=\"n\">percentage</span> <span class=\"o\">*</span> <span class=\"mi\">100</span><span class=\"p\">).</span><span class=\"nf\">round</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"si\">}</span><span class=\"s2\">% \"</span><span class=\"p\">.</span><span class=\"nf\">rjust</span><span class=\"p\">(</span><span class=\"s2\">\"100.0% \"</span><span class=\"p\">.</span><span class=\"nf\">length</span><span class=\"p\">)</span>\n    <span class=\"n\">remaining_chars_for_progress_bar</span> <span class=\"o\">=</span> <span class=\"n\">width</span> <span class=\"o\">-</span> <span class=\"n\">summary</span><span class=\"p\">.</span><span class=\"nf\">length</span> <span class=\"o\">-</span> <span class=\"mi\">2</span>\n    <span class=\"n\">chunks</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">percentage</span> <span class=\"o\">*</span> <span class=\"n\">remaining_chars_for_progress_bar</span><span class=\"p\">).</span><span class=\"nf\">ceil</span>\n    <span class=\"n\">spaces</span> <span class=\"o\">=</span> <span class=\"n\">remaining_chars_for_progress_bar</span> <span class=\"o\">-</span> <span class=\"n\">chunks</span>\n    <span class=\"n\">bar</span> <span class=\"o\">=</span> <span class=\"s2\">\"</span><span class=\"se\">\\r</span><span class=\"si\">#{</span><span class=\"n\">summary</span><span class=\"si\">}</span><span class=\"s2\">[</span><span class=\"si\">#{</span> <span class=\"s1\">'#'</span> <span class=\"o\">*</span> <span class=\"n\">chunks</span> <span class=\"si\">}#{</span><span class=\"s1\">' '</span> <span class=\"o\">*</span> <span class=\"n\">spaces</span><span class=\"si\">}</span><span class=\"s2\">]\"</span>\n    <span class=\"nb\">print</span> <span class=\"n\">bar</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">rescue</span> <span class=\"no\">Interrupt</span>\n  <span class=\"nb\">system</span> <span class=\"s2\">\"say 'I was almost done, jeez'\"</span> <span class=\"k\">if</span> <span class=\"no\">RUBY_PLATFORM</span><span class=\"p\">.</span><span class=\"nf\">include?</span><span class=\"p\">(</span><span class=\"s2\">\"darwin\"</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p><img src=\"/img/2015-12-14-progress-bar-after-gif.gif\" alt=\"progress bar after gif\" /></p>\n\n<p>Probably you shouldn’t use this – there’s a very nice gem called\n<a href=\"https://github.com/jfelchner/ruby-progressbar\">ruby-progressbar</a> which will work across platforms and lets you customize\nsome things. But it’s nice information to have, because now you can do things\nlike this:</p>\n\n<p><img src=\"/img/2015-12-14-progress-barn.gif\" alt=\"barnyard\" /></p>\n\n<p>I’ll leave it as an exercise to the reader how to write this one.</p>\n"
      }
      
        ,
      
    
      {
        "date": "09 Nov 2015",
        "title": "how to tell ruby how to compare numbers to your object with coerce",
        "url": "/2015/how-to-tell-ruby-how-to-compare-numbers-to-your-object",
        "content": "<p>Let’s say you have some object that represents some numeric idea:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">CupsOfCoffeePerDay</span>\n  <span class=\"nc\">MY_LIMIT</span> <span class=\"o\">=</span> <span class=\"mi\">3</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n    <span class=\"vi\">@num</span> <span class=\"o\">=</span> <span class=\"n\">num</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">&gt;</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">)</span>\n    <span class=\"vi\">@num</span> <span class=\"o\">&gt;</span> <span class=\"n\">other</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">risky?</span><span class=\"p\">(</span><span class=\"ss\">threshold: </span><span class=\"no\">MY_LIMIT</span><span class=\"p\">)</span>\n    <span class=\"nb\">self</span> <span class=\"o\">&gt;</span> <span class=\"n\">threshold</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"no\">CupsOfCoffeePerDay</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">).</span><span class=\"nf\">risky?</span> <span class=\"c1\">#=&gt; true</span>\n<span class=\"no\">CupsOfCoffeePerDay</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"mi\">5</span> <span class=\"c1\">#=&gt; false</span>\n</code></pre>\n</div>\n\n<p>This object takes in a number and wraps it, and then extends it with some\ndomain-specific logic. Because the object wraps a number, and kind of represents\na number, you might find yourself wanting to compare it to other numbers,\nwhether they’re also wrapped or not.</p>\n\n<p>The above code seems to accomplish that. Our object knows how to compare itself\nto a number – we only implemented the greater than method, but we could\ndo all the other comparisons using the same approach – <em>but</em> it isn’t as\nflexible as it could be. Watch what happens when we try to do this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"no\">CupsOfCoffeePerDay</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"no\">CupsOfCoffeePerDay</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>I get this error when I run the program:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>/Users/max/src/hardscrabble.net/comparisons.rb:9:in `&gt;': comparison of Fixnum with CupsOfCoffeePerDay failed (ArgumentError)\n        from /Users/max/src/hardscrabble.net/comparisons.rb:9:in `&gt;'\n        from /Users/max/src/hardscrabble.net/comparisons.rb:23:in `&lt;main&gt;'\n</code></pre>\n</div>\n\n<p>What’s happening here?</p>\n\n<ol>\n  <li>we create two objects</li>\n  <li>we ask one object if it’s greater than the second object</li>\n  <li>our implementation refers to the wrapped number object and asks <em>it</em> if it’s\ngreater than this second object</li>\n  <li>the number complains that it doesn’t know how to compare itself to some rando</li>\n</ol>\n\n<p>And, fair enough. From the point of view of the number, it has no idea what\ncups of coffee per day even means, or which part of it is a number.</p>\n\n<p>We could change our implementation to accomodate this use-case:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">CupsOfCoffeePerDay</span>\n  <span class=\"nc\">MY_LIMIT</span> <span class=\"o\">=</span> <span class=\"mi\">3</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n    <span class=\"vi\">@num</span> <span class=\"o\">=</span> <span class=\"n\">num</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">&gt;</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">other</span><span class=\"p\">.</span><span class=\"nf\">is_a?</span><span class=\"p\">(</span><span class=\"no\">CupsOfCoffeePerDay</span><span class=\"p\">)</span>\n      <span class=\"vi\">@num</span> <span class=\"o\">&gt;</span> <span class=\"n\">other</span><span class=\"p\">.</span><span class=\"nf\">num</span>\n    <span class=\"k\">else</span>\n      <span class=\"vi\">@num</span> <span class=\"o\">&gt;</span> <span class=\"n\">other</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">risky?</span><span class=\"p\">(</span><span class=\"ss\">threshold: </span><span class=\"no\">MY_LIMIT</span><span class=\"p\">)</span>\n    <span class=\"nb\">self</span> <span class=\"o\">&gt;</span> <span class=\"n\">threshold</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">protected</span>\n\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:num</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>This is <em>kind of ok</em> but not really great. It required that we expose the num\nattribute externally – by putting the <code class=\"highlighter-rouge\">attr_reader</code> after <code class=\"highlighter-rouge\">protected</code>, it isn’t\nreally public, it’s just available for other CupsOfCoffeePerDay objects to call\n– but still, kind of sad that we had to do that, because the object is supposed\nto represent an idea, and the more internals you expose, the farther you get\nfrom that sort of pure idea and the more you just have some code. Worse still,\nimagine writing that conditional in each of the operator methods… maybe you\ncan be clever and abstract the duplicated code to some private method, but like,\nit’s a lot of repretition.</p>\n\n<p>Turns out Ruby has a nice way to let your custom objects reveal their inner\nnumbers, and it’s called <code class=\"highlighter-rouge\">coerce</code>:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">CupsOfCoffeePerDay</span>\n  <span class=\"nc\">MY_LIMIT</span> <span class=\"o\">=</span> <span class=\"mi\">3</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n    <span class=\"vi\">@num</span> <span class=\"o\">=</span> <span class=\"n\">num</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">&gt;</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">)</span>\n    <span class=\"vi\">@num</span> <span class=\"o\">&gt;</span> <span class=\"n\">other</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">risky?</span><span class=\"p\">(</span><span class=\"ss\">threshold: </span><span class=\"no\">MY_LIMIT</span><span class=\"p\">)</span>\n    <span class=\"nb\">self</span> <span class=\"o\">&gt;</span> <span class=\"n\">threshold</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">coerce</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">)</span>\n    <span class=\"p\">[</span><span class=\"n\">other</span><span class=\"p\">,</span> <span class=\"vi\">@num</span><span class=\"p\">]</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>There’s not a ton of documentation about this. I only found it by luck. I was\nlooking to understand how Ruby numbers does its comparisons, and I opened up\n<a href=\"https://github.com/pry/pry\">pry</a> (with <a href=\"https://github.com/pry/pry-doc\">pry-doc</a> installed), and started exploring:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ gem install pry pry-doc\n$ pry\n&gt; 4.pry\n(4)&gt; show-source &gt;\nFrom: numeric.c (C Method):\nOwner: Fixnum\nVisibility: public\nNumber of lines: 17\n\nstatic VALUE\nfix_gt(VALUE x, VALUE y)\n{\n    if (FIXNUM_P(y)) {\n        if (FIX2LONG(x) &gt; FIX2LONG(y)) return Qtrue;\n        return Qfalse;\n    }\n    else if (RB_TYPE_P(y, T_BIGNUM)) {\n        return FIX2INT(rb_big_cmp(rb_int2big(FIX2LONG(x)), y)) &gt; 0 ? Qtrue : Qfalse;\n    }\n    else if (RB_TYPE_P(y, T_FLOAT)) {\n        return rb_integer_float_cmp(x, y) == INT2FIX(1) ? Qtrue : Qfalse;\n    }\n    else {\n        return rb_num_coerce_relop(x, y, '&gt;');\n    }\n}\n</code></pre>\n</div>\n\n<p>At this point, I thought <em>oh no! C!</em></p>\n\n<p>But like, this is so cool: this is the implementation of the greater than method\nin numbers in Ruby, and it’s totally discoverable if you open pry and ask it\nto <code class=\"highlighter-rouge\">show-source</code>.</p>\n\n<p>I don’t really know C, but if I squint, I can tell that this is doing something\nkind of reasonable. It seems to be checking the type of the second value (the\none you’re comparing the current value to) and doing something different based\non the type. The final branch of logic is when the type is unknown. Bingo. Our\nCupsOfCoffeePerDay type is definitely unknown. In that case, it calls\n<code class=\"highlighter-rouge\">rb_num_coerce_relop</code>. Unfortunately, when I asked pry to\n<code class=\"highlighter-rouge\">show-source rb_num_coerce_relop</code> it didn’t know how.</p>\n\n<p>Thankfully, it printed the filename this source code can be found in, so I went\nto <a href=\"https://github.com/ruby/ruby\">the ruby source code</a> and searched for a file called <code class=\"highlighter-rouge\">numeric.c</code>. Within\nthat, I searched for the rb_num_coerce_relop function. It takes in the two\nobjects (the CupsOfCoffeePerDay and the number) and the operator (<code class=\"highlighter-rouge\">&gt;</code>). Its\nsource looks like this:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>\nVALUE\nrb_num_coerce_bin(VALUE x, VALUE y, ID func)\n{\n    do_coerce(&amp;x, &amp;y, TRUE);\n    return rb_funcall(x, func, 1, y);\n}\n</code></pre>\n</div>\n\n<p>What does that do? It looks like it coerces the two types to be the same type,\nand then calls the <code class=\"highlighter-rouge\">&gt;</code> function on the first one, passing the second one.\n(Again: squinting).</p>\n\n<p>So <code class=\"highlighter-rouge\">do_coerce</code> is where the interesting part happens. I’ll just <a href=\"https://github.com/ruby/ruby/blob/f3cafab56a353db969f5e39923bd15712a204c36/numeric.c#L274-L309\">link to it</a>\nbecause it’s pretty long. But the cool thing in it is that it checks if the\nfirst object implements a <code class=\"highlighter-rouge\">coerce</code> method, and if it does, it does something\ndifferent. So then it becomes a game of figuring out how to write a <code class=\"highlighter-rouge\">coerce</code>\nmethod and finding out, via stack overflow (of course), that you can add this\nmagic <code class=\"highlighter-rouge\">coerce</code> method, and it will take in the second object, and it’s expected\nto return an array of compatible types, with the second object’s value first,\nand the first object’s value second. So our implementation looks like:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">coerce</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">)</span>\n  <span class=\"p\">[</span><span class=\"n\">other</span><span class=\"p\">,</span> <span class=\"vi\">@num</span><span class=\"p\">]</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>One interesting thing to note is that if anything fails within your coerce\nmethod, the exception will be silently swallowed by <code class=\"highlighter-rouge\">do_coerce</code>, and then you’ll\nget the earlier error about not being able to compare the two objects. If our\nimplementation looked like:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">coerce</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">)</span>\n  <span class=\"k\">raise</span> <span class=\"s1\">'hell'</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>You might expect hell to be raised as an exception – but nope. You might think\nthat means the <code class=\"highlighter-rouge\">coerce</code> method wasn’t called. It was, it’s just kind of unusual\nterritory. Thankfully, it’s not completely silent: it emits a warning that your\nexception will no longer be rescued in future versions of Ruby. I like that\nchange.</p>\n\n<p>So. Now that we know about coerce, our operator methods can be really simple,\nbut they can still be used bidirectionally, and we can even feel OK about\nabstracting them a bit. I kind of like this final implementation, which\nincludes all of the operators:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">require</span> <span class=\"s1\">'forwardable'</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">CupsOfCoffeePerDay</span>\n  <span class=\"kp\">extend</span> <span class=\"no\">Forwardable</span>\n\n  <span class=\"n\">def_delegators</span> <span class=\"s2\">\"@num\"</span><span class=\"p\">,</span> <span class=\"p\">:</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"ss\">:&lt;</span><span class=\"p\">,</span> <span class=\"p\">:</span><span class=\"o\">&gt;=</span><span class=\"p\">,</span> <span class=\"ss\">:&lt;=</span><span class=\"p\">,</span> <span class=\"ss\">:==</span>\n\n  <span class=\"no\">MY_LIMIT</span> <span class=\"o\">=</span> <span class=\"mi\">3</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n    <span class=\"vi\">@num</span> <span class=\"o\">=</span> <span class=\"n\">num</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">risky?</span><span class=\"p\">(</span><span class=\"ss\">threshold: </span><span class=\"no\">MY_LIMIT</span><span class=\"p\">)</span>\n    <span class=\"nb\">self</span> <span class=\"o\">&gt;</span> <span class=\"n\">threshold</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">coerce</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">)</span>\n    <span class=\"p\">[</span><span class=\"n\">other</span><span class=\"p\">,</span> <span class=\"vi\">@num</span><span class=\"p\">]</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "20 Oct 2015",
        "title": "begin rescue else",
        "url": "/2015/begin-rescue-else",
        "content": "<p>Quick ruby tip kinda post.</p>\n\n<p>Today I learned, this is a valid Ruby program:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">begin</span>\n  <span class=\"k\">raise</span> <span class=\"k\">if</span> <span class=\"p\">[</span><span class=\"kp\">true</span><span class=\"p\">,</span> <span class=\"kp\">false</span><span class=\"p\">].</span><span class=\"nf\">sample</span>\n<span class=\"k\">rescue</span>\n  <span class=\"nb\">puts</span> <span class=\"s2\">\"failed\"</span>\n<span class=\"k\">else</span>\n  <span class=\"nb\">puts</span> <span class=\"s2\">\"did not fail\"</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>I’m used to using <code class=\"highlighter-rouge\">else</code> after an <code class=\"highlighter-rouge\">if</code>, but not after a <code class=\"highlighter-rouge\">rescue</code>. This is like\nsaying “do this thing. if it fails, do this <em>other</em> thing. if it <em>doesn’t fail</em>,\ndo this <strong><em>other, other</em></strong> thing.</p>\n\n<p>Huh!</p>\n\n<p>(Via <a href=\"https://github.com/rails/rails/blob/0d216d1add9eaaddfc0b02813ccf08fd22910859/activesupport/lib/active_support/dependencies.rb#L760-L767\">rails</a>)</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "14 Oct 2015",
        "title": "how to log all input in your pry rails console",
        "url": "/2015/how-to-log-all-input-in-your-pry-rails-console",
        "content": "<p>Many Rubyists use and love the <a href=\"https://github.com/pry/pry\">pry</a> gem for adding breakpoints to their\nprograms and inspecting objects. Super useful. Some others use the <a href=\"https://github.com/rweng/pry-rails\">pry-rails</a>\ngem to use the pry REPL in place of irb for the rails console.</p>\n\n<p>Let’s say you want to log all of the activity that occurs in your rails console.\nThis could be a nice security thing. Maybe you’re just nostalgic for old times.</p>\n\n<p>Pry has something called an “<a href=\"https://github.com/pry/pry/wiki/Customization-and-configuration#Config_input\">input object</a>”, which you can override in your\nconfiguration. The object’s responsibility is to feed ruby code to Pry, line by\nline. By default, it uses the [Readling module][]. I don’t know a <em>ton</em> about\nreadline, but I gather that it’s wrapping some standard unix program, which\nmeans it sort of <em>feels</em> natural. For example, you can input Control+l and it\nwill clear the screen; <code class=\"highlighter-rouge\">gets.chomp</code> doesn’t do that kind of thing.</p>\n\n<p>So, Readline is great. We want to use it. We just kind of want to wrap it. SO\nlet’s see what that looks like.</p>\n\n<p>First: where do we actually put our configuration?</p>\n\n<p>You can put a <code class=\"highlighter-rouge\">.pryrc</code> file in the root of your project. You can even put Ruby\ncode in that file. I think that’s the official way to do it. But I don’t know…\nit doesn’t get syntax highlighting because it doesn’t have a <code class=\"highlighter-rouge\">.rb</code> file\nextension… I put my configuration in a Rails initializer named\n<code class=\"highlighter-rouge\">config/initializers/pry.rb</code>, and that works fine too.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">LoggingReadline</span>\n  <span class=\"n\">delegate</span> <span class=\"ss\">:completion_proc</span><span class=\"p\">,</span> <span class=\"ss\">:completion_proc</span><span class=\"o\">=</span><span class=\"p\">,</span> <span class=\"ss\">to: </span><span class=\"no\">Readline</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">readline</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">)</span>\n    <span class=\"no\">Readline</span><span class=\"p\">.</span><span class=\"nf\">readline</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">).</span><span class=\"nf\">tap</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">user_input</span><span class=\"o\">|</span>\n      <span class=\"n\">logger</span><span class=\"p\">.</span><span class=\"nf\">info</span><span class=\"p\">(</span><span class=\"n\">user_input</span><span class=\"p\">)</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">private</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">logger</span>\n    <span class=\"vi\">@logger</span> <span class=\"o\">||=</span> <span class=\"no\">Logger</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s1\">'log/console.log'</span><span class=\"p\">)</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"no\">Pry</span><span class=\"p\">.</span><span class=\"nf\">config</span><span class=\"p\">.</span><span class=\"nf\">input</span> <span class=\"o\">=</span> <span class=\"no\">LoggingReadline</span><span class=\"p\">.</span><span class=\"nf\">new</span>\n</code></pre>\n</div>\n\n<p>The important thing for custom input objects is that they implement the\n<code class=\"highlighter-rouge\">readline</code> method. The method takes in a string that holds the current user\nprompt, and it is expected to return a string that holds the next line of Ruby\ncode for Pry to evaluate.</p>\n\n<p>If pry is a REPL (read evaluate print loop), the custom input object assumes the\nresponsibility of the first letter, and thats’ it.</p>\n\n<p>It doesn’t strictly need to ask the user for input. It could just return some\nnonsense.</p>\n\n<p>But, this one does. We can summarize what it does as: <em>ask the dev for a line of\ninput, but first log it to a file before returning it to pry for EPL-ing.</em></p>\n\n<p>There’s one line that’s kind of strange:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">delegate</span> <span class=\"ss\">:completion_proc</span><span class=\"p\">,</span> <span class=\"ss\">:completion_proc</span><span class=\"o\">=</span><span class=\"p\">,</span> <span class=\"ss\">to: </span><span class=\"no\">Readline</span>\n</code></pre>\n</div>\n\n<p>What’s that about?</p>\n\n<p>Well, I’ve learned, it’s just kind of a necessary thing to make sure your custom\ninput object seamlessly behaves like the default pry input behavior. Let me\nexplain.</p>\n\n<p><code class=\"highlighter-rouge\">Readline</code>, by default, has some strategy for tab completing when you start to\nwrite something, and then press tab. That strategy is a proc object. The default\none has something to do with irb I guess?</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ irb\n&gt;&gt; Readline.completion_proc\n=&gt; #&lt;Proc:0xb9964ce0@/home/max/.rubies/2.2.3/lib/ruby/2.2.0/irb/completion.rb:37&gt;\n</code></pre>\n</div>\n\n<p>But! When starting pry, it has a different completion proc!</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ pry\n[1] pry(main)&gt; Readline.completion_proc\n=&gt; #&lt;Proc:0xb8a0c25c@/home/max/.gem/ruby/2.2.3/gems/pry-0.10.2/lib/pry/repl.rb:177&gt;\n</code></pre>\n</div>\n\n<p>But when you provide a custom input object, pry doesn’t replace the completion\nproc on readline because you seem not to even be using it, so why bother? But\nin this case we totally are using it, we’re just wrapping it.</p>\n\n<p>At first, I thought this was a bug with Pry, and I opened an issue to complain\nabout it, but while writing this blog post I realized that it’s kind of not a\nbug, and this delegation approach is probably fine.</p>\n"
      }
      
        ,
      
    
      {
        "date": "11 Oct 2015",
        "title": "fake tools",
        "url": "/2015/fake-tools",
        "content": "<p>Last week, Flatiron School launched a new online learning program called “Learn\nVerified”. The launch was accompanied by <a href=\"http://blog.flatironschool.com/introducing-learn-a-new-type-of-online-learning-platform/\">a letter</a> from the founders, Avi\nand Adam. This section jumped out to me:</p>\n\n<blockquote>\n  <h1 id=\"real-tools\">Real Tools</h1>\n\n  <p>You can’t learn real skills with fake tools. As much as you can learn in a\nsimulation, you can’t become a competent surgeon without picking up a scalpel\nor pilot without stepping into an airplane. Yet, online learning platforms\ntoday teach people using in-browser, simulated coding tools (often referred to\nas REPLs) and multiple choice quizzes which, while helpful, can never bring a\nstudent to the level of competency required of a professional software\nengineer.</p>\n\n  <p>Learn requires students to use the same tools and workflows that\nprofessional software engineers use on the job. From the start, students work\nin their terminals using git-based workflows. They’re taught to master the\ncraft using the tools of the trade.</p>\n</blockquote>\n\n<p>On <a href=\"/metaphorloop/2/\">the most recent episode of metaphor loop</a>, we talked about the\ndifferent styles of learning. One of them was <a href=\"https://en.wikipedia.org/wiki/Kinesthetic_learning\">kinesthetic learning</a>, which\nwe can say is like “hands on” learning. I hadn’t heard the term until Vaidehi\ntold me about it and I realized I identified with it. I think kinesthetic\nlearners are the same ones who will identify with Learn Verified’s emphasis on\nusing “real tools”, because they’ll get to get their hands on the material\nthey’re learning in a more direct, free-to-explore way. That market of learners\nhas been underserved by the existing solutions, and I wonder if Flatiron will\nbe able to pull off an online learning environment just for them.</p>\n\n<p>I do kind of chafe at the idea that “you can’t learn real skills with fake\ntools”, though. It feels like a pretty inflammatory position to take. I’m\nreminded of Lost’s great “<a href=\"https://www.youtube.com/watch?v=eYmnzbLmCPk\">Don’t tell me what I can’t do!</a>” catchphrase.\nAren’t some people different from other people? And not to be all metaphysical\nhere, but aren’t all tools kind of fake tools? Where do you draw the line? idk.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "03 Oct 2015",
        "title": "participate in society",
        "url": "/2015/participate-in-society",
        "content": "<p>If there’s one piece of advice I feel comfortable giving, it’s this: participate\nin society. Find it in your introverted self to <em>join in</em>.</p>\n\n<p>When you hear vaguely that you ought to be using zsh instead of bash, but when\nyou try it you’re not sure why it’s better, <em>stick with it</em>. When you hear that\noh-my-zsh is a good way to manage your zsh configuration and you think the name\nis dumb and don’t want to use it, <em>get over yourself</em>, because months later\nyou’ll find yourself desperately googling to see if anyone else has is using\nzsh in tmux on el capitan and experiencing a weird behavior where\noption-backspace isn’t working (it’s supposed to delete backwards a full word),\nbut only when in tmux, and you can’t really find anything, just throw out your\nzsh configuration and use the thing that people use. You won’t regret it.</p>\n\n<p>Anyway, that’s just my one piece of advice.</p>\n"
      }
      
        ,
      
    
      {
        "date": "18 Sep 2015",
        "title": "announcing metaphor loop",
        "url": "/2015/announcing-metaphorloop",
        "content": "<p>Last month I started a podcast but I didn’t really publicize it because I wasn’t\nsure I was going to keep doing it. I put it on this site, hidden down in the\nfooter, and I put it on iTunes, and I tweeted a few cryptic things like:</p>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\">\n  <p lang=\"en\" dir=\"ltr\">\n    there’s a slight chance I’m editing a podcast\n    <a href=\"http://t.co/TGoacn3LCj\">pic.twitter.com/TGoacn3LCj</a>\n  </p>\n  &mdash; Max Jacobson (@maxjacobson)\n  <a href=\"https://twitter.com/maxjacobson/status/635488531251601409\">\n    August 23, 2015\n  </a>\n</blockquote>\n\n<p>Today I released the second episode, which makes it real enough that I’m ready\nto share it.</p>\n\n<h2 id=\"metaphor-loop\">metaphor loop</h2>\n\n<p><a href=\"/metaphorloop\"><img src=\"/img/metaphorloop.png\" alt=\"metaphor loop\" /></a></p>\n\n<p><em>(Click on the art to visit the show homepage, which has subscription links)</em></p>\n\n<p>It’s about “how we think about programming”. I started out with an agenda,\nwhich was to argue that figurative language is the best tool for teaching code,\nor something like that, and I’m finding that I’m not sure what I think anymore,\nbut I’m excited to keep exploring the ways people build understanding by\ninterviewing programmers about what goes on in their heads.</p>\n\n<p>The <a href=\"/metaphorloop/1\">first episode</a> was an interview with my old friend Corey Mendell. I\nhad a really good time recording and editing it and the few people I shared it\nwith seemed to like it too. I was immediately addicted.</p>\n\n<p>I don’t think I have it in me to do it on a weekly basis like a lot of podcasts.\nToday I’m sharing <a href=\"/metaphorloop/2\">the second episode</a>, approximately a month after the\nfirst. So, monthly? Maybe.</p>\n\n<p>This one features <a href=\"http://vaidehijoshi.github.io/\">Vaidehi Joshi</a> who I don’t\neven really know, but whose blog I really like. I’m happy with how this one\nturned out and think you’ll like it.</p>\n\n<h2 id=\"a-few-details\">a few details</h2>\n\n<p>I’m not planning to have ads. I want this to be a fun, pure endeavor that makes\nno money. I’m not tracking subscriber counts or anything like that. I don’t\nwant to know.</p>\n\n<p>I’m licensing it under a creative commons license, because</p>\n\n<ol>\n  <li>why not?</li>\n  <li>I wanted to include some CC-licensed music, and it had a “share-alike” clause</li>\n  <li>so why not?</li>\n</ol>\n\n<p>By the way: part of the reason I made this is that I really like listening to\npodcasts and my ego would often hear them and think “why don’t they invite me\non?” One thing I’m realizing is that inviting people on is kind of hard,\nbecause you don’t know if they’ll want to do it and maybe they’ll think it’s\ndumb? So: <strong>if you listen to some episodes and think you’d like to be on the\nshow, let me know</strong>, and we’ll at least have a phone call and if it feels like\na show, it’ll be a show.</p>\n\n<p><a href=\"http://hardscrabble.net/metaphorloop\">hardscrabble.net/metaphorloop</a></p>\n"
      }
      
        ,
      
    
      {
        "date": "08 Sep 2015",
        "title": "pro tip open firefox tabs in background",
        "url": "/2015/pro-tip-open-firefox-tabs-in-background",
        "content": "<p>One good thing to know if you’re a firefox person: visit <code class=\"highlighter-rouge\">about:config</code> and poke\naround, configuring things.</p>\n\n<p>Here’s what happened today: I was watching a youtube video while browsing\nTwitter via <a href=\"http://tapbots.com/tweetbot/mac/\">Tweetbot</a>. I clicked a link,\nwhich opened a new tab, pushing my video into the background. I diligently\nclicked the video’s tab to bring it back to the foreground so I could continue\npassively watching it while browsing twitter.</p>\n\n<p>Then I clicked another link, and instinctively clicked the video’s tab to bring\nit back into the foreground again.</p>\n\n<p>By the third time I did this, I realized I really wished there was a setting to\nautomatically open tabs in the background. I tried googling it, but wasn’t\nreally finding anything. So I checked <code class=\"highlighter-rouge\">about:config</code> and searched through for\n“background”. The screen is a list of every configuration you can control.\nMany of them are boolean attributes, which can be toggled by simply double\nclicking the attribute.</p>\n\n<p>I saw one, <code class=\"highlighter-rouge\">browser.tabs.loadDivertedInBackground;false</code> and thought “hmm,\nmaybe?” At this point, I’m not certain there’s even a configuration that does\nthis, but I try toggling it… and … click a link from a tweet… and…</p>\n\n<p>It did what I wanted. Sweet.</p>\n"
      }
      
        ,
      
    
      {
        "date": "05 Sep 2015",
        "title": "eighty character lines",
        "url": "/2015/eighty-character-lines",
        "content": "<p>Last month we talked about <a href=\"/2015/rubocop\">RuboCop</a>, which analyzes your Ruby code and\nnitpicks it. One of its most difficult to follow suggestions is to keep your\nlines of code no longer than 80 characters.</p>\n\n<p>The creator of rubocop, bbatsov, explained his perspective <a href=\"http://batsov.com/articles/2013/06/26/the-elements-of-style-in-ruby-number-1-maximum-line-length/\">on his\nblog</a>:</p>\n\n<blockquote>\n  <p>We should definitely have a limit – that’s beyond any doubt. It’s common\nknowledge that humans read much faster vertically, than horizontally. Try to\nread the source code of something with 200-character lines and you’ll come to\nacknowledge that.</p>\n</blockquote>\n\n<p>I’m totally on board with the short lines train. For me, it only gets tricky\nwhen dealing with nested stuff (examples to follow) which add a lot of space to\nthe left of the first character of code. For example:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">module</span> <span class=\"nn\">MyGreatGem</span>\n  <span class=\"k\">module</span> <span class=\"nn\">SomeOtherNamespace</span>\n    <span class=\"k\">module</span> <span class=\"nn\">OmgAnotherNamespace</span>\n      <span class=\"k\">module</span> <span class=\"nn\">LolYeahOneMore</span>\n        <span class=\"k\">class</span> <span class=\"nc\">SomethingGreat</span>\n          <span class=\"k\">class</span> <span class=\"nc\">SomethingOk</span>\n            <span class=\"k\">class</span> <span class=\"nc\">MyGreatClass</span>\n              <span class=\"k\">def</span> <span class=\"nf\">initialize</span>\n                <span class=\"nb\">puts</span> <span class=\"s2\">\"OMG I only have 64 characters to express something on \"</span> <span class=\"p\">\\</span>\n                     <span class=\"s2\">\"this line! And now it's more like 'these lines' haha\"</span>\n              <span class=\"k\">end</span>\n            <span class=\"k\">end</span>\n          <span class=\"k\">end</span>\n        <span class=\"k\">end</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Often strings are the first thing to get chopped up, as in that example.</p>\n\n<p>The only approach I thought of to deal with that is to organize my code\ndifferently to not use many nested namespaces. That’s probably not the worst\nidea, honestly, but I’m writing this post to share an interesting style I\nobserved in the wild (read: on github) that takes a whole nother approach:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># Excerpted from:</span>\n<span class=\"c1\"># https://github.com/net-ssh/net-sftp/blob/ebf5d5380cc533b69b308baa2e396e4a18abc900/lib/net/sftp/operations/dir.rb</span>\n<span class=\"k\">module</span> <span class=\"nn\">Net</span><span class=\"p\">;</span> <span class=\"k\">module</span> <span class=\"nn\">SFTP</span><span class=\"p\">;</span> <span class=\"k\">module</span> <span class=\"nn\">Operations</span>\n  <span class=\"k\">class</span> <span class=\"nc\">Dir</span>\n    <span class=\"kp\">attr_reader</span> <span class=\"ss\">:sftp</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">sftp</span><span class=\"p\">)</span>\n      <span class=\"vi\">@sftp</span> <span class=\"o\">=</span> <span class=\"n\">sftp</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span><span class=\"p\">;</span> <span class=\"k\">end</span><span class=\"p\">;</span> <span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Huh! That’s a style I hadn’t seen before. RuboCop has many complaints about it,\nand I don’t totally love the style, but it’s a very novel and neat way to do it,\nand it certainly frees up columns to spend on your code if you’re planning to\nstick to an 80 character limit.</p>\n\n<p>One possible alternative is to define your namespaced class using this\nshorthand:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Net</span><span class=\"o\">::</span><span class=\"no\">SFTP</span><span class=\"o\">::</span><span class=\"no\">Operations</span><span class=\"o\">::</span><span class=\"no\">Dir</span>\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:sftp</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">sftp</span><span class=\"p\">)</span>\n    <span class=\"vi\">@sftp</span> <span class=\"o\">=</span> <span class=\"n\">sftp</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>If you do that, you get 2 extra characters on each line. Sweet!</p>\n\n<p>One problem: it sort of doesn’t work, at least not in the same way.</p>\n\n<p>If you just look at that example, and imagine that you’re the Ruby interpreter\ntrying to figure out what this code means, how are you supposed to know whether\n<code class=\"highlighter-rouge\">Net</code>, <code class=\"highlighter-rouge\">SFTP</code>, and <code class=\"highlighter-rouge\">Operations</code> are supposed to be classes or modules? You have\nto <em>already know</em> by them being previously defined. If they haven’t been defined\nyet, you are well within your right to raise a <code class=\"highlighter-rouge\">RuntimeException</code> to complain\nthat this constant hasn’t been defined yet, rather than try to guess.</p>\n\n<p>Both of the earlier longhand examples were explicitly explaining what the type\nof each namespace constant is. That pattern works whether you’re defining the\nmodule or class in that moment, or “opening” a previously defined module or\nclass to add something new to it. This shorthand, while optimal for line length,\nonly works when opening previously defined constants.</p>\n\n<p>One downside of this approach is that, by relying on all of the namespaces being\npredefined, it becomes harder to test this class in isolation (it’s probably\npossible to do it through <a href=\"/2015/stubbing-constants/\">some gnarly stubbing</a> but, harder). You’re\nalso introducing some requirements about the order in which the files from your\ncode need to be loaded, which feels kind of fragile.</p>\n\n<p>One <em>possible</em> upside comes to mind. When you follow the typical pattern of\nwriting out all the namespace modules and classes, you introduce some room for\nerror: what if in one file you write <code class=\"highlighter-rouge\">class Operations</code> by mistake (instead of\n<code class=\"highlighter-rouge\">module Operations</code>)? You’ll get an error. That’s not too bad, honestly.</p>\n\n<p>I think 80 is usually enough but if you’re doing too many contortions to stay\nin that box, try like 90 or 100, you’re still a good person.</p>\n"
      }
      
        ,
      
    
      {
        "date": "09 Aug 2015",
        "title": "why I think RuboCop is so cool, and how to contribute to it",
        "url": "/2015/rubocop",
        "content": "<h2 id=\"rubocop-as-compiler\">RuboCop as compiler</h2>\n\n<p>Ruby is not a compiled language.</p>\n\n<p>You can write code which has obvious flaws and Ruby will run it and then it will\nfail at runtime. For example:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">puts</span> <span class=\"s2\">\"hello world\"</span>\n<span class=\"nb\">puts</span> <span class=\"n\">hello</span> <span class=\"n\">world</span>\n</code></pre>\n</div>\n\n<p>That produces this output:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ ruby lol.rb\nhello world\n/Users/max/Desktop/lol.rb:2:in `&lt;main&gt;': undefined local variable or method `world' for main:Object (NameError)\n</code></pre>\n</div>\n\n<p>Some other languages wouldn’t even run that program. For example, the same code\nin Go:</p>\n\n<div class=\"language-go highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">package</span><span class=\"x\"> </span><span class=\"n\">main</span><span class=\"x\">\n\n</span><span class=\"k\">import</span><span class=\"x\"> </span><span class=\"s\">\"fmt\"</span><span class=\"x\">\n\n</span><span class=\"k\">func</span><span class=\"x\"> </span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"x\"> </span><span class=\"p\">{</span><span class=\"x\">\n\t</span><span class=\"n\">fmt</span><span class=\"o\">.</span><span class=\"n\">Println</span><span class=\"p\">(</span><span class=\"s\">\"hello world\"</span><span class=\"p\">)</span><span class=\"x\">\n\t</span><span class=\"n\">fmt</span><span class=\"o\">.</span><span class=\"n\">Println</span><span class=\"p\">(</span><span class=\"n\">hello_world</span><span class=\"p\">)</span><span class=\"x\">\n</span><span class=\"p\">}</span><span class=\"x\">\n</span></code></pre>\n</div>\n\n<p>Running that produces this output:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ go run lol.go\n# command-line-arguments\n./lol.go:7: undefined: hello_world\n</code></pre>\n</div>\n\n<p>But Ruby can’t run anything. Look at this bullshit:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">puts</span> <span class=\"s2\">\"hello world\"</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">lol</span>\n  <span class=\"nb\">puts</span> <span class=\"s2\">\"lol world\"</span>\n\n<span class=\"n\">lol</span>\n</code></pre>\n</div>\n\n<p>Running that produces this output:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ ruby lol.rb\n/Users/max/Desktop/lol.rb:7: syntax error, unexpected end-of-input, expecting keyword_end\n</code></pre>\n</div>\n\n<p>Notice: it doesn’t even output “hello world”; it just straight-up fails to run.\nYou might say it doesn’t compile.</p>\n\n<p>Ruby actually has a command line flag for checking the syntactic-correctness of\na program:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ ruby -c lol.rb\n/Users/max/Desktop/lol.rb:7: syntax error, unexpected end-of-input, expecting keyword_end\n$ ruby -c ok_program.rb\nSyntax OK\n</code></pre>\n</div>\n\n<p>This is useful, but only to a point. It means your programs will usually run,\nbut you’ll have more errors at runtime than you would writing in a language like\nGo (for example).</p>\n\n<p>I barely know Go, but in the small exposure I’ve had, I’ve really enjoyed how\nnit-picky the compiler is. For example, this program:</p>\n\n<div class=\"language-go highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">package</span><span class=\"x\"> </span><span class=\"n\">main</span><span class=\"x\">\n\n</span><span class=\"k\">import</span><span class=\"x\"> </span><span class=\"s\">\"fmt\"</span><span class=\"x\">\n\n</span><span class=\"k\">func</span><span class=\"x\"> </span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"x\"> </span><span class=\"p\">{</span><span class=\"x\">\n\t</span><span class=\"n\">msg</span><span class=\"x\"> </span><span class=\"o\">:=</span><span class=\"x\"> </span><span class=\"s\">\"Hello world\"</span><span class=\"x\">\n\t</span><span class=\"n\">other_msg</span><span class=\"x\"> </span><span class=\"o\">:=</span><span class=\"x\"> </span><span class=\"s\">\"lol world\"</span><span class=\"x\">\n\t</span><span class=\"n\">fmt</span><span class=\"o\">.</span><span class=\"n\">Println</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">)</span><span class=\"x\">\n</span><span class=\"p\">}</span><span class=\"x\">\n</span></code></pre>\n</div>\n\n<p>Running it produces this output:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code># command-line-arguments\n./lol.go:7: other_msg declared and not used\n</code></pre>\n</div>\n\n<p>What! I can’t run my program because I declared a variable but then didn’t use\nit?? Who cares?? Go cares! And I kind of do too, now. Why have it if you don’t\nneed it? Go kind of forces you to write really intention-revealing code and to\nclean up anything which might obscure your intentions. That’s great.</p>\n\n<p>Ruby doesn’t care as much about that.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"s1\">'hello world'</span>\n<span class=\"n\">other_msg</span> <span class=\"o\">=</span> <span class=\"s1\">'lol world'</span>\n<span class=\"nb\">puts</span> <span class=\"n\">msg</span>\n</code></pre>\n</div>\n\n<p>That’s fine:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ ruby -c lol.rb\nSyntax OK\n$ ruby lol.rb\nhello world\n</code></pre>\n</div>\n\n<p>So now your code has this random unused variable. It’s not <em>really</em> hurting\nanyone or anything. In theory it has a performance impact, as it’s allocating\nan object you don’t really need it to, and if this code is run a ton that could\nmatter. But more importantly, I think, it’s just clutter. When people come\nacross this code in the future they won’t know why it’s there, but they might\nassume it’s there for a reason, and they’ll mentally mark this area of the code\nbase as kind of strange and unknowable.</p>\n\n<p><a href=\"https://github.com/bbatsov/rubocop\">RuboCop</a> is a gem which can help bring Ruby\ncloser toward Go levels of nit-pickiness, and I’m a huge fan of it. I recommend\nincluding it in your Ruby projects and running it alongside your tests to\nenforce adherence to its rules (“cops” in its parlance).</p>\n\n<p>Running that same ruby program through RuboCop produces this output (note: you\nhave to <code class=\"highlighter-rouge\">gem install rubocop</code> first):</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ rubocop lol.rb\nInspecting 1 file\nW\n\nOffenses:\n\nlol.rb:2:1: W: Useless assignment to variable - other.\nother = 'lol world'\n^^^^^\n\n1 file inspected, 1 offense detected\n</code></pre>\n</div>\n\n<p>Awesome! Now we know our code contains some offense and might be confusing our\ncollaborators, and we know exactly where to make the change.</p>\n\n<hr />\n\n<h2 id=\"rubocop-as-code-style-nit-picker\">RuboCop as code style nit picker</h2>\n\n<p>RuboCop is also very opinionated about code style. For example, it will complain\nif you aren’t consistent about using single or double quotes, or if you aren’t\nconsistent about using two spaces for indentation, or if you leave spaces at the\nend of your lines.</p>\n\n<p>I recommend configuring it to your taste and to not feel guilty about disabling\ncops which you don’t find valuable. As a tool, it adheres to the “strong\nopinions, weakly held” mantra: it’s very easy to bribe this cop into changing\nits opinions by adding a simple yml file to the root of your project.</p>\n\n<p>The Go compiler isn’t picky about things like code style, but Go ships with a\nsecondary, optional tool called <a href=\"https://golang.org/cmd/gofmt/\">gofmt</a> which is extraordinarily opinionated:\nit straight-up rewrites your code to follow Go style conventions.</p>\n\n<p>Similarly, many RuboCop cops are auto-correctable. Consider this program a\n“before picture”:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Dog</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"nb\">name</span><span class=\"ss\">:name</span><span class=\"p\">)</span>\n    \n    <span class=\"vi\">@name</span><span class=\"o\">=</span><span class=\"nb\">name</span>\n    <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">milo</span> <span class=\"o\">=</span> <span class=\"no\">Dog</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"s2\">\"Milo\"</span><span class=\"p\">)</span>\n<span class=\"nb\">p</span> <span class=\"n\">milo</span>\n\n\n</code></pre>\n</div>\n\n<p>Kind of ugly looking, but it’s syntactically valid:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ ruby -v\nruby 2.0.0p451 (2014-02-24 revision 45167) [x86_64-darwin14.3.0]\n$ ruby -c lol.rb\nSyntax OK\n$ ruby lol.rb\n#&lt;Dog:0x007fbe64207a40 @name=\"Milo\"&gt;\n</code></pre>\n</div>\n\n<p>So let’s try autocorrecting it:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>$ rubocop lol.rb --auto-correct\nInspecting 1 file\nW\n\nOffenses:\n\nlol.rb:1:1: C: Missing top-level class documentation comment.\nclass Dog\n^^^^^\nlol.rb:2:1: C: [Corrected] Extra empty line detected at class body beginning.\nlol.rb:2:23: W: Circular argument reference - name.\n  def initialize(name:name)\n                      ^^^^\nlol.rb:3:1: C: [Corrected] Extra empty line detected at method body beginning.\nlol.rb:3:1: C: [Corrected] Trailing whitespace detected.\nlol.rb:4:1: C: [Corrected] Trailing whitespace detected.\nlol.rb:4:5: W: end at 4, 4 is not aligned with def at 2, 2.\n    end\n    ^^^\nlol.rb:4:10: C: [Corrected] Surrounding space missing for operator =.\n    @name=name\n         ^\nlol.rb:5:10: C: [Corrected] Surrounding space missing for operator =.\n    @name=name\n         ^\nlol.rb:8:22: C: [Corrected] Prefer single-quoted strings when you don't need string interpolation or special symbols.\nmilo = Dog.new(name: \"Milo\")\n                     ^^^^^^\nlol.rb:9:22: C: [Corrected] Prefer single-quoted strings when you don't need string interpolation or special symbols.\nmilo = Dog.new(name: \"Milo\")\n                     ^^^^^^\nlol.rb:10:1: C: [Corrected] 2 trailing blank lines detected.\nlol.rb:11:1: C: [Corrected] 2 trailing blank lines detected.\n\n1 file inspected, 13 offenses detected, 10 offenses corrected\n</code></pre>\n</div>\n\n<p>Afterwards, the program looks like:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Dog</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"nb\">name</span><span class=\"ss\">:name</span><span class=\"p\">)</span>\n    <span class=\"vi\">@name</span> <span class=\"o\">=</span> <span class=\"nb\">name</span>\n    <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">milo</span> <span class=\"o\">=</span> <span class=\"no\">Dog</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"s1\">'Milo'</span><span class=\"p\">)</span>\n<span class=\"nb\">p</span> <span class=\"n\">milo</span>\n</code></pre>\n</div>\n\n<p>It’s not perfect. I’m surprised it didn’t autocorrect the indentation on the\nfirst <code class=\"highlighter-rouge\">end</code>. But it’s neat that it did as much as it did.</p>\n\n<p><strong>EDIT</strong>: I opened <a href=\"https://github.com/bbatsov/rubocop/issues/2125\">an issue</a> about this surprise and it turns out they don’t\nwant to autocorrect that unless you really opt in.</p>\n\n<p>In the past, I’ve written about how <a href=\"/2015/ruby-keyword-arguments-arent-obvious/\">Ruby Keyword Arguments aren’t Obvious</a>,\nand mentioned “circular argument references” as a mistake I had to learn not to\nmake. In an attempt to give back to others like me, I submitted <a href=\"https://github.com/bbatsov/rubocop/pull/2070\">a pull\nrequest</a> which adds a cop to RuboCop that checks for the presence of those\ncircular argument references and warns you about them. This is particularly\nuseful on Ruby 2.0.0 and Ruby 2.1, which don’t emit warnings about their\npresence as Ruby 2.2 does.</p>\n\n<hr />\n\n<h2 id=\"contributing-to-rubocop\">contributing to RuboCop</h2>\n\n<p>Contributing to RuboCop is somewhat intimidating because, as you might imagine,\nits code base has very high standards. It also seems like it ought to be very\ncomplicated, because the project needs to be able to statically analyze code\nin order to complain about it.</p>\n\n<p>Fortunately, the maintainers are very clear and quick in their feedback, and\nhappy to merge things which seem useful. And the code base has many examples of\nhow to write a cop. A cop is a class which inherits from <code class=\"highlighter-rouge\">RuboCop::Cop::Cop</code>.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">require</span> <span class=\"s1\">'rubocop'</span>\n<span class=\"nb\">require</span> <span class=\"s1\">'active_support/all'</span>\n<span class=\"no\">RuboCop</span><span class=\"o\">::</span><span class=\"no\">Cop</span><span class=\"o\">::</span><span class=\"no\">Cop</span><span class=\"p\">.</span><span class=\"nf\">subclasses</span><span class=\"p\">.</span><span class=\"nf\">count</span> <span class=\"c1\">#=&gt; 226</span>\n<span class=\"c1\"># (required active support for the subclasses method, which I love)</span>\n</code></pre>\n</div>\n\n<p>Once you subclass <code class=\"highlighter-rouge\">Cop</code>, your class will be on duty and RuboCop will ask it if\nit’s offended by the code it’s analyzing. You just need to tell it which types\nof code you care about. RuboCop thinks of Ruby code as a tree of nested nodes,\neach having a type. For example, when you assign a local variable, RuboCop sees\nthat as a node whose type is <code class=\"highlighter-rouge\">:lvasgn</code>. Let’s say you wanted to write a cop\nwhere local variables aren’t allowed to be named “harold”. You would write that\nlike this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># encoding: utf-8</span>\n\n<span class=\"k\">module</span> <span class=\"nn\">RuboCop</span>\n  <span class=\"k\">module</span> <span class=\"nn\">Cop</span>\n    <span class=\"k\">module</span> <span class=\"nn\">Lint</span>\n      <span class=\"k\">class</span> <span class=\"nc\">Harold</span> <span class=\"o\">&lt;</span> <span class=\"no\">Cop</span>\n        <span class=\"k\">def</span> <span class=\"nf\">on_lvasgn</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">)</span>\n          <span class=\"n\">local_variable_name</span><span class=\"p\">,</span> <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"o\">*</span><span class=\"n\">node</span>\n          <span class=\"k\">return</span> <span class=\"k\">unless</span> <span class=\"n\">local_variable_name</span> <span class=\"o\">==</span> <span class=\"ss\">:harold</span>\n          <span class=\"n\">add_offense</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">,</span> <span class=\"ss\">:expression</span><span class=\"p\">,</span> <span class=\"s1\">'Do not name local variables harold'</span><span class=\"p\">)</span>\n        <span class=\"k\">end</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>The trickiest bit is learning how RuboCop “sees” code as nodes and learning what\nthe different parts are called. That comes from looking through the existing\nexamples and experimenting. It’s fun, I recommend it. I added <a href=\"https://github.com/bbatsov/rubocop/pull/2078\">one other cop</a>\non a bored evening, about discouraging option hashes.</p>\n\n<hr />\n\n<h2 id=\"rubocop-as-teacher\">RuboCop as teacher</h2>\n\n<p>This summer, I coordinated a group of 5 developer interns at work. I helped pick\nthem out, so I knew they were all very bright but not super experienced with\nRuby. We asked them to study a bit and follow the <a href=\"https://www.railstutorial.org/book\">Rails Tutorial Book</a>\nbefore starting to help get them on the same page, but we didn’t expect them to\nknow Ruby conventions or best practices.</p>\n\n<p>From the beginning, their project had RuboCop linting their code, with zero\nconfiguration. I warned them, “you’re going to hate this”. On their last week,\nI asked them if it was helpful, and they all said yes, but that it was often\nvery annoying. Some of them liked it more than others. One even made <a href=\"https://github.com/bbatsov/rubocop/pull/2085\">a\ncontribution</a> to RuboCop fixing an issue in the cop I added. They produced a\nvery interesting code base. Superficially, it’s immaculate. They picked up a few\ntricks from RuboCop suggestions. More than one cited <a href=\"https://github.com/bbatsov/rubocop/blob/master/lib/rubocop/cop/style/guard_clause.rb\">guard clauses</a> as a\nthing they wouldn’t know about otherwise.</p>\n\n<p>The class length maximum (100 lines) and the method length maximum (10 lines)\nwere both unhelpful. They’re meant to guide you toward following the single\nresponsibility principle, but if it’s not something you’ve internalized, it just\nsort of makes you stuck and frustrated.</p>\n\n<p>I came to think of RuboCop (and, later, <a href=\"http://www.coffeelint.org/\">coffeelint</a> and <a href=\"https://github.com/brigade/scss-lint\">scss-lint</a>) as\nan automated layer of mentorship filtering out some potential questions that\ndidn’t need to reach the human layer, so that layer could be reserved for more\ninteresting problems and discussions.</p>\n\n<hr />\n\n<h2 id=\"rubocop-as-totalitarian-police-state\">RuboCop as totalitarian police state?</h2>\n\n<p>I do think of programming as a creative outlet, but don’t worry about linters\ninhibiting your creativity; think of it like a poetic form with strict rules,\nlike the sonnet. There’s something very satisfying about consistency, right?</p>\n"
      }
      
        ,
      
    
      {
        "date": "01 Aug 2015",
        "title": "some helpful tmux aliases",
        "url": "/2015/some-helpful-tmux-aliases",
        "content": "<p>tmux is <a href=\"http://www.hardscrabble.net/2015/terminal-multiplexing/\">still</a> an essential tool in my development workflow. Today I’m\nwriting to share a few aliases/helper functions I’ve recently added to <a href=\"https://github.com/maxjacobson/dotfiles\">my\ndotfiles</a>. Those change all the time so I’m hesitant to link to the files\nwhich the helper aliases and functions currently live in.</p>\n\n<p>I added them in these commits, though: <a href=\"https://github.com/maxjacobson/dotfiles/commit/4f6169f012030a831b579047e5f15ff17ec06716\"><code class=\"highlighter-rouge\">d06362c</code></a> and <a href=\"https://github.com/maxjacobson/dotfiles/commit/c9d869555b7e8c14319ecf71fd5e8e5befc6e1b8\"><code class=\"highlighter-rouge\">c9d8695</code></a>.</p>\n\n<p>The implementation is mostly stolen from other people’s dotfiles and is gnarly\nto look at so I’ll just share how I use them:</p>\n\n<p><strong>EDIT February 8, 2016</strong>: I totally changed the implementation: <a href=\"https://github.com/maxjacobson/dotfiles/commit/6d883df5989cedec149be1365a18b2ca1b76a958\"><code class=\"highlighter-rouge\">6d883df</code></a>\nbecause I would occasionally have a bug with the old helper functions. More\ndetails in <a href=\"https://github.com/tmux/tmux/issues/298#issuecomment-181614369\">this issue</a></p>\n\n<p>Here’s how to use these aliases:</p>\n\n<hr />\n\n<p>When I’m not in a tmux session, and I want to see the list of tmux sessions, I\nused to run <code class=\"highlighter-rouge\">tmux ls</code>. Now I run <code class=\"highlighter-rouge\">tl</code>.</p>\n\n<hr />\n\n<p>When I’m not in a tmux session and I’d like to start a new one, I used to run\n<code class=\"highlighter-rouge\">tmux new -s blog</code> (where <code class=\"highlighter-rouge\">blog</code> is the name of the new session). Now I run <code class=\"highlighter-rouge\">t</code>.</p>\n\n<p>It auto-chooses a session name based on the current directory’s name.</p>\n\n<p>If there’s already a session with the name of the current directory, it cleverly\nattaches to that session instead of trying to start a new one with that name.</p>\n\n<hr />\n\n<p>If I’m not in a tmux session and I’d like to attach to any existing tmux\nsession, and I don’t particularly care which one because I’m planning to go into\nthe session switcher anyway (<code class=\"highlighter-rouge\">C-b s</code>), I used to run <code class=\"highlighter-rouge\">tmux a</code>. Now I run <code class=\"highlighter-rouge\">ta</code>.</p>\n"
      }
      
        ,
      
    
      {
        "date": "20 Jul 2015",
        "title": "stubbing constants in ruby tests",
        "url": "/2015/stubbing-constants",
        "content": "<p>Let’s say you have some code that doesn’t have tests and you want to add tests.\nBecause the code wasn’t written with tests in mind, it might be hard to write\ntests for it.</p>\n\n<p>Last year, DHH wrote a blog post called <a href=\"http://david.heinemeierhansson.com/2014/test-induced-design-damage.html\">Test-induced design damage</a> which\nargued that code “written with tests in mind” (quoting myself from the previous\nparagraph, not his post) isn’t necessarily better than code written with other\ngoals in mind, and can often be worse.</p>\n\n<p>When I’ve attempted TDD, I’ve had times when I felt like it helped me write nice\ncode and times where I think I went too far like if you’re rolling out some\ndough to make a pie crust but you’re watching TV and you end up spreading it out\nuntil it covers the whole counter.</p>\n\n<p>So this code you want to test. What makes it hard to test? Let’s say it’s a Ruby\nclass in a Rails app. In Rails apps, all the classes are available for all the\nother classes to reference and depend on. Maybe it looks like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">PieCrust</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">pounds_of_dough</span><span class=\"p\">)</span>\n    <span class=\"vi\">@lbs</span> <span class=\"o\">=</span> <span class=\"n\">pounds_of_dough</span>\n    <span class=\"vi\">@ready</span> <span class=\"o\">=</span> <span class=\"kp\">false</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">prep</span>\n    <span class=\"no\">RollingPin</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">.</span><span class=\"nf\">roll_out</span><span class=\"p\">(</span><span class=\"nb\">self</span><span class=\"p\">)</span>\n    <span class=\"no\">Oven</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">.</span><span class=\"nf\">preheat</span>\n    <span class=\"no\">Instagram</span><span class=\"p\">.</span><span class=\"nf\">upload</span><span class=\"p\">(</span><span class=\"nb\">self</span><span class=\"p\">)</span>\n    <span class=\"vi\">@ready</span> <span class=\"o\">=</span> <span class=\"kp\">true</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">ready?</span>\n    <span class=\"vi\">@ready</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>(This example is revealing more about my state of mind right now than anything)</p>\n\n<p>But like, look at this thing. How do we write a test that covers all that? And\nwhat if we want “fast tests”?</p>\n\n<p>(Note: a lot of people really want their tests to run fast. For TDD enthusiasts,\nthis allows a tight feedback loop between when you write the failing test to\nwhen you write the code which makes the test pass. They kind of expect to do\nthat over and over and over and don’t want to wait for more than an instant. I\ndon’t think they’re wrong to want that although I am personally often OK with\nwaiting for longer than an instant.)</p>\n\n<p>(Other people want their tests to run fast as a general principle, like they\nwant their cars to go fast or their legs to.)</p>\n\n<p>Let’s say there are a couple hundred classes in your app and a bunch of\ninitializers which run whenever your Rails application is loaded and none of\nthem are strictly necessary for you to feel confident that your <code class=\"highlighter-rouge\">PieCrust</code> class\nis behaving properly. All you want to know is that calling the <code class=\"highlighter-rouge\">prep</code> method\nrolls out the crust, preheats the oven, and uploads the pie crust to instagram.</p>\n\n<p>You already know that all those things work as long as you call them properly\nbecause you have unit tests for those classes demonstrating how to call them\nproperly. You can see that here they’re being called properly, so you don’t feel\nthe need to <em>actually</em> load the rolling pin code, or the oven code, or the\ninstagram code. And you <em>really</em> don’t want to upload something to instagram\nevery time you run your tests.</p>\n\n<p>What do you do?</p>\n\n<p>There’s the dependency injection approach, where you might refactor the earlier\ncode to look like:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">PieCrust</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">pounds_of_dough</span><span class=\"p\">,</span> <span class=\"ss\">roller: </span><span class=\"no\">RollingPin</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">,</span> <span class=\"ss\">heater: </span><span class=\"no\">Oven</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">,</span> <span class=\"ss\">photo_sharing_service: </span><span class=\"no\">Instagram</span><span class=\"p\">)</span>\n    <span class=\"vi\">@lbs</span> <span class=\"o\">=</span> <span class=\"n\">pounds_of_dough</span>\n    <span class=\"vi\">@roller</span> <span class=\"o\">=</span> <span class=\"n\">roller</span>\n    <span class=\"vi\">@heater</span> <span class=\"o\">=</span> <span class=\"n\">heater</span>\n    <span class=\"vi\">@photo_sharing_service</span> <span class=\"o\">=</span> <span class=\"n\">photo_sharing_service</span>\n    <span class=\"vi\">@ready</span> <span class=\"o\">=</span> <span class=\"kp\">false</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">prep</span>\n    <span class=\"n\">roller</span><span class=\"p\">.</span><span class=\"nf\">roll_out</span><span class=\"p\">(</span><span class=\"nb\">self</span><span class=\"p\">)</span>\n    <span class=\"n\">heater</span><span class=\"p\">.</span><span class=\"nf\">preheat</span>\n    <span class=\"n\">photo_sharing_service</span><span class=\"p\">.</span><span class=\"nf\">upload</span><span class=\"p\">(</span><span class=\"nb\">self</span><span class=\"p\">)</span>\n    <span class=\"vi\">@ready</span> <span class=\"o\">=</span> <span class=\"kp\">true</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">ready?</span>\n    <span class=\"vi\">@ready</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">private</span>\n\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:roller</span><span class=\"p\">,</span> <span class=\"ss\">:heater</span><span class=\"p\">,</span> <span class=\"ss\">:photo_sharing_service</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Which lets you leave your other application code the same – it can interact\nwith PieCrust the same as it did before, as the default values are totally\nsensible there. But you can now write a test like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"no\">RSpec</span><span class=\"p\">.</span><span class=\"nf\">describe</span> <span class=\"no\">PieCrust</span> <span class=\"k\">do</span>\n  <span class=\"n\">describe</span> <span class=\"s1\">'#prep, #ready'</span> <span class=\"k\">do</span>\n    <span class=\"n\">it</span> <span class=\"s1\">'rolls the crust, preheats the oven, and uploads the photo'</span> <span class=\"k\">do</span>\n      <span class=\"n\">roller</span> <span class=\"o\">=</span> <span class=\"n\">double</span>\n      <span class=\"n\">heater</span> <span class=\"o\">=</span> <span class=\"n\">double</span>\n      <span class=\"n\">photo_sharing_service</span> <span class=\"o\">=</span> <span class=\"n\">double</span>\n\n      <span class=\"n\">pie_crust</span> <span class=\"o\">=</span> <span class=\"no\">PieCrust</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"ss\">roller: </span><span class=\"n\">roller</span><span class=\"p\">,</span> <span class=\"ss\">heater: </span><span class=\"n\">heater</span><span class=\"p\">,</span> <span class=\"ss\">photo_sharing_service: </span><span class=\"n\">photo_sharing_service</span><span class=\"p\">)</span>\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"n\">pie_crust</span><span class=\"p\">).</span><span class=\"nf\">to_not</span> <span class=\"n\">be_ready</span>\n\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"n\">roller</span><span class=\"p\">).</span><span class=\"nf\">to</span> <span class=\"n\">receive</span><span class=\"p\">(</span><span class=\"ss\">:roll_out</span><span class=\"p\">).</span><span class=\"nf\">with</span><span class=\"p\">(</span><span class=\"n\">pie_crust</span><span class=\"p\">)</span>\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"n\">heater</span><span class=\"p\">).</span><span class=\"nf\">to</span> <span class=\"n\">receive</span><span class=\"p\">(</span><span class=\"ss\">:preheat</span><span class=\"p\">).</span><span class=\"nf\">with_no_arguments</span>\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"n\">photo_sharing_service</span><span class=\"p\">).</span><span class=\"nf\">to</span> <span class=\"n\">receive</span><span class=\"p\">(</span><span class=\"ss\">:upload</span><span class=\"p\">).</span><span class=\"nf\">with</span><span class=\"p\">(</span><span class=\"n\">pie_crust</span><span class=\"p\">)</span>\n\n      <span class=\"n\">pie_crust</span><span class=\"p\">.</span><span class=\"nf\">prep</span>\n\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"n\">pie_crust</span><span class=\"p\">).</span><span class=\"nf\">to</span> <span class=\"n\">be_ready</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>I feel like this is OK but it feels like it prescribes and duplicates a lot of\nthe stuff that’s going on in the application code, which doesn’t feel ideal to\nme but also feels kind of fine.</p>\n\n<p>Is there any other way? There is. I learned this one from my brilliant coworker\n<a href=\"http://github.com/elmassimo/\">Máximo Mussini</a>. While looking through a gem he\nmade (<a href=\"https://github.com/ElMassimo/journeyman\">Journeyman</a>, a lightweight replacement to FactoryGirl), I discovered\nsome super interesting code, and without his blessing I extracted it out into\na gem which I may use to help me write tests in the future. That gem is called\n<a href=\"https://github.com/maxjacobson/stub_constant\">stub_constant</a>, and using it, I would revert that code to the first version,\navoiding the arguably awkward dependency injection.</p>\n\n<p>You might be assuming: OK, so if you don’t inject the constants, you must load\nthe entire application environment, because you’re going to be depending on\nthose dependencies. Or like, maybe you don’t load the entire application\nenvironment, but you must at least load the code which defines those 3\nconstants, right?</p>\n\n<p>Nope! Doing that is usually really difficult, because once you load the files\nwhich define those constants, those files are probably referencing other\nconstants, so you need to load the files which define <em>those</em> constants and now\nyou might as well just load the whole thing…</p>\n\n<p>So… “Whaaaat?” You might say.</p>\n\n<p>Here’s what the constant-referencing isolation tests would look like:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">require</span> <span class=\"s2\">\"stub_constant\"</span>\n<span class=\"no\">StubConstant</span><span class=\"p\">.</span><span class=\"nf\">klass</span><span class=\"p\">(</span><span class=\"ss\">:Oven</span><span class=\"p\">)</span>\n<span class=\"no\">StubConstant</span><span class=\"p\">.</span><span class=\"nf\">klass</span><span class=\"p\">(</span><span class=\"ss\">:RollingPin</span><span class=\"p\">)</span>\n<span class=\"no\">StubConstant</span><span class=\"p\">.</span><span class=\"nf\">module</span><span class=\"p\">(</span><span class=\"ss\">:Instagram</span><span class=\"p\">)</span>\n\n<span class=\"no\">RSpec</span><span class=\"p\">.</span><span class=\"nf\">describe</span> <span class=\"no\">PieCrust</span> <span class=\"k\">do</span>\n  <span class=\"n\">describe</span> <span class=\"s1\">'#prep, #ready?'</span> <span class=\"k\">do</span>\n    <span class=\"n\">it</span> <span class=\"s1\">'rolls the crust, preheats the oven, and uploads the photo'</span> <span class=\"k\">do</span>\n      <span class=\"n\">roller</span> <span class=\"o\">=</span> <span class=\"n\">double</span>\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"no\">RollingPin</span><span class=\"p\">).</span><span class=\"nf\">to</span> <span class=\"n\">receive</span><span class=\"p\">(</span><span class=\"ss\">:new</span><span class=\"p\">).</span><span class=\"nf\">with_no_arguments</span><span class=\"p\">.</span><span class=\"nf\">and_return</span><span class=\"p\">(</span><span class=\"n\">roller</span><span class=\"p\">)</span>\n\n      <span class=\"n\">heater</span> <span class=\"o\">=</span> <span class=\"n\">double</span>\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"no\">Oven</span><span class=\"p\">).</span><span class=\"nf\">to</span> <span class=\"n\">receive</span><span class=\"p\">(</span><span class=\"ss\">:new</span><span class=\"p\">).</span><span class=\"nf\">with_no_arguments</span><span class=\"p\">.</span><span class=\"nf\">and_return</span><span class=\"p\">(</span><span class=\"n\">heater</span><span class=\"p\">)</span>\n\n      <span class=\"n\">pie_crust</span> <span class=\"o\">=</span> <span class=\"no\">PieCrust</span><span class=\"p\">.</span><span class=\"nf\">new</span>\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"n\">pie_crust</span><span class=\"p\">).</span><span class=\"nf\">to_not</span> <span class=\"n\">be_ready</span>\n\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"n\">roller</span><span class=\"p\">).</span><span class=\"nf\">to</span> <span class=\"n\">receive</span><span class=\"p\">(</span><span class=\"ss\">:roll_out</span><span class=\"p\">).</span><span class=\"nf\">with</span><span class=\"p\">(</span><span class=\"n\">pie_crust</span><span class=\"p\">)</span>\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"n\">heater</span><span class=\"p\">).</span><span class=\"nf\">to</span> <span class=\"n\">receive</span><span class=\"p\">(</span><span class=\"ss\">:preheat</span><span class=\"p\">).</span><span class=\"nf\">with_no_arguments</span>\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"no\">Instagram</span><span class=\"p\">).</span><span class=\"nf\">to</span> <span class=\"n\">receive</span><span class=\"p\">(</span><span class=\"ss\">:upload</span><span class=\"p\">).</span><span class=\"nf\">with</span><span class=\"p\">(</span><span class=\"n\">pie_crust</span><span class=\"p\">)</span>\n\n      <span class=\"n\">pie_crust</span><span class=\"p\">.</span><span class=\"nf\">prep</span>\n\n      <span class=\"n\">expect</span><span class=\"p\">(</span><span class=\"n\">pie_crust</span><span class=\"p\">).</span><span class=\"nf\">to</span> <span class=\"n\">be_ready</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Sooo it got even more prescriptive. But it’s a pretty neat way to do a purely\nisolated test without needing to rewrite your code.</p>\n\n<p>How would you test this? I want to know.</p>\n"
      }
      
        ,
      
    
      {
        "date": "14 Jul 2015",
        "title": "making a pull request to rails",
        "url": "/2015/making-a-pull-request-to-rails",
        "content": "<p>Today I impulsively made <a href=\"https://github.com/rails/rails/pull/20872\">a pull request to Rails</a>, which feels kind of\nlike a milestone for me. It’s about two years since I started using Rails at\nthe Flatiron School. It’s also been about two years since the method I edited\nwas last edited. I feel like there may be a reason and it won’t get merged, but\nwho knows? I feel sort of exposed.</p>\n\n<p>This post was helpful for me: <a href=\"http://www.eileencodes.com/posts/getting-your-local-environment-setup-to-contribute-to-rails\">Eileen Codes | Getting Your Local Environment\nSetup to Contribute to Rails</a>.</p>\n\n<p>In order to make a proper contribution, I needed to know that my change didn’t\nbreak the existing tests, and so I needed to be able to run the tests.</p>\n\n<p>I also wanted to be able to add tests and confirm that they pass. So I <em>really</em>\nneeded to be able to run the tests.</p>\n\n<p>I had some trouble configuring my local environment, despite the post\nexplaining it well (…databases…), BUT the post mentions\n<a href=\"https://github.com/rails/rails-dev-box\">rails/rails-dev-box</a> which lets you skip a lot of the environment\nconfiguration by using a preconfigured virtual machine, and that turned out to\nbe a god send of a casual aside for me and I’m writing this post largely to\npromote the existence of that project because it’s awesome.</p>\n\n<p>It uses <a href=\"https://www.vagrantup.com/\">vagrant</a> which is kind of magical… I had never used it before and\nit totally blew my mind. It allowed me to have a tmux session with windows like\nI’m used to, with the code open in vim in one tab using all the existing\nconfiguration from my local Mac machine, and then another tab where my code\nchanges were immediately available for running the tests against in the Linux\nvirtual machine. It was super seamless and sweet.</p>\n\n<p><a href=\"/img/2015-07-14-rails.gif\">Here’s a four minute long gif of what it looks like</a> – I’m\nrefraining from embedding it so you don’t need to download a 4mb image if you\ndon’t want to, and so you can open it in a new tab to start at the beginning\neasily if you want to.</p>\n\n<p>I don’t really love my solution and I should probably consider it further, but\nI know the tests are passing, including the new one I added. I think being a\nlittle sleep deprived lowered my inhibition tonight.</p>\n"
      }
      
        ,
      
    
      {
        "date": "11 Jul 2015",
        "title": "Quick tip: track command history in zsh",
        "url": "/2015/quick-tip-track-command-history-in-zsh",
        "content": "<p>I switched from bash to zsh a few months ago and it’s been mostly sweet. I\nnoticed that it wasn’t tracking my command history, so I did a little googling\nand got it working by adding these commands to my <code class=\"highlighter-rouge\">~/.zshrc</code>:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>export HISTFILE=~/.zsh_history\nexport SAVEHIST=1000\n</code></pre>\n</div>\n\n<p>I picked 1000 kind of randomly; a bigger number would probably be fine or nice.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "08 Jul 2015",
        "title": "using method_missing with class methods in Ruby",
        "url": "/2015/using-method_missing-with-class-methods",
        "content": "<p>Ruby’s <code class=\"highlighter-rouge\">method_missing</code> let’s you write some weird code:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Poet</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span>\n    <span class=\"vi\">@words</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">method_missing</span><span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">&amp;</span><span class=\"n\">block</span><span class=\"p\">)</span>\n    <span class=\"vi\">@words</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">message</span>\n    <span class=\"n\">message</span><span class=\"p\">.</span><span class=\"nf\">to_s</span><span class=\"p\">.</span><span class=\"nf\">end_with?</span><span class=\"p\">(</span><span class=\"s2\">\"?\"</span><span class=\"p\">)</span> <span class=\"p\">?</span> <span class=\"n\">sentence</span> <span class=\"p\">:</span> <span class=\"nb\">self</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">private</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">sentence</span>\n    <span class=\"vi\">@words</span><span class=\"p\">.</span><span class=\"nf\">join</span><span class=\"p\">(</span><span class=\"s2\">\" \"</span><span class=\"p\">)</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"nb\">puts</span> <span class=\"no\">Poet</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">.</span><span class=\"nf\">why</span><span class=\"p\">.</span><span class=\"nf\">not</span><span class=\"p\">.</span><span class=\"nf\">go</span><span class=\"p\">.</span><span class=\"nf\">for</span><span class=\"p\">.</span><span class=\"nf\">a</span><span class=\"p\">.</span><span class=\"nf\">walk?</span>\n</code></pre>\n</div>\n\n<p>I’ve seen <code class=\"highlighter-rouge\">method_missing</code> used to handle unexpected message on instances of a\nclass before, but never for class methods. But, like, why not?</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">LoudSpeaker</span>\n  <span class=\"k\">def</span> <span class=\"nc\">self</span><span class=\"o\">.</span><span class=\"nf\">method_missing</span><span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">&amp;</span><span class=\"n\">block</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"p\">[</span><span class=\"ss\">:exclaim</span><span class=\"p\">,</span> <span class=\"ss\">:yodel</span><span class=\"p\">,</span> <span class=\"ss\">:howl</span><span class=\"p\">,</span> <span class=\"ss\">:sob</span><span class=\"p\">,</span> <span class=\"ss\">:beg</span><span class=\"p\">].</span><span class=\"nf\">include?</span><span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">)</span>\n      <span class=\"nb\">puts</span> <span class=\"n\">args</span><span class=\"p\">.</span><span class=\"nf\">first</span>\n    <span class=\"k\">else</span>\n      <span class=\"c1\"># we don't want to handle this missing method, we want Ruby to raise the</span>\n      <span class=\"c1\"># NoMethodError it ought to</span>\n      <span class=\"k\">super</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"no\">LoudSpeaker</span><span class=\"p\">.</span><span class=\"nf\">exclaim</span> <span class=\"s2\">\"helloooo!\"</span>\n</code></pre>\n</div>\n\n<p>It’s just methods, so go for it.</p>\n"
      }
      
        ,
      
    
      {
        "date": "08 Jul 2015",
        "title": "todo_lint: a new ruby gem to help prevent comments from stagnating",
        "url": "/2015/todo-lint",
        "content": "<p>I made another gem! Here it is: <a href=\"https://github.com/maxjacobson/todo_lint\">https://github.com/maxjacobson/todo_lint</a></p>\n\n<p>Last week, I wrote about <a href=\"/2015/required-arg/\">required_arg</a>, my new gem for\nadding required keyword arguments to Ruby 2.0.0. I actually made that, quickly,\nwhile making this one, which took several hours longer.</p>\n\n<p>What does it do?</p>\n\n<p>It analyzes your code and warns you about <code class=\"highlighter-rouge\">TODO</code> comments. You can run the\nscript automatically as part of your continuous integration (CI) build process,\nand it will fail your build if your TODOs are troublesome. It suggests a\nworkflow whereby your TODO comments must be annotated with a due date, and that\ndue date must be in the future. So you can write little notes to self in your\ncode, but you cannot forget them, because one day your build will start\nfailing. At that point, you can do what you’ll do; maybe you’ll snooze the todo\ndue date into the future; maybe you’ll pull the idea out into your feature/ bug\ntracker; maybe you’ll just delete it in acknowledgment that you’re never gonna\ndo it. Up to you.</p>\n\n<p>It’s going to be very annoying, and hopefully that will be a good thing.</p>\n\n<p>Adding it to a Ruby project is pretty simple. Here’s what it looks like to add\nit to a gem: <a href=\"https://github.com/maxjacobson/film_snob/pull/85\">https://github.com/maxjacobson/film_snob/pull/85</a></p>\n\n<p>At work, I’m coordinating a gaggle of interns working on a new project, and I\nasked them to be guinea pigs for me and include this gem in their project and\nCI workflow. They obliged, but unfortunately it <strong>immediately didn’t work at\nall</strong>. I didn’t realize it, but our CI service was bundling all dependencies\ninto the same folder as the app, and then todo_lint was checking every file\nfrom every Ruby dependency for todos. We don’t want to check all those files,\nbecause they’re out of our control. I realized we would need some kind of\nconfiguration to allow excluding by folder or maybe even pattern, so I jotted\nit down in <a href=\"https://github.com/maxjacobson/todo_lint/issues/6\">a GitHub issue</a>\nand told the intern to forget about it; the guinea pig was dead!</p>\n\n<p>Or … was it? Awesomely, she took the time to make a pull request to todo_lint,\nmaking it user-configurable; specifically, users can now exclude file patterns\nlike <code class=\"highlighter-rouge\">vendor/**</code>. Excellent! The guinea pig lives.</p>\n\n<p>If you’d like to help improve the project, take a look at <a href=\"https://github.com/maxjacobson/todo_lint/issues\">the remaining open\nissues</a> and feel free to claim\none or add your own. I want my projects to be friendly toward contributors.\nAwesomely, bundler now suggests including <a href=\"coc\">a code of conduct</a> when you\ncreate a skeleton gem with, eg, <code class=\"highlighter-rouge\">bundle gem todo_lint</code>, and I’ll do my best to\nuphold that.</p>\n\n<p>Join me in being a scold. It’s fun.</p>\n"
      }
      
        ,
      
    
      {
        "date": "29 Jun 2015",
        "title": "required keyword arguments in Ruby 2.0.0",
        "url": "/2015/required-arg",
        "content": "<p>TLDR: I made a gem, <a href=\"https://github.com/maxjacobson/required_arg\">required_arg</a>\nwhich offers a workflow for requiring keyword arguments in Ruby 2.0.0, which\ndoesn’t support them on the language level.</p>\n\n<p>In March, we <a href=\"/2015/ruby-keyword-arguments-arent-obvious/\">looked at</a> Ruby keyword arguments, and noted a curious tension.</p>\n\n<p>Sometimes you want to use keyword arguments, and you don’t want to come up with\na default value for that keyword. You kind of want to require the keyword. You\ncan in Ruby 2.1+, but Ruby 2.0.0 is in the awkward position of <em>having</em> keyword\narguments but not being able to require them.</p>\n\n<p>Here’s what you can do in Ruby 2.1:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Dog</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"nb\">name</span><span class=\"p\">:)</span>\n    <span class=\"vi\">@name</span> <span class=\"o\">=</span> <span class=\"nb\">name</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"no\">Dog</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"s2\">\"Milo\"</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; #&lt;Dog:0x007fc404df9f10 @name=\"Milo\"&gt;</span>\n<span class=\"no\">Dog</span><span class=\"p\">.</span><span class=\"nf\">new</span> <span class=\"c1\">#=&gt; an exception is raised: ArgumentError: missing keyword: name</span>\n</code></pre>\n</div>\n\n<p>That’s great! You don’t need to write any additional code, and Ruby will enforce\nthat your method is called with the keyword arguments you require. This gives\nyou flexibility to design interfaces which take advantage of the flexibility and\nclarity of keyword arguments, but still establish some expectations for how the\nmethod will be called.</p>\n\n<p>Here’s what happens when you do the same in Ruby 2.0.0:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Dog</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"nb\">name</span><span class=\"p\">:)</span>\n    <span class=\"vi\">@name</span> <span class=\"o\">=</span> <span class=\"nb\">name</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n<span class=\"c1\"># dog.rb:2: syntax error, unexpected ')'</span>\n<span class=\"c1\"># dog.rb:5: syntax error, unexpected keyword_end, expecting end-of-input</span>\n</code></pre>\n</div>\n\n<p>Syntax error!</p>\n\n<p>Here’s what I suggest doing now:</p>\n\n<ol>\n  <li>Upgrade to a newer version of Ruby</li>\n  <li>If you can’t, try this:</li>\n</ol>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># gem install required_arg</span>\n<span class=\"nb\">require</span> <span class=\"s2\">\"required_arg\"</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Dog</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"no\">RequiredArg</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">:name</span><span class=\"p\">))</span>\n    <span class=\"vi\">@name</span> <span class=\"o\">=</span> <span class=\"nb\">name</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n<span class=\"no\">Dog</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"s2\">\"Milo\"</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; #&lt;Dog:0x007fc404df9f10 @name=\"Milo\"&gt;</span>\n<span class=\"no\">Dog</span><span class=\"p\">.</span><span class=\"nf\">new</span> <span class=\"c1\">#=&gt; an exception is raised: missing keyword: name (ArgumentError)</span>\n</code></pre>\n</div>\n\n<p>Close enough!</p>\n\n<p>If your app is stuck on Ruby 2.0.0 or you’re making a library which supports\nRuby 2.0.0, maybe you’ll find this useful. Let me know if you do.</p>\n\n<p>Here’s the entire source for the gem:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">RequiredArg</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"nb\">name</span> <span class=\"o\">=</span> <span class=\"kp\">nil</span><span class=\"p\">)</span>\n    <span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"nb\">name</span><span class=\"p\">.</span><span class=\"nf\">nil?</span> <span class=\"p\">?</span> <span class=\"s2\">\"missing keyword\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"missing keyword: </span><span class=\"si\">#{</span><span class=\"nb\">name</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n    <span class=\"k\">raise</span> <span class=\"no\">ArgumentError</span><span class=\"p\">,</span> <span class=\"n\">msg</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Pretty simple, and kind of fun. It’s just a little cherry bomb class. The moment\nyou instantiate it, it blows up. Make it the default value for a keyword\nargument, and the moment you forget a keyword argument, the default will be used\nand the expression will be evaluated for the first time. It’s cool that the\ndefault values are lazily evaluated because it allows for things like this.</p>\n\n<p>Check out the gem: <a href=\"https://github.com/maxjacobson/required_arg\">https://github.com/maxjacobson/required_arg</a></p>\n"
      }
      
        ,
      
    
      {
        "date": "27 Jun 2015",
        "title": "assigning values to multiple variables in one line",
        "url": "/2015/assigning-values-to-multiple-variables-in-one-line",
        "content": "<p>Why would you write this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n</code></pre>\n</div>\n\n<p>When you could write:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n</code></pre>\n</div>\n\n<p>A few reasons:</p>\n\n<ol>\n  <li>Maybe you don’t know about this syntax</li>\n  <li>Maybe you don’t mind writing out two lines</li>\n  <li>Maybe you’re concerned about having two references to the same data, as\nexplained <a href=\"http://stackoverflow.com/a/2929722\">in this StackOverflow</a> post</li>\n</ol>\n\n<p>I recently saw code that looked like this, which was disabling some loggers:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"no\">Something</span><span class=\"p\">.</span><span class=\"nf\">logger</span> <span class=\"o\">=</span> <span class=\"no\">OtherThing</span><span class=\"p\">.</span><span class=\"nf\">logger</span> <span class=\"o\">=</span> <span class=\"kp\">nil</span>\n</code></pre>\n</div>\n\n<p>And I was kind of confused and amazed. I know about this multiple assigning\nsyntax, but this looked kind of different. In the earlier example, we were\nassigning a value to a simple local variable, but in this case we were calling a\nsetter method instead.</p>\n\n<p>Something like:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Dog</span>\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:name</span><span class=\"p\">,</span> <span class=\"ss\">:family</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"nb\">name</span><span class=\"p\">)</span>\n    <span class=\"vi\">@name</span> <span class=\"o\">=</span> <span class=\"nb\">name</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">family</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">family_name</span><span class=\"p\">)</span>\n    <span class=\"vi\">@family</span> <span class=\"o\">=</span> <span class=\"n\">family_name</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">milo</span> <span class=\"o\">=</span> <span class=\"no\">Dog</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Milo\"</span><span class=\"p\">)</span>\n<span class=\"n\">lola</span> <span class=\"o\">=</span> <span class=\"no\">Dog</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Lola\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">milo</span><span class=\"p\">.</span><span class=\"nf\">family</span> <span class=\"o\">=</span> <span class=\"n\">lola</span><span class=\"p\">.</span><span class=\"nf\">family</span> <span class=\"o\">=</span> <span class=\"s2\">\"The Jacobsons\"</span>\n<span class=\"nb\">p</span> <span class=\"p\">[</span><span class=\"n\">milo</span><span class=\"p\">,</span> <span class=\"n\">lola</span><span class=\"p\">]</span>\n<span class=\"c1\"># [#&lt;Dog:0x007faf6115b158 @name=\"Milo\", @family=\"The Jacobsons\"&gt;, #&lt;Dog:0x007faf6115b108 @name=\"Lola\", @family=\"The Jacobsons\"&gt;]</span>\n</code></pre>\n</div>\n\n<p>This works because Ruby gives you this syntactic sugar when you write a\n<code class=\"highlighter-rouge\">something=</code> method, it lets you put a space before the <code class=\"highlighter-rouge\">=</code> when calling the\nmethod. And that applies in this context too. Kind of neat.</p>\n"
      }
      
        ,
      
    
      {
        "date": "16 Jun 2015",
        "title": "order of operations",
        "url": "/2015/order-of-operations",
        "content": "<p>Last month, we <a href=\"/2015/operators-as-self-expression/\">looked at</a> Ruby operators,\nand I complained about how I wish I could define my own operators. Today I’m\nlooking at them a little more, and thinking about how Ruby handles expressions\nmade up of multiple operations.</p>\n\n<p>Let’s say you have this Ruby code:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">sum</span> <span class=\"o\">=</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span> <span class=\"o\">+</span> <span class=\"n\">c</span>\n</code></pre>\n</div>\n\n<p>What are a, b, and c? They could be</p>\n\n<ol>\n  <li>variables containing numbers; that’s what they kind of look like they want to\nbe</li>\n  <li>invocations of methods which return numbers</li>\n  <li>variables or methods that contain/return absolutely anything else; let’s not\nworry about this</li>\n  <li>maybe they’re not even defined at all; let’s not worry about this\npossibility either</li>\n</ol>\n\n<p>Let’s look at how option 1 plays out:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"nb\">puts</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span> <span class=\"o\">+</span> <span class=\"n\">c</span>\n<span class=\"c1\"># 3</span>\n</code></pre>\n</div>\n\n<p>So far, so good.</p>\n\n<p>Let’s see how option 2 plays out:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">a</span><span class=\"p\">;</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"k\">end</span>\n<span class=\"k\">def</span> <span class=\"nf\">b</span><span class=\"p\">;</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"k\">end</span>\n<span class=\"k\">def</span> <span class=\"nf\">c</span><span class=\"p\">;</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"k\">end</span>\n<span class=\"nb\">puts</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span> <span class=\"o\">+</span> <span class=\"n\">c</span>\n<span class=\"c1\"># 3</span>\n</code></pre>\n</div>\n\n<p>Sort of funky-looking, but also sort of straight-forward. Here’s the question\nthough: if Ruby is calling those 3 methods to get those 3 values, what order are\nthey being called in? Let’s find out:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">a</span>\n  <span class=\"nb\">puts</span> <span class=\"s2\">\"a\"</span>\n  <span class=\"mi\">1</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">b</span>\n  <span class=\"nb\">puts</span> <span class=\"s2\">\"b\"</span>\n  <span class=\"mi\">1</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">c</span>\n  <span class=\"nb\">puts</span> <span class=\"s2\">\"c\"</span>\n  <span class=\"mi\">1</span>\n<span class=\"k\">end</span>\n\n<span class=\"nb\">puts</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span> <span class=\"o\">+</span> <span class=\"n\">c</span>\n<span class=\"c1\"># a</span>\n<span class=\"c1\"># b</span>\n<span class=\"c1\"># c</span>\n<span class=\"c1\"># 3</span>\n</code></pre>\n</div>\n\n<p>It kind of makes sense. It’s just going from left to right, like English.</p>\n\n<p>One cool thing about Ruby is that (almost) everything is an object, and even\ncore things like math operations are implemented as methods. This means the\nabove could be written like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">puts</span> <span class=\"n\">a</span><span class=\"p\">.</span><span class=\"nf\">+</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">).</span><span class=\"nf\">+</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span>\n<span class=\"c1\"># a</span>\n<span class=\"c1\"># b</span>\n<span class=\"c1\"># c</span>\n<span class=\"c1\"># 3</span>\n</code></pre>\n</div>\n\n<p>This rendition makes it clear that this is a chained sequence of method calls.\nLet’s make it even more clear, by refining the plus method and adding some\nlogging:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">module</span> <span class=\"nn\">MathLogger</span>\n  <span class=\"n\">refine</span> <span class=\"no\">Fixnum</span> <span class=\"k\">do</span>\n    <span class=\"kp\">alias_method</span> <span class=\"ss\">:original_plus</span><span class=\"p\">,</span> <span class=\"p\">:</span><span class=\"o\">+</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">+</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">)</span>\n      <span class=\"n\">original_plus</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">).</span><span class=\"nf\">tap</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">sum</span><span class=\"o\">|</span>\n        <span class=\"nb\">puts</span> <span class=\"s2\">\"</span><span class=\"si\">#{</span><span class=\"nb\">self</span><span class=\"si\">}</span><span class=\"s2\"> + </span><span class=\"si\">#{</span><span class=\"n\">other</span><span class=\"si\">}</span><span class=\"s2\"> = </span><span class=\"si\">#{</span><span class=\"n\">sum</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">using</span> <span class=\"no\">MathLogger</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">a</span>\n  <span class=\"nb\">puts</span> <span class=\"s2\">\"a\"</span>\n  <span class=\"mi\">1</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">b</span>\n  <span class=\"nb\">puts</span> <span class=\"s2\">\"b\"</span>\n  <span class=\"mi\">1</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">c</span>\n  <span class=\"nb\">puts</span> <span class=\"s2\">\"c\"</span>\n  <span class=\"mi\">1</span>\n<span class=\"k\">end</span>\n\n<span class=\"nb\">puts</span> <span class=\"n\">a</span><span class=\"p\">.</span><span class=\"nf\">+</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">).</span><span class=\"nf\">+</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span>\n<span class=\"c1\"># a</span>\n<span class=\"c1\"># b</span>\n<span class=\"c1\"># 1 + 1 = 2</span>\n<span class=\"c1\"># c</span>\n<span class=\"c1\"># 2 + 1 = 3</span>\n<span class=\"c1\"># 3</span>\n</code></pre>\n</div>\n\n<p>Now it’s not as simple as “left to right”. We start at the left and call the a\nmethod. But the next method we call is b, not +. Before we can add two values,\nwe need to know what the values are, and Ruby will evaluate the expression in\nparentheses (here it’s calling a method, but it could be calling multiple\nmethods and they would all be evaluated before the + method is called).</p>\n\n<hr />\n\n<h3 id=\"a-brief-digression-about-defined\">A brief digression about <code class=\"highlighter-rouge\">defined?</code></h3>\n\n<p>This rule doesn’t apply to the defined? method, which ships with Ruby and\nbehaves like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"s2\">\"Hello\"</span>\n<span class=\"n\">defined?</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; \"local-variable\"</span>\n<span class=\"no\">OMG</span>           <span class=\"c1\">#=&gt; NameError: uninitialized constant OMG</span>\n<span class=\"n\">defined?</span><span class=\"p\">(</span><span class=\"no\">OMG</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; nil</span>\n<span class=\"no\">OMG</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>\n<span class=\"n\">defined?</span><span class=\"p\">(</span><span class=\"no\">OMG</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; \"constant\"</span>\n</code></pre>\n</div>\n\n<p>The third line of this excerpt demonstrates that referencing an uninitialized\nconstant normally raises a name error, so it would be normal to expect the same\nto happen on the fourth line, because we just saw that Ruby normally evaluates\nthe arguments to a method. Here it just totally doesn’t, which feels kind of\nweird and inconsistent. It might be helpful to think of <code class=\"highlighter-rouge\">defined?</code> as a language\nkeyword and not a method. See also the <a href=\"/2014/whoa_rubys_alias_is_weirder_than_i_realized/\">alias\nmethod</a>.</p>\n\n<hr />\n\n<p>Back to math. Remember <a href=\"https://en.wikipedia.org/w/index.php?title=Pemdas&amp;redirect=no\">PEMDAS</a>? When evaluating an arithmetic\nexpression, we’re not supposed to just read from left to right, evaluating\noperations as we go; we’re supposed to prioritize some operations above others:</p>\n\n<ul>\n  <li><strong>P</strong>arentheses</li>\n  <li><strong>E</strong>xponents</li>\n  <li><strong>M</strong>ultiplication</li>\n  <li><strong>D</strong>ivision</li>\n  <li><strong>A</strong>ddition</li>\n  <li><strong>S</strong>ubtraction</li>\n</ul>\n\n<p>With this acronym memorized, children are able to evaluate complicated math\nexpressions.</p>\n\n<p>Can Ruby? Let’s see:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"mi\">4</span> <span class=\"o\">+</span> <span class=\"mi\">3</span> <span class=\"o\">*</span> <span class=\"mi\">5</span>   <span class=\"c1\">#=&gt; 19</span>\n</code></pre>\n</div>\n\n<p>Well… yeah! Seems right! But let’s take a look into the order that methods are\nbeing called:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">module</span> <span class=\"nn\">MathLogger</span>\n  <span class=\"n\">refine</span> <span class=\"no\">Fixnum</span> <span class=\"k\">do</span>\n    <span class=\"kp\">alias_method</span> <span class=\"ss\">:original_plus</span><span class=\"p\">,</span> <span class=\"p\">:</span><span class=\"o\">+</span>\n    <span class=\"kp\">alias_method</span> <span class=\"ss\">:original_times</span><span class=\"p\">,</span> <span class=\"p\">:</span><span class=\"o\">*</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">+</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">)</span>\n      <span class=\"n\">original_plus</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">).</span><span class=\"nf\">tap</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">sum</span><span class=\"o\">|</span>\n        <span class=\"nb\">puts</span> <span class=\"s2\">\"</span><span class=\"si\">#{</span><span class=\"nb\">self</span><span class=\"si\">}</span><span class=\"s2\"> + </span><span class=\"si\">#{</span><span class=\"n\">other</span><span class=\"si\">}</span><span class=\"s2\"> = </span><span class=\"si\">#{</span><span class=\"n\">sum</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">*</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">)</span>\n      <span class=\"n\">original_times</span><span class=\"p\">(</span><span class=\"n\">other</span><span class=\"p\">).</span><span class=\"nf\">tap</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">product</span><span class=\"o\">|</span>\n        <span class=\"nb\">puts</span> <span class=\"s2\">\"</span><span class=\"si\">#{</span><span class=\"nb\">self</span><span class=\"si\">}</span><span class=\"s2\"> * </span><span class=\"si\">#{</span><span class=\"n\">other</span><span class=\"si\">}</span><span class=\"s2\"> = </span><span class=\"si\">#{</span><span class=\"n\">product</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n\n<span class=\"n\">using</span> <span class=\"no\">MathLogger</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">four</span>\n  <span class=\"nb\">puts</span> <span class=\"mi\">4</span>\n  <span class=\"mi\">4</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">three</span>\n  <span class=\"nb\">puts</span> <span class=\"mi\">3</span>\n  <span class=\"mi\">3</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">five</span>\n  <span class=\"nb\">puts</span> <span class=\"mi\">5</span>\n  <span class=\"mi\">5</span>\n<span class=\"k\">end</span>\n\n<span class=\"nb\">puts</span> <span class=\"n\">four</span> <span class=\"o\">+</span> <span class=\"n\">three</span> <span class=\"o\">*</span> <span class=\"n\">five</span>\n<span class=\"c1\"># 4</span>\n<span class=\"c1\"># 3</span>\n<span class=\"c1\"># 5</span>\n<span class=\"c1\"># 3 * 5 = 15</span>\n<span class=\"c1\"># 4 + 15 = 19</span>\n<span class=\"c1\"># 19</span>\n</code></pre>\n</div>\n\n<p><em>Interesting!</em> So, Ruby takes a look at four, takes a look at three, and then\n<em>skips the addition</em>, then takes a look at five, and performs the\nmultiplication. Only then does it double back and perform the addition, inlining\nthe product of three and five.</p>\n\n<p>That’s great! And surely, if all of these operations are just methods, it will\nbehave the same when I change it to this?</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">puts</span> <span class=\"n\">four</span><span class=\"p\">.</span><span class=\"nf\">+</span><span class=\"p\">(</span><span class=\"n\">three</span><span class=\"p\">).</span><span class=\"nf\">*</span><span class=\"p\">(</span><span class=\"n\">five</span><span class=\"p\">)</span>\n<span class=\"c1\"># 4</span>\n<span class=\"c1\"># 3</span>\n<span class=\"c1\"># 4 + 3 = 7</span>\n<span class=\"c1\"># 5</span>\n<span class=\"c1\"># 7 * 5 = 35</span>\n<span class=\"c1\"># 35</span>\n</code></pre>\n</div>\n\n<p>Hm, nope. When we call the methods directly, the order of operations breaks.</p>\n\n<p>I always thought it was just “syntactic sugar” that I could omit the dot when\ncalling the + method (and its siblings) but it’s doing slightly more than just\ninlining the dots: it’s also, more or less, inlining the parentheses, so it\nlooks something like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">puts</span> <span class=\"n\">four</span><span class=\"p\">.</span><span class=\"nf\">+</span><span class=\"p\">(</span><span class=\"n\">three</span><span class=\"p\">.</span><span class=\"nf\">*</span><span class=\"p\">(</span><span class=\"n\">five</span><span class=\"p\">))</span>\n</code></pre>\n</div>\n\n<p>How does it choose where to put the parentheses? It has <a href=\"http://stackoverflow.com/a/21060235\">a precedence table</a>\nwhich Ruby references when deciding which operations to evaluate before others.\nThis means that if I <em>were</em> able to define my own operators, I would need to be\nable to insert them somewhere in this hierarchy, and this hierarchy would also\nbe cluttered with all the operators added by the gems included in my project.</p>\n\n<p>Naturally, my operator would be at the top of the list.</p>\n"
      }
      
        ,
      
    
      {
        "date": "10 Jun 2015",
        "title": "designing your own extendible command line utility",
        "url": "/2015/extendible-tools",
        "content": "<p>I <a href=\"http://www.hardscrabble.net/2015/improved-commit-squashing/\">like</a> that you or I can write command line utilities in any language, name\nit <code class=\"highlighter-rouge\">git-butterfly</code>, or whatever you want, and then run it as though it were an\nofficial part of the git tool, as <code class=\"highlighter-rouge\">git butterfly</code>.</p>\n\n<p>It feels a lot like magic, but it’s actually not that complicated a thing to do.\nIf you don’t believe me, watch this video or skip after it to the code, and make\nyour own extendible utility, <code class=\"highlighter-rouge\">pig</code>.</p>\n\n<iframe src=\"https://player.vimeo.com/video/130172467?color=c9ff23&amp;title=0&amp;byline=0&amp;portrait=0\" width=\"500\" height=\"322\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n<p><a href=\"https://vimeo.com/130172467\">designing your own extendible command line utility</a> from <a href=\"https://vimeo.com/maxjacobson\">Max Jacobson</a> on <a href=\"https://vimeo.com\">Vimeo</a>.</p>\n\n<p>If you want your own pig command line utility, copy this code to an executable\nfile on your <code class=\"highlighter-rouge\">$PATH</code> called <code class=\"highlighter-rouge\">pig</code>. Then, try running <code class=\"highlighter-rouge\">pig</code>. Try running\n<code class=\"highlighter-rouge\">pig oink</code>.</p>\n\n<div class=\"language-sh highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c\">#!/usr/bin/env sh</span>\n\n<span class=\"nv\">subcommand</span><span class=\"o\">=</span><span class=\"nv\">$1</span>\n<span class=\"nv\">bin</span><span class=\"o\">=</span><span class=\"s2\">\"pig-</span><span class=\"nv\">$subcommand</span><span class=\"s2\">\"</span>\n<span class=\"nv\">paths</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"k\">${</span><span class=\"nv\">PATH</span><span class=\"p\">//</span>:/<span class=\"nv\">$'</span><span class=\"p\">\\n</span><span class=\"s1\">'}\"\n\nif [[ -z $subcommand ]]; then\n  echo \"Gimme a subcommand\"\n  exit 1\nfi\n\nfor path in $paths; do\n  pathToBin=\"$path/$bin\"\n  if [ -f $pathToBin ]; then\n    $pathToBin\n    exit 0\n  fi\ndone\n\necho \"$bin is not a pig command\"\nexit 1\n</span></code></pre>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "02 Jun 2015",
        "title": "gemfiles are ruby files",
        "url": "/2015/gemfiles-are-ruby-files",
        "content": "<p>A while back I saw this cool blog post: <a href=\"https://byparker.com/blog/2014/stay-up-to-date-with-the-latest-github-pages-gem/\">Stay up to date with the latest github\npages gem</a> by Parker Moore, who maintains Jekyll. Jekyll is the static site\ntool that powers <a href=\"https://pages.github.com/\">github pages</a>, but github pages doesn’t necessarily use\nthe latest version of Jekyll. If you’re deploying your website to github pages,\nyou probably want to make sure your local Jekyll server behaves in the same way\nas the Jekyll that runs on github pages.</p>\n\n<p>A Jekyll site is a Ruby project, and Ruby projects should have a Gemfile\nlisting their dependencies. Jekyll is a gem, so you might think that you should\nadd this to your Gemfile:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">gem</span> <span class=\"s1\">'jekyll'</span>\n</code></pre>\n</div>\n\n<p>But actually, maybe not!</p>\n\n<p>Consider this intsead:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">gem</span> <span class=\"s1\">'github-pages'</span>\n</code></pre>\n</div>\n\n<p>This includes the exact version of Jekyll that github pages is using (and <a href=\"https://github.com/github/pages-gem/blob/master/lib/github-pages.rb#L9-L31\">a\nfew other things</a>).</p>\n\n<p>That’s great, because you know you can preview your website locally and know\nthat it will look the same when you deploy it to GitHub pages.</p>\n\n<p>You may be asking: what about when they upgrade the version of Jekyll they’re\nusing to compile your site?? Well, they release a new version of the\ngithub-pages gem, which bumps its Jekyll dependency. So, ideally, before pushing\nto your Jekyll site on github pages, you should know that you’re using the\nlatest version of the github pages gem.</p>\n\n<p>Here’s how you can do that (so far I’m just summarizing that Parker Moore blog\npost):</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">require</span> <span class=\"s1\">'json'</span>\n<span class=\"nb\">require</span> <span class=\"s1\">'open-uri'</span>\n<span class=\"n\">versions</span> <span class=\"o\">=</span> <span class=\"no\">JSON</span><span class=\"p\">.</span><span class=\"nf\">parse</span><span class=\"p\">(</span><span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'https://pages.github.com/versions.json'</span><span class=\"p\">).</span><span class=\"nf\">read</span><span class=\"p\">)</span>\n<span class=\"n\">gem</span> <span class=\"s1\">'github-pages'</span><span class=\"p\">,</span> <span class=\"n\">versions</span><span class=\"p\">[</span><span class=\"s1\">'github-pages'</span><span class=\"p\">]</span>\n</code></pre>\n</div>\n\n<p>Isn’t that cool? Now, when you start your local server with <code class=\"highlighter-rouge\">bundle exec jekyll\nserve</code>, it will confirm that you have the appropriate version of github pages.</p>\n\n<p>Happy ending? Sort of.</p>\n\n<p>I did that a few months ago, and was happy for those months. Then, last\nweekend, I found myself somewhere without internet access and a blog post idea,\nbut was sad to see that I was unable to run my local blog server because my\nGemfile was unable to connect to the internet to confirm it had the latest\ndependencies.</p>\n\n<p>When you’re without internet access, you can’t push changes to your blog\nanyway, so there’s not really any danger of seeing an offline preview of what\nthe site looks like without confirming you have the latest versions of\neverything.</p>\n\n<p>Now my Gemfile looks like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">begin</span>\n  <span class=\"nb\">require</span> <span class=\"s1\">'json'</span>\n  <span class=\"nb\">require</span> <span class=\"s1\">'open-uri'</span>\n  <span class=\"n\">versions</span> <span class=\"o\">=</span> <span class=\"no\">JSON</span><span class=\"p\">.</span><span class=\"nf\">parse</span><span class=\"p\">(</span><span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'https://pages.github.com/versions.json'</span><span class=\"p\">).</span><span class=\"nf\">read</span><span class=\"p\">)</span>\n  <span class=\"n\">gem</span> <span class=\"s1\">'github-pages'</span><span class=\"p\">,</span> <span class=\"n\">versions</span><span class=\"p\">[</span><span class=\"s1\">'github-pages'</span><span class=\"p\">]</span>\n<span class=\"k\">rescue</span> <span class=\"no\">SocketError</span>\n  <span class=\"n\">gem</span> <span class=\"s1\">'github-pages'</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Nice! When the network request fails, a <code class=\"highlighter-rouge\">SocketError</code> is raised, so we’re able\nto rescue that error and fallback to any old version of the gem. This might\nstill fail; it assumes that we’ve previously successfully installed <em>a</em> version\nof the gem to fall back to, and that version is cached locally by bundler.</p>\n\n<p>It’s neat that we’re able to use whatever Ruby we want to in our Gemfile, but\nkind of non-obvious because it doesn’t end with <code class=\"highlighter-rouge\">.rb</code>. Well, what if it was\njust called something else? Turns out you can rename your Gemfile to\ngems.rb, and your Gemfile.lock to gems.locked <a href=\"https://github.com/bundler/bundler/commit/0823e10ea01d36f6bdb764cc8754bda7236737e9\">since Bundler\n1.8.0</a>, and this will be the new normal in Bundler 2.0.</p>\n\n<p>Neat! Now my Gemfile looks like the above, but it’s now my gems.rb file.</p>\n"
      }
      
        ,
      
    
      {
        "date": "26 May 2015",
        "title": "operators as self expression",
        "url": "/2015/operators-as-self-expression",
        "content": "<p><strong>EDIT June</strong>: I’ve followed-up this post: <a href=\"/2015/order-of-operations/\">order of operations</a></p>\n\n<p><strong>NOTE:</strong> this post seems to have a ton of code samples, but it’s pretty much\njust the same one over and over with some small variations to play with an idea.</p>\n\n<p>Suppose you were writing a program to help you write a novel, and you start out\nwith something like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Novel</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"p\">)</span>\n    <span class=\"vi\">@title</span> <span class=\"o\">=</span> <span class=\"n\">title</span>\n    <span class=\"vi\">@chapters</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Chapter</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span>\n    <span class=\"vi\">@text</span> <span class=\"o\">=</span> <span class=\"n\">text</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">moby_dick</span> <span class=\"o\">=</span> <span class=\"no\">Novel</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Moby Dick\"</span><span class=\"p\">)</span>\n<span class=\"n\">first_chapter</span> <span class=\"o\">=</span> <span class=\"no\">Chapter</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Call me Ishmael...\"</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>After you write this, you pause, because how are you going to define the\ninterface for adding a new chapter to a novel?</p>\n\n<p>Something like this works fine:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Novel</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"p\">)</span>\n    <span class=\"vi\">@title</span> <span class=\"o\">=</span> <span class=\"n\">title</span>\n    <span class=\"vi\">@chapters</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">add_chapter</span><span class=\"p\">(</span><span class=\"n\">chapter</span><span class=\"p\">)</span>\n    <span class=\"n\">chapters</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">chapter</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">private</span>\n\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:chapters</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Chapter</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span>\n    <span class=\"vi\">@text</span> <span class=\"o\">=</span> <span class=\"n\">text</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">moby_dick</span> <span class=\"o\">=</span> <span class=\"no\">Novel</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Moby Dick\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span><span class=\"p\">.</span><span class=\"nf\">add_chapter</span> <span class=\"no\">Chapter</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Call me Ishmael...\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span> <span class=\"c1\">#=&gt; #&lt;Novel:0x007fdabc81c1f0 @title=\"Moby Dick\", @chapters=[#&lt;Chapter:0x007fdabc81c178 @text=\"Call me Ishmael...\"&gt;]&gt;</span>\n</code></pre>\n</div>\n\n<p>Writing methods is good, and that method has a perfectly adequate name. But\nsome clever ducks will be dissatisfied by it, because they know there’s a more\nfun, or maybe a more expressive way:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Novel</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"p\">)</span>\n    <span class=\"vi\">@title</span> <span class=\"o\">=</span> <span class=\"n\">title</span>\n    <span class=\"vi\">@chapters</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">&lt;&lt;</span><span class=\"p\">(</span><span class=\"n\">chapter</span><span class=\"p\">)</span>\n    <span class=\"n\">chapters</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">chapter</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">private</span>\n\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:chapters</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Chapter</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span>\n    <span class=\"vi\">@text</span> <span class=\"o\">=</span> <span class=\"n\">text</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">moby_dick</span> <span class=\"o\">=</span> <span class=\"no\">Novel</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Moby Dick\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span> <span class=\"o\">&lt;&lt;</span> <span class=\"no\">Chapter</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Call me Ishmael...\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span> <span class=\"c1\">#=&gt; #&lt;Novel:0x007fdabc81c1f0 @title=\"Moby Dick\", @chapters=[#&lt;Chapter:0x007fdabc81c178 @text=\"Call me Ishmael...\"&gt;]&gt;</span>\n</code></pre>\n</div>\n\n<p>The <code class=\"highlighter-rouge\">&lt;&lt;</code> “shovel” operator is familiar to most Ruby\nprogrammers, and chapters are a natural thing to shovel into a novel, so it\nfeels kind of natural to use it here.</p>\n\n<p><code class=\"highlighter-rouge\">&lt;&lt;</code> is the idiomatic operator to use, but sometimes I don’t want to be\nidiomatic, I want to be weird. Maybe I feel like this version suits me better:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Novel</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"p\">)</span>\n    <span class=\"vi\">@title</span> <span class=\"o\">=</span> <span class=\"n\">title</span>\n    <span class=\"vi\">@chapters</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">&lt;</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">chapter</span><span class=\"p\">)</span>\n    <span class=\"n\">chapters</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">chapter</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">private</span>\n\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:chapters</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Chapter</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span>\n    <span class=\"vi\">@text</span> <span class=\"o\">=</span> <span class=\"n\">text</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">moby_dick</span> <span class=\"o\">=</span> <span class=\"no\">Novel</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Moby Dick\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span> <span class=\"o\">&lt;=</span> <span class=\"no\">Chapter</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Call me Ishmael...\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span> <span class=\"c1\">#=&gt; #&lt;Novel:0x007fdabc81c1f0 @title=\"Moby Dick\", @chapters=[#&lt;Chapter:0x007fdabc81c178 @text=\"Call me Ishmael...\"&gt;]&gt;</span>\n</code></pre>\n</div>\n\n<p>For me, <code class=\"highlighter-rouge\">&lt;=</code> is a more visually stimulating, writerly operator.</p>\n\n<p>I probably shouldn’t do this. It’s a totally weird interface! <code class=\"highlighter-rouge\">&lt;=</code> means “less\nthan or equal to”, not append..!</p>\n\n<p>In fact, I’m only allowed to even do that because <code class=\"highlighter-rouge\">&lt;=</code> is on a list of\nacceptable operators<sup id=\"fnref:thelist\"><a href=\"#fn:thelist\" class=\"footnote\">1</a></sup>. You can’t just name your operator whatever. Let’s try:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Novel</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"p\">)</span>\n    <span class=\"vi\">@title</span> <span class=\"o\">=</span> <span class=\"n\">title</span>\n    <span class=\"vi\">@chapters</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"err\">✏️</span><span class=\"p\">(</span><span class=\"n\">chapter</span><span class=\"p\">)</span>\n    <span class=\"n\">chapters</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">chapter</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">private</span>\n\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:chapters</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Chapter</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span>\n    <span class=\"vi\">@text</span> <span class=\"o\">=</span> <span class=\"n\">text</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">moby_dick</span> <span class=\"o\">=</span> <span class=\"no\">Novel</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Moby Dick\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span> <span class=\"err\">✏️</span> <span class=\"no\">Chapter</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Call me Ishmael...\"</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; undefined method `✏️' for main:Object (NoMethodError)</span>\n</code></pre>\n</div>\n\n<p>It totally blows up. This works, though:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">moby_dick</span> <span class=\"o\">=</span> <span class=\"no\">Novel</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Moby Dick\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span><span class=\"o\">.</span><span class=\"err\">✏️</span> <span class=\"no\">Chapter</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Call me Ishmael...\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span> <span class=\"c1\">#=&gt; #&lt;Novel:0x007fdabc81c1f0 @title=\"Moby Dick\", @chapters=[#&lt;Chapter:0x007fdabc81c178 @text=\"Call me Ishmael...\"&gt;]&gt;</span>\n</code></pre>\n</div>\n\n<p>Surprisingly, this does too:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">moby_dick</span> <span class=\"o\">=</span> <span class=\"no\">Novel</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Moby Dick\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span> <span class=\"o\">.</span> <span class=\"err\">✏️</span> <span class=\"no\">Chapter</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"s2\">\"Call me Ishmael...\"</span><span class=\"p\">)</span>\n<span class=\"n\">moby_dick</span> <span class=\"c1\">#=&gt; #&lt;Novel:0x007fdabc81c1f0 @title=\"Moby Dick\", @chapters=[#&lt;Chapter:0x007fdabc81c178 @text=\"Call me Ishmael...\"&gt;]&gt;</span>\n</code></pre>\n</div>\n\n<p>There are <strong>so many spaces</strong> on that second line, but it totally works.</p>\n\n<p>It sucks that the period is necessary for this to be syntactically valid. I\nthink. I don’t know what the consequences would be of allowing programmers to\ndefine arbitrary operators. Maybe they’re vast?</p>\n\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:thelist\">\n      <p><a href=\"http://stackoverflow.com/a/3331974\">here’s</a> a stack overflow post about which operators are overloadable. It may not be up-to-date with Ruby 2, though, so overload at your own risk. <a href=\"#fnref:thelist\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "25 Apr 2015",
        "title": "time zones are still the worst",
        "url": "/2015/time-zones-are-still-the-worst",
        "content": "<p>After publishing <a href=\"http://www.hardscrabble.net/2015/my-new-menu-bar-guilt-trip/\">my last post</a>, a few minutes ago, I of course triggered\nrefreshes until the reminder ticked down to “0 days and 0 hours”, but… it\ndidn’t work.</p>\n\n<p>Instead, I saw: “0 days and 4 hours”. What the hell?</p>\n\n<p>My first instinct was to blame the script and feel a little embarrassed for\nsharing a faulty script.</p>\n\n<p>After a little digging, I realized it was worse than that: it was actually my\nRSS feed that was faulty! This commit fixed the problem: <a href=\"https://github.com/hardscrabble/hardscrabble.github.io/commit/642cd54bf4ea6667d38970049fd47065c610b611\">642cd54</a>.</p>\n\n<p>Because I wasn’t supplying a time zone in the metadata for the post, Jekyll (my\nblog generator) had to make an assumption, and it assumed UTC, which is\ncurrently 4 hours ahead of New York, from where this blog emanates, and from\nwhere I anxiously remind myself to update it.</p>\n\n<p>By stating that I was publishing a post at 15:53 UTC as opposed to 15:53 EDT, I\nwas effectively backdating it, which makes it sort earlier in RSS feeds. One of\nmy favorite blogs, <a href=\"http://usesthis.com/\">The Setup</a>, doesn’t supply times at all, only dates, so\nwhenever a new interview arrives, it arrives buried below all of the day’s\nposts, which I find mildly inconvenient. It pains me to know I’ve caused\nsomething of the same, and I apologize.</p>\n\n<p>But at least the script is fine!</p>\n"
      }
      
        ,
      
    
      {
        "date": "25 Apr 2015",
        "title": "my new menu bar guilt trip",
        "url": "/2015/my-new-menu-bar-guilt-trip",
        "content": "<p>I just discovered <a href=\"http://www.richsomerfield.com/apps/\">TextBar</a> via <a href=\"http://www.macstories.net/mac/textbar-puts-your-text-into-the-menu-bar/\">this article</a> and it’s a pretty sweet Mac\napp.</p>\n\n<p>You provide it a script and an interval, and it runs the script over and over,\nand prints the result to your Mac menu bar.</p>\n\n<p>It comes with a few neat starter scripts which tell you things like how full\nyour disk is and which wifi network you’re attached to.</p>\n\n<p>For some reason, my instinct was to make a script that told me how long it’s\nbeen since I updated this blog.</p>\n\n<p>I tried writing it as a shell script but gave up halfway through and switched\nto Ruby because, as much as I enjoy a challenge, parsing dates with the Mac\n<a href=\"https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/date.1.html\">date</a> utility was making me sad.</p>\n\n<div class=\"language-sh highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c\">#!/bin/sh</span>\n\n<span class=\"k\">function </span>latestPost <span class=\"o\">{</span>\n  <span class=\"nb\">local </span><span class=\"nv\">xml</span><span class=\"o\">=</span><span class=\"k\">$(</span>curl http://www.hardscrabble.net/feed.xml 2&gt;/dev/null<span class=\"k\">)</span>\n  <span class=\"nb\">echo</span> <span class=\"nv\">$xml</span> &gt; /tmp/feed.xml\n  <span class=\"nb\">local </span><span class=\"nv\">lastPost</span><span class=\"o\">=</span><span class=\"k\">$(</span>xmllint /tmp/feed.xml --xpath <span class=\"s2\">\"//item[1]/pubDate/text()\"</span><span class=\"k\">)</span>\n  <span class=\"nb\">echo</span> <span class=\"nv\">$lastPost</span> | ruby -rdate -e <span class=\"s2\">\"\n    def pluralize(number, word)\n      %{#{number} #{word}#{'s' unless number == 1}}\n    end\n    diff = (DateTime.now - DateTime.parse(STDIN.read)).to_f\n    days = diff.to_i\n    hours = ((diff * 24) % 24).round\n    STDOUT.write %{#{pluralize days, 'day'} and #{pluralize hours, 'hour'}}\"</span>\n<span class=\"o\">}</span>\n\nlatestPost\n</code></pre>\n</div>\n\n<p>This is kind of a Frankenstein script (it even has <a href=\"http://apidock.com/rails/ActionView/Helpers/TextHelper/pluralize\">a little Rails</a> in it)\nbut it works so :bowtie:.</p>\n\n<p>To use it with TextBar, I put this in a file and made it executable, and then\njust referenced the path to the file as the “Script”:</p>\n\n<p><img src=\"/img/2015-04-25-textbar.png\" alt=\"TextBar UI screenshot\" /></p>\n\n<p>I’m having it refresh hourly, because the script is only specific to the\nnearest hour, so it’ll always be more-or-less right.</p>\n\n<p>Here’s what my menu bar currently looks like:</p>\n\n<p><img src=\"/img/2015-04-25-textbar-guilt.png\" alt=\"menubar screenshot\" /></p>\n\n<p>(Tweetbot, this script via textbar, postgres, 1password, dropbox with some\nnotification?, google drive, alfred, caffeine, and then some native Mac stuff)</p>\n"
      }
      
        ,
      
    
      {
        "date": "03 Apr 2015",
        "title": "How to easily post to your Jekyll blog from your iPhone or iPad",
        "url": "/2015/how-to-jekyll-from-ios",
        "content": "<h2 id=\"caveats\">Caveats:</h2>\n\n<ul>\n  <li>This solution doesn’t support Octopress, only Jekyll</li>\n  <li>This solution assumes you’re hosting your blog on GitHub</li>\n</ul>\n\n<h2 id=\"steps\">Steps</h2>\n\n<ul>\n  <li>One-time setup\n    <ul>\n      <li>Download <a href=\"http://omz-software.com/editorial/\">Editorial</a></li>\n      <li>Install the <a href=\"http://www.editorial-workflows.com/workflow/5838419494174720/XyeFJfsyXwE\">Publish Jekyll Post</a> workflow I’ve just created</li>\n      <li>Tap the wrench to see the list of workflows</li>\n      <li>Find the newly installed “Publish Jekyll Post” workflow</li>\n      <li>We need to configure the workflow with your info. Try running it, and it will complain that you haven’t provided a GitHub API access token. It will offer to open Safari on the page where you can create a new access token. Do that, and copy it to your clipboard. Note: the only necessary permission is “public_repo”, assuming your repo is public, which it almost certainly is. You can revoke this token at any time to cut off the workflow.</li>\n      <li>Return to Editorial</li>\n      <li>Tap the “i” info button for the workflow</li>\n      <li>Tap “Edit Workflow”</li>\n      <li>Find the step called “Configure Access Token” and tap to expand it. There’s a text box there where you can paste in your access token.</li>\n      <li>Scroll down to the “Configure Repo” step and tap to expand that one as well. There, write in your GitHub username and the name of the repo you’d like to add posts to.</li>\n    </ul>\n  </li>\n  <li>Now that configuration is done, just create a new document in Editorial and write your post. You are responsible for providing the YAML front matter (the block at the top with the title and date)</li>\n  <li>Run the workflow.\n    <ul>\n      <li>You will be asked what the file name should be. The workflow makes a smart guess: <code class=\"highlighter-rouge\">_posts/2015-04-02-whatever-the-file-name-is.md</code>, but you can change it.</li>\n      <li>You will be asked what the commit message should be.</li>\n      <li>The workflow will then create the file in your repo and, upon success, offer to open that file on GitHub.</li>\n    </ul>\n  </li>\n</ul>\n\n<p>If you have any problems or ideas, please open an issue on the project’s GitHub repo: <a href=\"https://github.com/maxjacobson/github-pages-editorial\">https://github.com/maxjacobson/github-pages-editorial</a></p>\n\n"
      }
      
        ,
      
    
      {
        "date": "02 Apr 2015",
        "title": "analytics",
        "url": "/2015/analytics",
        "content": "<p>A few months ago I installed Google Analytics on hardscrabble, and a few weeks ago I installed <a href=\"https://clicky.com\">Clicky</a>, a competing service.</p>\n\n<p>I felt a little skeezy, a little Not Punk, when I did that.</p>\n\n<p>Aren’t I supposed to not care what people think and write from the heart?</p>\n\n<p>Well, to be honest, I do. I check the stats sometimes. And I’m letting it affect what I do and write.</p>\n\n<p>But hopefully in a good way!</p>\n\n<p>For example: I learned, much to be my surprise, that <a href=\"http://www.hardscrabble.net/2014/jekyll_api/\">this</a> is consistently my most popular post. It’s not a mega hit or anything, but it gets a few visits every day. People want a good solution to that particular problem, and there aren’t that many solutions at all.</p>\n\n<p>Unfortunately, my solution from January 2014 is pretty bad. I feel bad for those people. I want to help them. Maybe analytics can tell me who on this Earth I can help, and maybe that’s beautiful.</p>\n\n<p>Anyway, I’m writing this on Editorial on my iPad (with a bluetooth keyboard; I’m not crazy), and I’m about to publish it using a MUCH IMPROVED, lighter-weight workflow. I want to battle-test it a little bit more before I share it. Maybe this won’t even</p>\n"
      }
      
        ,
      
    
      {
        "date": "29 Mar 2015",
        "title": "ruby keyword arguments aren't obvious",
        "url": "/2015/ruby-keyword-arguments-arent-obvious",
        "content": "<p>Since Ruby 2.0, methods can be defined with keyword arguments instead of the\ntraditional ordinal arguments. I really like them. But they’re not obvious. I\nfind myself thinking, maybe too often, “wait, how the hell do these work?”</p>\n\n<p>This post is a stream of consciousness exploration through the things about\nkeyword arguments that confuse or confused me or people I know. Wading through\nthis post might help you emerge with a firmer understanding of how to use them.\nI hope it makes sense if you read it. Please let me know. I want to write about\na thing I find confusing in a way that honors that confusion but is also clear\nand readable, which maybe isn’t a thing I can do.</p>\n\n<p>Let’s start with an example of keyword arguments working as-advertised:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">email</span><span class=\"p\">(</span><span class=\"n\">from</span><span class=\"p\">:,</span> <span class=\"n\">to</span><span class=\"p\">:,</span> <span class=\"n\">subject</span><span class=\"p\">:,</span> <span class=\"n\">body</span><span class=\"p\">:)</span>\n  <span class=\"s2\">\"From: </span><span class=\"si\">#{</span><span class=\"n\">from</span><span class=\"si\">}</span><span class=\"se\">\\n</span><span class=\"s2\">To: </span><span class=\"si\">#{</span><span class=\"n\">to</span><span class=\"si\">}</span><span class=\"se\">\\n</span><span class=\"s2\">Subject: </span><span class=\"si\">#{</span><span class=\"n\">subject</span><span class=\"si\">}</span><span class=\"se\">\\n\\n</span><span class=\"si\">#{</span><span class=\"n\">body</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>That’s a kind of strange method that takes a few required keyword arguments and\nmakes a string from them. I like using keyword arguments here because now you\ncan call the method however you like, as long as you provide all of the\nkeywords; the order doesn’t matter, and it’s clear which one is which.</p>\n\n<p>So, for example, here’s a perfectly valid way to call that method (note the\norder has changed):</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">email</span><span class=\"p\">(</span>\n  <span class=\"ss\">subject: </span><span class=\"s2\">\"Thanks!\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">from: </span><span class=\"s2\">\"Max\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">to: </span><span class=\"s2\">\"Susan\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">body: </span><span class=\"s2\">\"The soup was great!\"</span>\n<span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>We’re able to use required keyword arguments in Ruby 2.1 and forward. What if\nyour app is using Ruby 2.0.0? You’d still like to reap the clarity benefits of\nkeyword arguments, but now you must provide a default value for every keyword.\nWhat default makes sense for an email? I’m not sure. I guess you can do this?</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">email</span><span class=\"p\">(</span><span class=\"ss\">from: </span><span class=\"kp\">nil</span><span class=\"p\">,</span> <span class=\"ss\">to: </span><span class=\"kp\">nil</span><span class=\"p\">,</span> <span class=\"ss\">subject: </span><span class=\"kp\">nil</span><span class=\"p\">,</span> <span class=\"ss\">body: </span><span class=\"kp\">nil</span><span class=\"p\">)</span>\n  <span class=\"k\">raise</span> <span class=\"no\">ArgumentError</span> <span class=\"k\">if</span> <span class=\"p\">[</span><span class=\"n\">from</span><span class=\"p\">,</span> <span class=\"n\">to</span><span class=\"p\">,</span> <span class=\"n\">subject</span><span class=\"p\">,</span> <span class=\"n\">body</span><span class=\"p\">].</span><span class=\"nf\">any?</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"ss\">:nil?</span><span class=\"p\">)</span>\n  <span class=\"s2\">\"From: </span><span class=\"si\">#{</span><span class=\"n\">from</span><span class=\"si\">}</span><span class=\"se\">\\n</span><span class=\"s2\">To: </span><span class=\"si\">#{</span><span class=\"n\">to</span><span class=\"si\">}</span><span class=\"se\">\\n</span><span class=\"s2\">Subject: </span><span class=\"si\">#{</span><span class=\"n\">subject</span><span class=\"si\">}</span><span class=\"se\">\\n\\n</span><span class=\"si\">#{</span><span class=\"n\">body</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Which kind of simulates the behavior of Ruby 2.1 required keyword arguments.\nBut it’s not great, because sometimes nil is actually a value that you want to\nbe providing. So maybe you do something heavier, like this?</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">AbsentArgument</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">email</span><span class=\"p\">(</span><span class=\"ss\">from: </span><span class=\"no\">AbsentArgument</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">,</span> <span class=\"ss\">to: </span><span class=\"no\">AbsentArgument</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">,</span> <span class=\"ss\">subject: </span><span class=\"no\">AbsentArgument</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">,</span> <span class=\"ss\">body: </span><span class=\"no\">AbsentArgument</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">)</span>\n  <span class=\"k\">raise</span> <span class=\"no\">ArgumentError</span> <span class=\"k\">if</span> <span class=\"p\">[</span><span class=\"n\">from</span><span class=\"p\">,</span> <span class=\"n\">to</span><span class=\"p\">,</span> <span class=\"n\">subject</span><span class=\"p\">,</span> <span class=\"n\">body</span><span class=\"p\">].</span><span class=\"nf\">any?</span> <span class=\"p\">{</span> <span class=\"o\">|</span><span class=\"n\">arg</span><span class=\"o\">|</span> <span class=\"n\">arg</span><span class=\"p\">.</span><span class=\"nf\">is_a?</span><span class=\"p\">(</span><span class=\"no\">AbsentArgument</span><span class=\"p\">)</span> <span class=\"p\">}</span>\n  <span class=\"s2\">\"From: </span><span class=\"si\">#{</span><span class=\"n\">from</span><span class=\"si\">}</span><span class=\"se\">\\n</span><span class=\"s2\">To: </span><span class=\"si\">#{</span><span class=\"n\">to</span><span class=\"si\">}</span><span class=\"se\">\\n</span><span class=\"s2\">Subject: </span><span class=\"si\">#{</span><span class=\"n\">subject</span><span class=\"si\">}</span><span class=\"se\">\\n\\n</span><span class=\"si\">#{</span><span class=\"n\">body</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Which is kind of clunky-looking but maybe more explicit?</p>\n\n<p>Let’s be happy required keyword arguments are an official thing now and not\nworry about that and just hope we can all always use Ruby 2.1 or newer.</p>\n\n<p>Keyword arguments kind of look like hashes. Are they hashes? I don’t know. You\ncan use hashes with them:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">arguments</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"ss\">from: </span><span class=\"s2\">\"Max\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">to: </span><span class=\"s2\">\"Beth\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">subject: </span><span class=\"s2\">\"Thanks!\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">body: </span><span class=\"s2\">\"Your soup was great!\"</span>\n<span class=\"p\">}</span>\n<span class=\"n\">email</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">arguments</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>That works. That <code class=\"highlighter-rouge\">**</code> coerces the hash into keyword arguments, kind of like the\n<code class=\"highlighter-rouge\">*</code> coerces an array into ordinal arguments:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">sum</span><span class=\"p\">(</span><span class=\"n\">a_number</span><span class=\"p\">,</span> <span class=\"n\">another_number</span><span class=\"p\">)</span>\n  <span class=\"n\">a_number</span> <span class=\"o\">+</span> <span class=\"n\">another_number</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">nums</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"n\">sum</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">nums</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>Except, the <code class=\"highlighter-rouge\">**</code> isn’t actually necessary, this works fine too:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">arguments</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"ss\">from: </span><span class=\"s2\">\"Max\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">to: </span><span class=\"s2\">\"Beth\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">subject: </span><span class=\"s2\">\"Thanks!\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">body: </span><span class=\"s2\">\"Your soup was great!\"</span>\n<span class=\"p\">}</span>\n<span class=\"n\">email</span><span class=\"p\">(</span><span class=\"n\">arguments</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>So I guess they don’t do anything there?</p>\n\n<p>OK so when you are calling a method you can use a pre-existing hash for the\nkeyword arguments. What about when you’re defining a method? This probably\nwon’t work but I just don’t know because it doesn’t feel obvious. Let’s try.</p>\n\n<p>Here’s our new example method, which works fine:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">stir_fry</span><span class=\"p\">(</span><span class=\"ss\">ingredients: </span><span class=\"p\">[],</span> <span class=\"ss\">heat: </span><span class=\"mi\">100</span><span class=\"p\">)</span>\n  <span class=\"n\">heat</span><span class=\"p\">.</span><span class=\"nf\">times</span> <span class=\"k\">do</span>\n    <span class=\"n\">ingredients</span> <span class=\"o\">=</span> <span class=\"n\">ingredients</span><span class=\"p\">.</span><span class=\"nf\">shuffle</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">ingredients</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">stir_fry</span><span class=\"p\">(</span><span class=\"ss\">ingredients: </span><span class=\"p\">[</span><span class=\"s1\">'broccoli'</span><span class=\"p\">,</span> <span class=\"s1\">'peppers'</span><span class=\"p\">,</span> <span class=\"s1\">'tofu'</span><span class=\"p\">],</span> <span class=\"ss\">heat: </span><span class=\"mi\">45</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>So let’s try to define the method again, but this time let’s use a hash.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">arguments</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"ss\">ingredients: </span><span class=\"p\">[],</span>\n  <span class=\"ss\">heat: </span><span class=\"mi\">100</span>\n<span class=\"p\">}</span>\n<span class=\"k\">def</span> <span class=\"nf\">stir_fry</span><span class=\"p\">(</span><span class=\"n\">arguments</span><span class=\"p\">)</span>\n  <span class=\"n\">heat</span><span class=\"p\">.</span><span class=\"nf\">times</span> <span class=\"k\">do</span>\n    <span class=\"n\">ingredients</span> <span class=\"o\">=</span> <span class=\"n\">ingredients</span><span class=\"p\">.</span><span class=\"nf\">shuffle</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">ingredients</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">stir_fry</span><span class=\"p\">(</span><span class=\"ss\">ingredients: </span><span class=\"p\">[</span><span class=\"s1\">'broccoli'</span><span class=\"p\">,</span> <span class=\"s1\">'peppers'</span><span class=\"p\">,</span> <span class=\"s1\">'tofu'</span><span class=\"p\">],</span> <span class=\"ss\">heat: </span><span class=\"mi\">45</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>Do you think it works? It doesn’t work at all. I’m sorry.</p>\n\n<p>Wait, so what even is the <code class=\"highlighter-rouge\">**</code> thing? Let’s review <code class=\"highlighter-rouge\">*</code> again; I showed above\nhow to use it to coerce an array into ordinal arguments when calling a method,\nbut it can also be used in a method definition to indicate that a method takes\nan arbitrary number of arguments:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">sum</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">numbers</span><span class=\"p\">)</span>\n  <span class=\"n\">total</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n  <span class=\"n\">numbers</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"p\">{</span> <span class=\"o\">|</span><span class=\"n\">num</span><span class=\"o\">|</span> <span class=\"n\">total</span> <span class=\"o\">+=</span> <span class=\"n\">num</span> <span class=\"p\">}</span>\n  <span class=\"n\">total</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">sum</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"n\">sum</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">])</span>\n</code></pre>\n</div>\n\n<p>We can do something like that with <code class=\"highlighter-rouge\">**</code> to indicate that we want to catch all\nunrecognized keyword arguments into an object:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">stir_fry</span><span class=\"p\">(</span><span class=\"ss\">ingredients: </span><span class=\"p\">[],</span> <span class=\"ss\">heat: </span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">options</span><span class=\"p\">)</span>\n  <span class=\"n\">heat</span><span class=\"p\">.</span><span class=\"nf\">times</span> <span class=\"k\">do</span>\n    <span class=\"n\">ingredients</span> <span class=\"o\">=</span> <span class=\"n\">ingredients</span><span class=\"p\">.</span><span class=\"nf\">shuffle</span>\n  <span class=\"k\">end</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">sauce</span> <span class=\"o\">=</span> <span class=\"n\">options</span><span class=\"p\">[</span><span class=\"ss\">:sauce</span><span class=\"p\">])</span>\n    <span class=\"n\">ingredients</span><span class=\"p\">.</span><span class=\"nf\">push</span><span class=\"p\">(</span><span class=\"n\">sauce</span><span class=\"p\">)</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">ingredients</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">stir_fry</span><span class=\"p\">(</span><span class=\"ss\">ingredients: </span><span class=\"p\">[</span><span class=\"s1\">'broccoli'</span><span class=\"p\">,</span> <span class=\"s1\">'peppers'</span><span class=\"p\">,</span> <span class=\"s1\">'tofu'</span><span class=\"p\">],</span> <span class=\"ss\">sauce: </span><span class=\"s2\">\"teriyaki\"</span><span class=\"p\">,</span> <span class=\"ss\">heat: </span><span class=\"mi\">45</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>In that example, sauce is an optional keyword that isn’t defined in the method\ndefinition. Normally if we provide sauce, and sauce wasn’t specifically\nexpected, that will cause an error, so this is kind of a cool way to say: “I\ndon’t care what keyword values you throw at me! I’ll just make a hash out of\nthe ones I don’t recognize”. It doesn’t even care that sauce came in the middle\nof the expected keyword arguments. This is pretty similar to the convention in\nordinal method definitions where the last argument is called options and it has\na default value of an empty hash, but when you do that, the order really\nmatters:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">ordinal_stir_fry</span><span class=\"p\">(</span><span class=\"n\">ingredients</span><span class=\"p\">,</span> <span class=\"n\">heat</span><span class=\"p\">,</span> <span class=\"n\">options</span> <span class=\"o\">=</span> <span class=\"p\">{})</span>\n  <span class=\"n\">heat</span><span class=\"p\">.</span><span class=\"nf\">times</span> <span class=\"k\">do</span>\n    <span class=\"n\">ingredients</span> <span class=\"o\">=</span> <span class=\"n\">ingredients</span><span class=\"p\">.</span><span class=\"nf\">shuffle</span>\n  <span class=\"k\">end</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">sauce</span> <span class=\"o\">=</span> <span class=\"n\">options</span><span class=\"p\">[</span><span class=\"ss\">:sauce</span><span class=\"p\">])</span>\n    <span class=\"n\">ingredients</span><span class=\"p\">.</span><span class=\"nf\">push</span><span class=\"p\">(</span><span class=\"n\">sauce</span><span class=\"p\">)</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">ingredients</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">ordinal_stir_fry</span><span class=\"p\">([</span><span class=\"s2\">\"potato\"</span><span class=\"p\">],</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"ss\">sauce: </span><span class=\"s1\">'Catsup'</span><span class=\"p\">)</span> <span class=\"c1\"># This one works</span>\n<span class=\"n\">ordinal_stir_fry</span><span class=\"p\">([</span><span class=\"s2\">\"shoe\"</span><span class=\"p\">],</span> <span class=\"p\">{</span><span class=\"ss\">sauce: </span><span class=\"s1\">'Water'</span><span class=\"p\">},</span> <span class=\"mi\">5</span><span class=\"p\">)</span> <span class=\"c1\"># This one doesn't</span>\n</code></pre>\n</div>\n\n<p>What is even happening there? The curly braces become necessary to avoid a\nsyntax error, and then the method receives the wrong values in the wrong names.\nBut, looking at it, I think it’s clear that something is a little bit off,\nbecause the second parameter looks different from the third; it kind of feels\nlike the hash belongs at the end, because that’s such a strong convention for\nordinally-defined Ruby methods.</p>\n\n<p>The <code class=\"highlighter-rouge\">**options</code> example is neat but again, it’s not obvious. When looking at\nit, you don’t know which of the keyword arguments are specifically expected and\nwhich ones will land in the greedy <code class=\"highlighter-rouge\">**options</code> bucket. You have to reference\nthe method definition, just like with stinky ordinal methods.</p>\n\n<p>Let’s look at default values in some more detail. It seems clear; you can\nprovide a default value, which will be used when the method is called without\nthat keyword value provided. What happens when you provide nil?</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Fish</span>\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:breed</span><span class=\"p\">,</span> <span class=\"ss\">:color</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"ss\">breed: </span><span class=\"s2\">\"Koi\"</span><span class=\"p\">,</span> <span class=\"ss\">color: </span><span class=\"s2\">\"Yellow\"</span><span class=\"p\">)</span>\n    <span class=\"vi\">@breed</span> <span class=\"o\">=</span> <span class=\"n\">breed</span>\n    <span class=\"vi\">@color</span> <span class=\"o\">=</span> <span class=\"n\">color</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">fish</span> <span class=\"o\">=</span> <span class=\"no\">Fish</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">color: </span><span class=\"kp\">nil</span><span class=\"p\">)</span>\n<span class=\"n\">fish</span><span class=\"p\">.</span><span class=\"nf\">breed</span> <span class=\"c1\">#=&gt; \"Koi\"</span>\n<span class=\"n\">fish</span><span class=\"p\">.</span><span class=\"nf\">color</span> <span class=\"c1\">#=&gt; ????????</span>\n</code></pre>\n</div>\n\n<p>What do you <em>feel like</em> it should be? I guess it should be nil, because that’s\nthe value you provided for that keyword, and yes that’s right, it’s nil. That\nworks for me, but I know it’s not obvious because I found myself trying to\ndefend this behavior to a friend recently, who was sad that it didn’t behave as\nhis intuition desired, that a nil value would be replaced by the default value.\nTo console him I attempted to write some code that would satisfy his\nexpectations, and I came up with this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">AbsentArgument</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Fish</span>\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:breed</span><span class=\"p\">,</span> <span class=\"ss\">:color</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"ss\">breed: </span><span class=\"no\">AbsentArgument</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">,</span> <span class=\"ss\">color: </span><span class=\"no\">AbsentArgument</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">)</span>\n    <span class=\"vi\">@breed</span> <span class=\"o\">=</span> <span class=\"n\">validate</span><span class=\"p\">(</span><span class=\"n\">breed</span><span class=\"p\">,</span> <span class=\"ss\">default: </span><span class=\"s2\">\"Koi\"</span><span class=\"p\">)</span>\n    <span class=\"vi\">@color</span> <span class=\"o\">=</span> <span class=\"n\">validate</span><span class=\"p\">(</span><span class=\"n\">color</span><span class=\"p\">,</span> <span class=\"ss\">default: </span><span class=\"s2\">\"Yellow\"</span><span class=\"p\">)</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">private</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">validate</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"p\">:)</span>\n    <span class=\"k\">if</span> <span class=\"n\">value</span><span class=\"p\">.</span><span class=\"nf\">is_a?</span><span class=\"p\">(</span><span class=\"no\">AbsentArgument</span><span class=\"p\">)</span> <span class=\"o\">||</span> <span class=\"n\">value</span><span class=\"p\">.</span><span class=\"nf\">nil?</span>\n      <span class=\"n\">default</span>\n    <span class=\"k\">else</span>\n      <span class=\"n\">value</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n\n<span class=\"n\">fish</span> <span class=\"o\">=</span> <span class=\"no\">Fish</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">color: </span><span class=\"kp\">nil</span><span class=\"p\">)</span>\n<span class=\"n\">fish</span><span class=\"p\">.</span><span class=\"nf\">breed</span> <span class=\"c1\">#=&gt; \"Koi\"</span>\n<span class=\"n\">fish</span><span class=\"p\">.</span><span class=\"nf\">color</span> <span class=\"c1\">#=&gt; \"Yellow\"</span>\n</code></pre>\n</div>\n\n<p>So if you want that behavior you basically can’t use Ruby keyword argument\ndefault values, because default values don’t work that way.</p>\n\n<p>Oh, here’s another thing. I thing I only realized this this month, that I had\nbeen doing this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Disease</span>\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:name</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"nb\">name</span><span class=\"p\">)</span>\n    <span class=\"vi\">@name</span> <span class=\"o\">=</span> <span class=\"nb\">name</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">gout</span> <span class=\"o\">=</span> <span class=\"no\">Disease</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"s2\">\"Gout\"</span><span class=\"p\">)</span>\n<span class=\"n\">gout</span><span class=\"p\">.</span><span class=\"nf\">name</span> <span class=\"c1\">#=&gt; \"Gout\"</span>\n<span class=\"n\">rando</span> <span class=\"o\">=</span> <span class=\"no\">Disease</span><span class=\"p\">.</span><span class=\"nf\">new</span>\n<span class=\"n\">gout</span><span class=\"p\">.</span><span class=\"nf\">name</span> <span class=\"c1\">#=&gt; nil</span>\n</code></pre>\n</div>\n\n<p>This was fulfilling the behavior I guess I wanted: when I provide a name, it\nshould use that name; when I don’t provide a name, the name should be nil. It\nwas working without error, and I’m not sure where I picked up the pattern of\nwriting keyword arguments this way, but it actually totally makes no sense! If\nI wanted the default value to be nil, why not just write it like this?</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Disease</span>\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:name</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"kp\">nil</span><span class=\"p\">)</span>\n    <span class=\"vi\">@name</span> <span class=\"o\">=</span> <span class=\"nb\">name</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>What was even happening in that earlier example? Well, when I wasn’t providing\na name value, it was calling the <code class=\"highlighter-rouge\">name</code> method which was only available because\nI had added the <code class=\"highlighter-rouge\">attr_reader</code> for name, and that method was returning nil, so\nnil was being assigned to the <code class=\"highlighter-rouge\">@name</code> instance variable. I had no idea that’s\nwhat was happening, I just thought that I was writing the boilerplate necessary\nto achieve that behavior. That feels kind of dangerous; maybe you don’t realize\nthat your default values can call methods, and you’re calling a method that\ndoesn’t exist? For example:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Furniture</span>\n  <span class=\"kp\">attr_reader</span> <span class=\"ss\">:color</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"ss\">kind: </span><span class=\"n\">kind</span><span class=\"p\">,</span> <span class=\"ss\">color: </span><span class=\"n\">color</span><span class=\"p\">)</span>\n    <span class=\"vi\">@kind</span> <span class=\"o\">=</span> <span class=\"n\">kind</span>\n    <span class=\"vi\">@color</span> <span class=\"o\">=</span> <span class=\"n\">color</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">description</span>\n    <span class=\"s2\">\"</span><span class=\"si\">#{</span><span class=\"vi\">@color</span><span class=\"si\">}</span><span class=\"s2\"> </span><span class=\"si\">#{</span><span class=\"vi\">@kind</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">couch</span> <span class=\"o\">=</span> <span class=\"no\">Furniture</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">kind: </span><span class=\"s2\">\"Couch\"</span><span class=\"p\">,</span> <span class=\"ss\">color: </span><span class=\"s2\">\"Grey\"</span><span class=\"p\">)</span>\n<span class=\"n\">couch</span><span class=\"p\">.</span><span class=\"nf\">description</span> <span class=\"c1\">#=&gt; \"Grey Couch\"</span>\n</code></pre>\n</div>\n\n<p>You could have tests for this code and ship it to production and never realize\nthat a bug hides within it. As long as you always provide a <code class=\"highlighter-rouge\">kind</code> keyword\nvalue, you’ll never face it and it will work properly, because it will never\nattempt to call the <code class=\"highlighter-rouge\">kind</code> method… which doesn’t exist.</p>\n\n<p>So, to make it blow up, simply omit the kind keyword value:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"no\">Furniture</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">color: </span><span class=\"s2\">\"Red\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># undefined local variable or method `kind' for #&lt;Furniture:0x00000101110a38&gt; (NameError)</span>\n</code></pre>\n</div>\n\n<p>Sinister!</p>\n\n<p>Happily, I’m noticing now that Ruby 2.2.1 actually warns you when you write\ncode like this. 2.0.0 does not, which is where I’ve been happily making\nthis mistake for many months.</p>\n\n<p>The warning:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">candy</span><span class=\"p\">(</span><span class=\"ss\">flavor: </span><span class=\"n\">flavor</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n<span class=\"c1\"># warning: circular argument reference - flavor</span>\n</code></pre>\n</div>\n\n<p>What about when you combine ordinal arguments with keyword arguments? You can.\nIs it obvious how that should work? Not to me. Let’s take a look.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">stir_fry</span><span class=\"p\">(</span><span class=\"n\">servings</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">zest</span><span class=\"p\">,</span> <span class=\"ss\">ingredients: </span><span class=\"p\">[],</span> <span class=\"o\">**</span><span class=\"n\">options</span><span class=\"p\">)</span>\n  <span class=\"n\">dish</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">ingredients</span> <span class=\"o\">*</span> <span class=\"n\">servings</span><span class=\"p\">)</span>\n  <span class=\"n\">zest</span><span class=\"p\">.</span><span class=\"nf\">times</span> <span class=\"k\">do</span>\n    <span class=\"n\">dish</span> <span class=\"o\">=</span> <span class=\"n\">dish</span><span class=\"p\">.</span><span class=\"nf\">shuffle</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">dish</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">stir_fry</span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"ss\">ingredients: </span><span class=\"p\">[</span><span class=\"s2\">\"pepper\"</span><span class=\"p\">,</span> <span class=\"s2\">\"seitan\"</span><span class=\"p\">],</span> <span class=\"ss\">sauce: </span><span class=\"s2\">\"fancy\"</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>What the hell is happening there? Maybe it’s clear to you. it’s not to me. The\nfirst two arguments are ordinal, and the first one has a default value. So Ruby\ncompares the arguments we provide when we call the method to the arguments in\nthe method definition, and sees that we provided what looks like one ordinal\nvalue, and a few keyword values, so the one ordinal value must be <code class=\"highlighter-rouge\">zest</code>,\nbecause <code class=\"highlighter-rouge\">servings</code> has a default value and <code class=\"highlighter-rouge\">zest</code> does not (Ruby here is\nsmarter than I realized).</p>\n\n<p>It kind of feels like Ruby is going to let us make this method definition more\nconfusing, for example by moving the keyword arguments before the ordinal\narguments, but it actually won’t let you. It will raise a syntax error:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># syntax error:</span>\n<span class=\"k\">def</span> <span class=\"nf\">shenanigans</span><span class=\"p\">(</span><span class=\"ss\">amp: </span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"n\">guitar</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n\n<span class=\"c1\"># if it were a valid method definition, I guess you would call it like this:</span>\n<span class=\"n\">shenanigans</span><span class=\"p\">(</span><span class=\"ss\">amp: </span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"s2\">\"Fender\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># or, omitting the non-required parameter</span>\n<span class=\"n\">shenanigans</span><span class=\"p\">(</span><span class=\"s2\">\"Martin\"</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>For me it wasn’t obvious that this wouldn’t be allowed, but I’m glad it’s not,\nbecause reading those method calls feels kind of backwards.</p>\n\n<p>Similarly:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># not a syntax error:</span>\n<span class=\"k\">def</span> <span class=\"nf\">shenanigans</span><span class=\"p\">(</span><span class=\"n\">amp</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">outfits</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">options</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">shenanigans</span><span class=\"p\">(</span><span class=\"s2\">\"Orange\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Leotard\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Leather Jacket\"</span><span class=\"p\">,</span> <span class=\"ss\">at: </span><span class=\"no\">Time</span><span class=\"p\">.</span><span class=\"nf\">now</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># but this is a syntax error:</span>\n<span class=\"k\">def</span> <span class=\"nf\">shenanigans</span><span class=\"p\">(</span><span class=\"n\">amp</span><span class=\"p\">,</span> <span class=\"ss\">style: </span><span class=\"s2\">\"flamenco\"</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">outfits</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">options</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>That one also fails because it tries to put some ordinal arguments (the\n<code class=\"highlighter-rouge\">*outfits</code> bit) after some keyword arguments.</p>\n\n<p>Well, I think that’s everything I can think of. Good luck out there.</p>\n"
      }
      
        ,
      
    
      {
        "date": "29 Mar 2015",
        "title": "my first vim macro",
        "url": "/2015/my-first-vim-macro",
        "content": "<p>The time has come for me to make a vim macro. Here’s what it looks like in\naction:</p>\n\n<p><img src=\"/img/2015-03-29-vim-macro.gif\" alt=\"vim macro demo\" /></p>\n\n<p>I made it because I am working on a post that will include a few ruby examples,\nand I got frustrated typing out Liquid’s verbose syntax for codeblocks (I wish\nJekyll supported GitHub-style fenced code blocks). It wasn’t too hard to make\nit because it’s really simple. I don’t know how to make a smarter one, for\nexample one that puts ruby as the default language, but let’s you start typing\nimmediately to replace it with something else, and then hit tab to jump to the\nmiddle (a behavior I’ve seen with snippets in Sublime Text for example).</p>\n\n<p>Here’s what it looks like, straight from my vimrc:</p>\n\n<div class=\"language-vim highlighter-rouge\"><pre class=\"highlight\"><code>  \n    nnoremap hii <span class=\"k\">i</span>```<span class=\"k\">ruby</span><span class=\"p\">&lt;</span>ESC<span class=\"p\">&gt;</span><span class=\"k\">o</span>```<span class=\"p\">&lt;</span>ESC<span class=\"p\">&gt;</span>O\n  \n</code></pre>\n</div>\n\n<p>I’ll translate to English:</p>\n\n<p>When I’m in normal mode, and I type <code class=\"highlighter-rouge\">hii</code>, act like I typed the following\nstuff, which I would’ve done if I had typed it out manually:</p>\n\n<ul>\n  <li><code class=\"highlighter-rouge\">i</code> to go into insert mode</li>\n  <li>type out the first line’s stuff</li>\n  <li><code class=\"highlighter-rouge\">&lt;ESC&gt;o</code> to exit insert mode, create a newline, go to that new line, and go\nback to insert mode</li>\n  <li>type out the second line’s stuff</li>\n  <li><code class=\"highlighter-rouge\">&lt;ESC&gt;O</code> to exit insert mode, create a newline above the second line, go to\nthat new line, and go back to insert mode</li>\n</ul>\n\n<p>It’s not much and I’m not even sure I’m using the word macro right but it’s\nmine.</p>\n\n<p><strong>Edit April 2015</strong>: Turns out <code class=\"highlighter-rouge\">hii</code> was a pretty bad choice, because it starts\nwith <code class=\"highlighter-rouge\">h</code>, which I type all the time in normal mode. It’s the left arrow!\nWhenever I type <code class=\"highlighter-rouge\">h</code> now, it doesn’t immediately move left, it hangs a moment\nwhile it waits to see if I really mean just <code class=\"highlighter-rouge\">h</code>, or if I’m gonna continue and\nwrite <code class=\"highlighter-rouge\">hii</code>. So, I’ve changed it from <code class=\"highlighter-rouge\">hii</code> to <code class=\"highlighter-rouge\">&lt;Leader&gt;hii</code> and now I’m happy\nagain.</p>\n\n<p>Note: the default Leader character is <code class=\"highlighter-rouge\">\\</code>.</p>\n"
      }
      
        ,
      
    
      {
        "date": "22 Mar 2015",
        "title": "managing your Instapaper bookmarks from the command line",
        "url": "/2015/instapaper-cli",
        "content": "<p>I’ve previously <a href=\"http://www.hardscrabble.net/2014/refactoring_old_code/\">written about extracting a gem from a web app called\nLayabout</a>, but I neglected to mention that I later open sourced Layabout\nas well:</p>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p><a href=\"https://t.co/YVAZkNE3cc\">https://t.co/YVAZkNE3cc</a></p>&mdash; layabout (@layaboutapp) <a href=\"https://twitter.com/layaboutapp/status/544164277561856000\">December 14, 2014</a></blockquote>\n\n<p>Today I have the opportunity to write about it, because I finished a kind of\nfun new feature: a command line interface for efficiently managing your\nbookmarks. Using it requires cloning the codebase and requesting API\ncredentials, so it’s not a super accessible tool, but for power users it might\nbe worth it. Here’s a quick demo:</p>\n\n<p><img src=\"/img/2015-03-22-explore.gif\" alt=\"bin/rake explore demo\" /></p>\n\n<p>Here’s the code for the CLI as of this moment: <a href=\"https://github.com/maxjacobson/layabout/blob/255eed15be2e55de804083bfdcf8651538af7bb0/lib/tasks/explore.rake\">https://github.com/maxjacobson/layabout/blob/255eed15be2e55de804083bfdcf8651538af7bb0/lib/tasks/explore.rake</a></p>\n\n<p>(I like linking to the code as of a certain commit, because who knows, maybe\nI’ll rename the file later, and then <a href=\"https://github.com/maxjacobson/layabout/blob/master/lib/tasks/explore.rake\">the link to the file on master\nbranch</a> won’t actually work?)</p>\n\n<p>I think it’s kind of interesting code. Each action is an object that describes\nits help text, the commands it can handle, and how it can handle them.</p>\n"
      }
      
        ,
      
    
      {
        "date": "22 Mar 2015",
        "title": "inhumanity",
        "url": "/2015/inhumanity",
        "content": "<p>Yesterday morning I grabbed my pants off the floor and a mouse scurried away. I\nshouted, “ahh!”, ran to my bedroom, and jumped on my bed, pants still in hand.</p>\n\n<p>I had my <a href=\"http://newyork.ucbtrainingcenter.com/improv/201\">Improv 201</a> graduation class performance and I was running late,\nso I didn’t have time to worry about it. I just got dressed and left with my\neyes closed.</p>\n\n<p>On my way to the show, I tried to remember the things we’d been taught over the\nlast 8 weeks, but my mind kept going back to the mouse. It was small and brown;\nnot a startling creature. And yet, very startling!</p>\n\n<p>The show went well, I think. It was fun for me anyway. Afterward we had some\nfood and drinks and then I went home and fell asleep and slept for 15 hours. I\nwake up around 10am without thinking about the mouse. I’m trying to keep my\nmind clear, because I’m having a surgery tomorrow, and I want to feel mentally\nand emotionally prepared so I can be the best patient I can be. And then I\nstart seeing the mouse out of the corner of my eye.</p>\n\n<p>At first it’s to my right, flitting from behind my radiator to behind my couch.\nI tense up. I pause The Mindy Project. I think it could tell I was occupied.</p>\n\n<p>I resume The Mindy Project. I need to take the last of my antibiotics so I step\ninto the kitchen to take a swig of rice milk. There I see the brown mouse\nagain, by the oven, which is precisely on the other side of the wall from the\nradiator. I say out loud, “I don’t like this”.</p>\n\n<p>The next time I see the mouse, I’m back at my desktop, and it’s walking back\ninto my living room via the hallway. I say, “hey!” and it turns around and\nwalks back around the corner. I look away and see that he’s walking toward me\nagain. I say “hey, buddy!” and he goes back. So I look away again, and now he’s\nstraight up sprinting past me toward the couch again.</p>\n\n<p>I grab my wallet, keys, and a hoodie, and I leave my apartment and call my\nmother. She advises me to trap the thing with a glue trap and feel nothing. She\nsays I’ll feel satisfied, like a hunter.</p>\n\n<p>From a nearby cafe I order some humane mouse traps on Amazon.</p>\n\n<p>My grandma calls me and says she’s had good experiences with spring-loaded\nmouse traps, and that I’ll feel satisfied.</p>\n\n<p>I check a nearby general store. They have glue traps for mice and spring traps\nfor rats. With my grandma still on the phone, I buy the glue trap.</p>\n\n<ul>\n  <li>13:15 – I set the traps, one in my hallway and one near the couch, and go\nsit in bed and watch another sitcom, Undateable, on Hulu. In my field of\nvision, I can see the first trap.</li>\n  <li>14:00 – I notice I can see something in the trap and go check on it. It’s\njust the dab of peanut butter I’d put there earlier.</li>\n  <li>15:11 – I see the mouse walk right past the trap and into my living room</li>\n  <li>15:16 – I hear what sounds like panicked squeaking</li>\n</ul>\n\n<p>My mom suggested the mouse would die as soon as it got stuck, of a panic\nattack, but it just kept squeaking for several minutes while I listened in\nhorror. I feel no satisfaction until later, when I’m sitting in my living room\nagain and nothing scampers through my periphery.</p>\n"
      }
      
        ,
      
    
      {
        "date": "17 Mar 2015",
        "title": "reverse polish notation",
        "url": "/2015/reverse-polish-notation",
        "content": "<p>Earlier tonight Carlos tweeted this:</p>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>I may have just ‘test driven’ my first official Ruby problem (cc: <a href=\"https://twitter.com/maxjacobson\">@maxjacobson</a>).&#10;&#10;Kind of a cool experience. 👍 😎&#10;&#10;<a href=\"https://t.co/vIza7c0J3I\">https://t.co/vIza7c0J3I</a></p>&mdash; Carlos Lazo (@CarlosPlusPlus) <a href=\"https://twitter.com/CarlosPlusPlus/status/577669474960195584\">March 17, 2015</a></blockquote>\n\n<p>Nowhere in there does he specifically ask me to provide my take on that problem,\nbut I did anyway. I don’t know why.</p>\n\n<p>The problem is, I think, to write a <a href=\"http://en.wikipedia.org/wiki/Reverse_Polish_notation\">reverse polish notation</a> calculator in\nRuby. Carlos used TDD to drive his solution. I looked at it and thought it was\ncool, and then I wanted to do the same thing, and I made a video, because I am a\nham.</p>\n\n<p>Here it is:</p>\n\n<iframe width=\"459\" height=\"344\" src=\"http://www.youtube.com/embed/H6xcnqlf53g?feature=oembed\" frameborder=\"0\" allowfullscreen=\"\"></iframe>\n\n<p>It is very long. There are a few moments where I removed sound to take away\ncoughs. I might have missed some. I probably did!</p>\n\n<p>You’ll hear every thought that passes through my mind as I arrive at a solution,\nwhich I pushed here: <a href=\"https://github.com/maxjacobson/calculator\">https://github.com/maxjacobson/calculator</a>. A lot of it is\nme struggling to understand the very premise of the notation, which confused me\nperhaps too much?</p>\n\n<p>Using tests helped me get this working because when it wasn’t working, I wasn’t\nsure which part wasn’t working, and I was able to add more tests to describe the\nparts, until I knew which parts were behaving how I expected and which weren’t.\nThat’s really helpful. Accomplishing that meant extracting some of the\nresponsibilities into a separate, small, testable class, which I think is a good\nexample of lettings tests drive the design of your code. Ultimately the\nimplementation of that class is kind of awkward and not great, but it’s also\nreally contained and could be easily rewritten because there are tests to catch\nmistakes in the refactoring.</p>\n\n<p>:leaves:</p>\n"
      }
      
        ,
      
    
      {
        "date": "08 Mar 2015",
        "title": "git fib, a helpful little script for git commit squashers",
        "url": "/2015/improved-commit-squashing",
        "content": "<p>Sometimes I squash git commits. Generally I do this when I’m making a pull\nrequest which takes some time, and it accumulates a lot of commits, many of\nwhich were just kind of trying things out. The sum of all the commits adds up to\none valuable addition, but each one is kind of garbage. Here’s a good post from\nThoughtbot: <a href=\"https://robots.thoughtbot.com/git-interactive-rebase-squash-amend-rewriting-history\">Git Interactive Rebase, Squash, Amend and Other Ways of Rewriting\nHistory</a>.</p>\n\n<p>Here’s what it generally looks like when I do it:</p>\n\n<p><a href=\"/img/2015-03-08-squash.gif\"><img src=\"/img/2015-03-08-squash.gif\" alt=\"squashing a commit\" /></a></p>\n\n<p>And this works pretty well for me.</p>\n\n<p>Usually.</p>\n\n<p>Sometimes I do a really big squash, where 35 commits become one, which brings me\nto one behavioral detail of squashes that I’ve always found counter-intuitive:\n<strong>squashes always go up</strong>. When you’re in that interactive list of commits, and\nyou’re telling each commit what to do, it’s relative to the previous\nchronological commit. When you tell a commit to squash, you’re telling it to\nsquash itself into the previous commit. When you tell this to the 34 newest\ncommits, you’re making your very first commit absorb all of the changes. That’s\nprobably fine, but imagine if those commits took place over the course of 3\ndays, or 3 weeks. Each commit has a timestamp of when the work was done, and\nyour big, squashed commit has a timestamp of… 3 weeks ago.</p>\n\n<p>That sort of feels wrong to me. When the pull request is merged, the commit will\nsink down in the commit log below all the work that came before it.</p>\n\n<p>Sooo sometimes I find myself taking things into my own hands to fix that. How?\nWell, it’s kind of weird. Changing the last commit’s message is pretty easy: <code class=\"highlighter-rouge\">git\ncommit --amend</code>; changing the last commit’s author is pretty easy too: <code class=\"highlighter-rouge\">git\ncommit --amend --author=\"Kimmy Schmidt &lt;kimmy.schmidt@example.com&gt;\"</code>.\nBut changing the last commit’s timestamp is kind of tricky. As far as I know,\nit’s not built in to git itself, so it takes a few commands to achieve. Here’s\nwhat I’ve been doing:</p>\n\n<ul>\n  <li>squash all the commits</li>\n  <li>use my mouse to copy and paste the last commit message to the clipboard</li>\n  <li>uncommit the last commit (<code class=\"highlighter-rouge\">git reset HEAD~1</code>)</li>\n  <li>re-stage all the changes (<code class=\"highlighter-rouge\">git add -A</code>)</li>\n  <li>make a fresh commit, pasting in the old commit message (and probably having to\nfix some formatting issues because pasting into vim never works)</li>\n  <li>sometimes I’ll amend the last commit’s author to give someone else credit if\nthey did the lion’s share of the work, because this strategy automatically\nuses my git name and email even if the commit we’re trying to time shift was\ncreated by someone else</li>\n</ul>\n\n<p>Here’s what I do now:</p>\n\n<ul>\n  <li><code class=\"highlighter-rouge\">git fib</code></li>\n</ul>\n\n<p>Here’s a gif (ignore the part when I got stuck in a dquote confusion please):</p>\n\n<p><a href=\"/img/2015-03-08-fib.gif\"><img src=\"/img/2015-03-08-fib.gif\" alt=\"git fibbing a commit\" /></a></p>\n\n<p>Get it here: <a href=\"https://github.com/maxjacobson/dotfiles/blob/master/bin/git-fib\">https://github.com/maxjacobson/dotfiles/blob/master/bin/git-fib</a></p>\n\n<p>I learned with <a href=\"https://github.com/maxjacobson/git-sleep-gem\">git-sleep</a> that\nscripts whose filename begins with <code class=\"highlighter-rouge\">git-</code> can be referenced without the hyphen,\nmaking git a nicely extensible tool. I still think that’s so cool.</p>\n\n<p>I’m pretty proud of this because it’s a kind of gnarly shell script and it works\na lot better than I expected.</p>\n\n<p>Some things I might do:</p>\n\n<ul>\n  <li>rename it to something that makes more sense</li>\n  <li>put it on homebrew so it’s easier to install</li>\n  <li>suppress more of the git output (not sure, maybe it’s nice to have it?)</li>\n</ul>\n\n<p>:leaves:</p>\n"
      }
      
        ,
      
    
      {
        "date": "01 Mar 2015",
        "title": "playing with emacs for the first time",
        "url": "/2015/playing-with-emacs",
        "content": "<p>Today I’m playing with emacs. There has been a confluence of events which have led me to this moment:</p>\n\n<ol>\n  <li>First, the other night I bumped into Harry Schwartz at a programming meetup, and he gave me <a href=\"http://harryrschwartz.com/2015/02/18/emacsnyc-stickers.html\">a sticker</a> from his meetup group, <a href=\"http://emacsnyc.org/\">New York Emacs</a>. I put it in my wallet.</li>\n  <li>Second, yesterday I bumped into <a href=\"https://github.com/a-leung\">Andrew Leung</a>, and somehow we got to talking about Emacs. He’s been using it for many, many years. I gave him the sticker from my wallet because I thought he would have more use for it than I would.</li>\n  <li>Today I’m kind of bored.</li>\n</ol>\n\n<p>To my non-surprise, the version of Emacs which came installed on my Mac is a few major versions behind. To my surprise, the version of emacs on Homebrew is also a bit old. Neither version has syntax highlighting for Ruby, which was provided by default in the newest version. Installing the newer version wasn’t that bad. I downloaded the code from <a href=\"http://ftp.gnu.org/gnu/emacs/\">their ftp server</a> (emacs-24.4.tar.gz), unarchived it, and followed the instructions in the <code class=\"highlighter-rouge\">INSTALL</code> file. Then, sweet, ruby files were colorful. That makes a huge difference for me.</p>\n\n<p>I really don’t know what I’m doing, but I feel like I should learn more about emacs if I’m going to recommend people learn Vim, which I generally use and recommend, so today I took a little while to play with it and I’ve learned enough to do the super basic things. Here’s everything I know how to do:</p>\n\n<ul>\n  <li><code class=\"highlighter-rouge\">emacs .</code> from the command line to open emacs in a file browser</li>\n  <li>arrow keys and return to browse and open files</li>\n  <li><code class=\"highlighter-rouge\">C-x C-s</code> to save</li>\n  <li><code class=\"highlighter-rouge\">C-x C-f &lt;enter&gt;</code> to return to the file browser from a file</li>\n  <li><code class=\"highlighter-rouge\">C-a</code> to go to the beginning of a line</li>\n  <li><code class=\"highlighter-rouge\">C-e</code> to go to the end of a line</li>\n  <li><code class=\"highlighter-rouge\">C-n</code> to go to the next line</li>\n  <li><code class=\"highlighter-rouge\">C-p</code> to go to the previous line</li>\n  <li><code class=\"highlighter-rouge\">C-_</code> to undo a change</li>\n  <li><code class=\"highlighter-rouge\">C-s</code> to search within a file</li>\n  <li><code class=\"highlighter-rouge\">C-x C-c</code> to quit (it prompts you to save any unsaved changes at this point)</li>\n</ul>\n\n<p>(Note:</p>\n\n<p>something like <code class=\"highlighter-rouge\">C-x</code> can be read as <strong>“press the control key, and then press the x key while still holding down the control key”</strong></p>\n\n<p>something like <code class=\"highlighter-rouge\">C-x C-f</code> can be read as <strong>“press the control key, and then press the x key while still holding down the control key; then keep holding down the control key, and press the f key, and then feel free to go get a coffee, you’re done”</strong>)</p>\n\n<p>And that’s it. Things I’d like to learn:</p>\n\n<ul>\n  <li>More commands to navigate the text within a file (deleting lines, copying, cutting, pasting)</li>\n  <li>How to do some simple configuration (I want line numbers)</li>\n  <li>How to more efficiently open files (I want a fuzzy file opener like <a href=\"https://github.com/kien/ctrlp.vim\">ctrlp.vim</a>)</li>\n</ul>\n\n<p>That’s really all that’s blocking me from actually using it to do work. I’m using it to write this post, and I’m totally surviving.</p>\n\n<p>If I were to go down the rabbit hole, I’d probably want to learn the whole Emacs Lisp thing. Richard Stallman, the creator of Emacs, <a href=\"https://stallman.org/stallman-computing.html\">says</a> this:</p>\n\n<blockquote>\n  <p>The most powerful programming language is Lisp. If you don’t know Lisp (or its variant, Scheme), you don’t know what it means for a programming language to be powerful and elegant. Once you learn Lisp, you will understand what is lacking in most other languages.</p>\n</blockquote>\n\n<p>It’s hard to read that and not get some programming FOMO.</p>\n\n<p>I attended <a href=\"https://www.youtube.com/watch?v=2z-YBsd5snY\">this talk</a> from Harry called “An Introduction to Emacs Lisp”, which I may need to rewatch.</p>\n"
      }
      
        ,
      
    
      {
        "date": "21 Feb 2015",
        "title": "another cookie crumb",
        "url": "/2015/another-cookie-crumb",
        "content": "<p>In <a href=\"http://www.hardscrabble.net/2015/building-firefox/\">Wednesday’s post about building Firefox from source the other day</a>, I\nmentioned one thing I really liked about the experience of first looking at this\ncode base: it kept dropping little hints about what I might need to do next in a\nway that was actually insightful and helpful. For example, after running their\nscript which installs dependencies, there was some helpful output pointing me to\nwhere I could get the code base.</p>\n\n<p>Today I checked in with the project and pulled the change from the last few\ndays. There has been a flurry of activity, none of which means much of anything\nto me as an outside observer.</p>\n\n<p>I was curious if I would be able to run <code class=\"highlighter-rouge\">./mach build</code>, and if it would take as\nlong on the second run. Instead I got this interesting output:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>0:00.35 /usr/bin/make -f client.mk -s\n0:01.33 \n0:01.33 The CLOBBER file has been updated, indicating that an incremental\n0:01.33 build since your last build will probably not work. A full/clobber\n0:01.33 build is required.\n0:01.33 \n0:01.33 The reason for the clobber is:\n0:01.33 \n0:01.33  Bug 1119335 - (DOMString or sequence&lt;DOMString&gt; or ConstrainDOMStringParameters)\n0:01.33  needs binding flush (Bug 1103153).\n0:01.33 \n0:01.33 Clobbering can be performed automatically. However, we didn't\n0:01.33 automatically clobber this time because:\n0:01.33 \n0:01.33   Automatic clobbering is not enabled\n0:01.33   (add \"mk_add_options AUTOCLOBBER=1\" to your mozconfig).\n0:01.33 \n0:01.33 The easiest and fastest way to clobber is to run:\n0:01.33 \n0:01.33  $ mach clobber\n0:01.33 \n0:01.33 If you know this clobber doesn't apply to you or you're feeling lucky\n0:01.33 -- Well, are ya? -- you can ignore this clobber requirement by\n0:01.33 running:\n0:01.33 \n0:01.33  $ touch /Users/maxjacobson/src/gecko-dev/obj-x86_64-apple-darwin14.3.0/CLOBBER\n0:01.33 make: *** [/Users/maxjacobson/src/gecko-dev/obj-x86_64-apple-darwin14.3.0/CLOBBER] Error 1\n0:01.36 78 compiler warnings present.\n</code></pre>\n</div>\n\n<p>That’s super interesting! Things I learned from this:</p>\n\n<ul>\n  <li>There’s something called “The CLOBBER file” which is some kind of place to\nleave little messages about why someone else will need to do a full build\nafter pulling in a change</li>\n  <li>Sometimes it’s possible for mach to do an “incremental build”, which I assume\nwouldn’t take very long</li>\n  <li>There’s a tool for clobbering, which I guess clears away stuff from earlier\nbuilds, requiring <code class=\"highlighter-rouge\">mach build</code> to do a full, non-incremental build</li>\n  <li>Mozilla people make nerdy movie references</li>\n</ul>\n\n<p>I took a look at The CLOBBER file by using my fuzzy file opener to look for a\nfile called CLOBBER and found it, in the root-level of the project. It contains\nmore details about how to use it:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code># To trigger a clobber replace ALL of the textual description below,\n# giving a bug number and a one line description of why a clobber is\n# required. Modifying this file will make configure check that a\n# clobber has been performed before the build can continue.\n#\n# MERGE NOTE: When merging two branches that require a CLOBBER, you should\n#             merge both CLOBBER descriptions, to ensure that users on\n#             both branches correctly see the clobber warning.\n#\n#                  O   &lt;-- Users coming from both parents need to Clobber\n#               /     \\\n#          O               O\n#          |               |\n#          O &lt;-- Clobber   O  &lt;-- Clobber\n#\n# Note: The description below will be part of the error message shown to users.\n#\n# Modifying this file will now automatically clobber the buildbot machines \\o/\n#\n\n# Are you updating CLOBBER because you think it's needed for your WebIDL\n# changes to stick? As of bug 928195, this shouldn't be necessary! Please\n# don't change CLOBBER for WebIDL changes any more.\n\nBug 1119335 - (DOMString or sequence&lt;DOMString&gt; or ConstrainDOMStringParameters)\nneeds binding flush (Bug 1103153).\n</code></pre>\n</div>\n\n<p>It’s probably gratuitous to just copy this whole thing in here, especially when\nthe last few lines are designed to change, but it’s pretty interesting, and I\nhave a weird superstition about linking to files on GitHub, for example, because\nwhat if that file gets moved and my link goes dead?</p>\n\n<p>This file is like a cache. As long as it stays the same, you can keep building.\nAs soon as it changes, you need to clobber before you can build. It seems like a\nclever solution to me (I especially like the detail about combining clobber\nnotes so when two people insist on a clobber, they each get the benefit of the\nother’s). You just need to remember when to expire the cache, which leaves a\nlittle cookie crumb for the next developer to work on the project.</p>\n"
      }
      
        ,
      
    
      {
        "date": "18 Feb 2015",
        "title": "building firefox for the first time",
        "url": "/2015/building-firefox",
        "content": "<p>recently I came across two blog posts:</p>\n\n<ul>\n  <li><a href=\"http://meowni.ca/posts/chromium-101/\">Contributing to Chromium: an illustrated guide</a> by Chrome developer Monica Dinculescu</li>\n  <li><a href=\"https://msujaws.wordpress.com/2015/02/11/firefox-ui-mentorship-program/\">Firefox UI mentorship program</a> by Firefox developer Jared Wein</li>\n</ul>\n\n<p>They kind of tell similar stories. Both Firefox and Chromium<sup id=\"fnref:1\"><a href=\"#fn:1\" class=\"footnote\">1</a></sup> are open\nsource and welcome contributions from the general public, but both of them are\nprobably developed primarily by the companies behind them. These posts are sort\nof encouraging people to consider contributing back to the app they spend most\nof their computer time in and hoping to make it sound more doable and less\nterrifying.</p>\n\n<p>I came away from the Chromium post with a lot of clear and friendly knowledge\nabout how I might make a contribution but actually more convinced that I’m not\nqualified to do so, because I don’t know any of the languages she mentioned in\nthe post and don’t currently plan to learn them. If I did, I’d know exactly\nwhere to start and how to proceed.</p>\n\n<p>The firefox blog post was an offer to help mentor a select few through getting\nup and running and making a first few contributions. I thought about it for a\nfew minutes while I read the blog post and filed it away in the back of my mind,\nbut I was too slow, and the offer has now closed. I thought maybe I could do it\nbecause having a mentor helps a lot and, from the sounds of it, the front-end of\nFirefox is built using the tools of the web, which I already kind of know and\nwork with. From the post:</p>\n\n<blockquote>\n  <p>We will use JavaScript, CSS, and XUL (similar to HTML).</p>\n</blockquote>\n\n<p>Sure.</p>\n\n<p>Also, Firefox is my day-to-day browser, so selfishly I like the idea of\nsubmitting something that would benefit me. I first got excited about the\ninternet in Firefox. I’ve occasionally switched to Chrome and Safari but I\nalways come back to Firefox. I don’t know. And I kind of think it’s having a\nmoment? Well just someone wrote one blog post about it recently:</p>\n\n<blockquote class=\"twitter-tweet\" data-cards=\"hidden\" lang=\"en\"><p>One anecdote\nof switching from Chrome to Firefox: <a href=\"http://t.co/EBaMDDuyhR\">http://t.co/EBaMDDuyhR</a> – Good! We need browser\ndiversity to keep the web healthy.</p>&mdash; DHH (@dhh) <a href=\"https://twitter.com/dhh/status/566319232346890240\">February 13,\n2015</a></blockquote>\n\n<p>I like dhh’s perspective there; sometimes I feel like a browser hipster and like\nI’m the only web developer not using Chrome (I know I’m not) but I do think he’s\nright that it’s important that any one company doesn’t have too strong a hold on\nhow the internet works.</p>\n\n<p>So tonight I took the first step and built Firefox locally. It was surprisingly\neasy but also surprisingly time-consuming. If you want to do the same I\nrecommend following the <a href=\"https://developer.mozilla.org/en-US/docs/Simple_Firefox_build\">Simple Firefox build</a> instructions but I’m going to\nshare here anyway the steps I took.</p>\n\n<ul>\n  <li>Visited that guide</li>\n  <li>Followed that link to <a href=\"https://developer.mozilla.org/en-US/docs/Simple_Firefox_build/Linux_and_MacOS_build_preparation\">Linux and MacOS build preparation</a> which recommended\nI paste the following into my terminal to install the prerequisite\ndependencies:</li>\n</ul>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>wget -q https://hg.mozilla.org/mozilla-central/raw-file/default/python/mozboot/bin/bootstrap.py &amp;&amp; python bootstrap.py\n</code></pre>\n</div>\n\n<ul>\n  <li>That <a href=\"https://twitter.com/maxjacobson/status/567890227693494272\">asked me</a> if I was interested in building Firefox for Desktop or\nAndroid. I answered Desktop, and it started doing stuff, and outputting what\nit was doing, and ultimately (actually this was pretty fast) it said it worked\nand made this suggestion:</li>\n</ul>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>Your system should be ready to build Firefox for Desktop! If you have not already,\nobtain a copy of the source code by running:\n\n    hg clone https://hg.mozilla.org/mozilla-central\n\nOr, if you prefer Git:\n\n    git clone https://git.mozilla.org/integration/gecko-dev.git\n</code></pre>\n</div>\n\n<ul>\n  <li>So I ran the second command, because I prefer git (well, because I know git)</li>\n  <li>And then I waited for like ten minutes? More? I don’t know. I had never cloned\na 7 gigabyte git repo before. It felt new and strange. The <code class=\"highlighter-rouge\">.git</code> directory is\nnearly 6 gigabytes, suggesting the sheer history of the project weighs\nsignificantly more than the current state of it. The repository has 407088\ncommits going back 17 years, 8 years before git existed.</li>\n  <li>After the project finished cloning, I ran <code class=\"highlighter-rouge\">cd gecko-dev</code> and no magical\nincantation appeared giving me the next bread crumb to follow, so I returned\nto the guide.</li>\n  <li>It suggested using Firefox’s <code class=\"highlighter-rouge\">./mach</code> script to build and run the app. This\nfelt kind of familiar, kind of like Ruby’s <code class=\"highlighter-rouge\">rake</code>. I tried running just\n<code class=\"highlighter-rouge\">./mach</code> without any arguments and saw that it has a shitload of commands\nincluding <code class=\"highlighter-rouge\">google</code>, so I ran <code class=\"highlighter-rouge\">./mach google jake and amir</code> (because I was just\nwatching Jake and Amir episodes before this flight of fancy overtook me) and\nit opened Firefox to <a href=\"https://www.google.com/search?q=jake%20and%20amir\">https://www.google.com/search?q=jake%20and%20amir</a>,\nwhich, alright, sure.</li>\n  <li>I ran <code class=\"highlighter-rouge\">./mach build</code> and watched it do a shitload of stuff to build Firefox\nfrom the source I’d downloaded. I don’t have to estimate how long this took,\nbecause it output a running timestamp as it did everything. It took 37\nminutes and 56.85 seconds. I guess that’s not bad? I hope I don’t need to wait\nthat long every time I make a change (if I even figure out how to make a\nchange). And when it was finished, I saw this output:</li>\n</ul>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>37:56.85 We know it took a while, but your build finally finished successfully!\nTo take your build for a test drive, run: |mach run|\nFor more information on what to do now, see https://developer.mozilla.org/docs/Developer_Guide/So_You_Just_Built_Firefox\n</code></pre>\n</div>\n\n<ul>\n  <li>I ran <code class=\"highlighter-rouge\">./mach run</code> and <em>like lightning</em> a bluish moonish earth appears in my\nMac’s dock and Firefox Nightly opened.</li>\n  <li>I visited <a href=\"http://www.hardscrabble.net\">hardscrabble.net</a> just kind of vainly to see what my site looks\nlike in my freshly baked browser</li>\n  <li>I visited the URL from that last output (sidenote: I really love the trail of\nbreadcrumbs this process has been) and found a kind of <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/So_you_just_built_Firefox\">hilariously brief</a>\nweb page which mainly includes notes on how it should be succinct but also a\ntag indicating it needs more content?</li>\n  <li>I followed the first listed interesting link about how to run Firefox’s tests,\nand before I could overthink what’s about to happen I ran <code class=\"highlighter-rouge\">./mach\nxpcshell-test</code> and the most delightful thing happened, and I think it needs to\nbe captured in a video:</li>\n</ul>\n\n<iframe src=\"//player.vimeo.com/video/119925549?byline=0&amp;portrait=0\" width=\"686\" height=\"386\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n\n<p>I’m sorry this blog post became a bullet point list halfway through. That wasn’t\nreally fair.</p>\n\n<p>Probably in the morning I’ll forget I ever wanted to contribute to Firefox but\nhopefully not. I’m on the record now.</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:1\">\n      <p>Chromium is basically Chrome, but open source. <a href=\"#fnref:1\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "21 Jan 2015",
        "title": "discovering a problem",
        "url": "/2015/discovering-a-problem",
        "content": "<p><img src=\"/img/2015-01-21-markup-view-source.png\" alt=\"view source on a recent post\" /></p>\n\n<p>That’s the “View Source” on a recent post here on the blog.</p>\n\n<p>Do you ever discover a problem weeks or months or years after it was\nintroduced? How did you discover it?</p>\n\n<p>The HTML markup on my website has been broken for a while, but I only just\nnoticed today, and then I noticed twice, the way you learn a new word and then\nhear it again right away.</p>\n\n<p>I’ve looked at that view source several times while poking around on this site,\nand I can vaguely recall being concerned that some of those tags are\nhighlighted in red, but never taking much notice of it, because the site works\nmore or less fine.</p>\n\n<p>Today while bored I took a look at a very neat iOS app called <a href=\"https://itunes.apple.com/us/app/view-source-html-javascript/id917660039?mt=8\">View Source</a>,\nwhich provides an iOS 8 extension for viewing the source of any website right\nin Safari. When I tried to run it on my own blog (as you do), I saw this:</p>\n\n<p><img src=\"/img/2015-01-21-view-source-on-ios.png\" alt=\"view source on a recent post in iOS\" /></p>\n\n<p>That… looks kind of wrong? Why’s all the head stuff in the body? Huh?</p>\n\n<p>So just a few minutes ago I opened up my text editor and opened the relevant\nfile to make a fix, and I saw this:</p>\n\n<p><img src=\"/img/2015-01-21-markup-in-vim-with-syntastic.png\" alt=\"HTML in vim with syntastic\" /></p>\n\n<p>Hell yeah! Where was that error message when I first introduced the problem?</p>\n\n<p>Well, it was nowhere, because I only started using <a href=\"https://github.com/scrooloose/syntastic\">that plugin</a> like <a href=\"http://www.hardscrabble.net/2015/ambiguous-use-of-user-defined-command/\">last\nweek</a>, and I introduced the problem a full <a href=\"https://github.com/hardscrabble/hardscrabble.github.io/commit/2bbe8553e33f53d15dea6ce2384f094f1fbf4228\">615 days ago</a> while sloppily\nporting my layout from <a href=\"https://github.com/maxjacobson/beefsteak/blob/4d305dca1d0c25a2bbefa6a4318a7df56f843f1d/views/layout.haml\">haml</a> to Jekyll.</p>\n\n<p>Probably my moral is: be careful out there! And pay attention to your inklings.</p>\n\n<p>Here’s my second moral: even after making the fix, there are <em>still</em> some\nerrors reported by the plugin because it’s confused by the Liquid tags, which\n<em>aren’t</em> valid HTML! I’m going to push the fix and use <a href=\"http://validator.w3.org/\">the online validator</a>\ninstead. <em>Sooooo</em> tools aren’t a panacea.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "18 Jan 2015",
        "title": "Ambiguous use of user-defined command",
        "url": "/2015/ambiguous-use-of-user-defined-command",
        "content": "<p>I wish Vim plugin authors would stop exposing commands that start with E. Is\nthat a reasonable thing to feel? I do feel it.</p>\n\n<p>I <a href=\"http://www.hardscrabble.net/2015/a-cleaner-file-browsing-interface-for-vim/\">use netrw</a> to browse files in vim, and I enter netrw by writing <code class=\"highlighter-rouge\">:E</code>. I\ndo this all the time. <code class=\"highlighter-rouge\">:E</code> is short for <code class=\"highlighter-rouge\">:Explore</code>. I could type <code class=\"highlighter-rouge\">:Ex</code>, <code class=\"highlighter-rouge\">:Exp</code>,\n  <code class=\"highlighter-rouge\">:Expl</code>, <code class=\"highlighter-rouge\">:Explo</code>, <code class=\"highlighter-rouge\">:Explor</code> as well, but I type <code class=\"highlighter-rouge\">:E</code>. This is what my\n  fingers remember.</p>\n\n<p>Sometimes I install a plugin, and that plugin exposes another command which\nstarts with <code class=\"highlighter-rouge\">:E</code>, and suddenly I get this vim error message:</p>\n\n<blockquote>\n  <p>Ambiguous use of user-defined command</p>\n</blockquote>\n\n<p>What! I’m the user, and I didn’t even define these commands! I just installed a\nplugin. This is bull! Recently I installed <a href=\"https://github.com/scrooloose/syntastic\">a plugin</a> which, very sensibly,\n<a href=\"https://github.com/scrooloose/syntastic/blob/2073cee050d3df2ed963d00ac433bb94218d66af/plugin/syntastic.vim#L179\">exposes</a> a command called <code class=\"highlighter-rouge\">:Errors</code>. Except, like, now I can’t type <code class=\"highlighter-rouge\">:E</code>\nbecause that’s ambiguous, I could just as easily mean either of those commands,\nso vim does neither. Now I need to type <code class=\"highlighter-rouge\">:Ex</code> to disambiguate. I could cry.</p>\n\n<p>So anyway, I was about to uninstall the plugin, but then I realized I can just\nedit my local copy of it and comment out the line that exposes the <code class=\"highlighter-rouge\">:Errors</code>\ncommand, which I didn’t particularly want to use anyway, and now I’m kind of\nhappy. I would prefer if I could un-register the command in my <code class=\"highlighter-rouge\">.vimrc</code> (is it\npossible?  I couldn’t find how in my few minutes of searching), because this\nsolution is kind of fragile; next time I install the plugin on some other\ncomputer, it won’t include my fix.</p>\n\n<p><strong>Edit April 2015</strong>: I’ve sort of solved this problem by no longer typing <code class=\"highlighter-rouge\">:E</code>,\nand instead adding this line to my vimrc:</p>\n\n<div class=\"language-vim highlighter-rouge\"><pre class=\"highlight\"><code>nmap <span class=\"p\">&lt;</span><span class=\"k\">silent</span><span class=\"p\">&gt;</span> <span class=\"p\">&lt;</span>Leader<span class=\"p\">&gt;</span><span class=\"k\">e</span> <span class=\"p\">:</span>Explore<span class=\"p\">&lt;</span>CR<span class=\"p\">&gt;</span>\n</code></pre>\n</div>\n\n<p>Which lets me type <code class=\"highlighter-rouge\">,e</code> to jump right to netrw (<code class=\"highlighter-rouge\">,</code> is my Leader character. By\ndefault, the Leader character is <code class=\"highlighter-rouge\">\\</code>.)`</p>\n"
      }
      
        ,
      
    
      {
        "date": "18 Jan 2015",
        "title": "unpairing bluetooth devices is annoying",
        "url": "/2015/bluetooth-design-responsibilities",
        "content": "<p>I don’t use that many bluetooth products. Bluetooth kind of confuses me, to be\nhonest.</p>\n\n<p>Five months ago I bought this:</p>\n\n<p><img src=\"/img/2015-01-18-amazon-speakers.jpg\" alt=\"a red speaker\" /></p>\n\n<p>It’s the <a href=\"http://smile.amazon.com/dp/B00JZVPJD8/ref=pe_385040_121528360_TE_dp_2\">AmazonBasics Ultra-Portable Mini Bluetooth Speaker - Red</a>. It’s\nlike one of those cool Jawbone speakers but cheaper and probably not as good.</p>\n\n<p>I love it. I use it to listen to podcasts in the shower or while doing dishes.\nIt’s louder than my phone’s speakers and lets me keep my phone away from water.\nIt’s perfect.</p>\n\n<p>The other bluetooth product I use regularly is the <a href=\"http://www.apple.com/magictrackpad/\">Apple Magic Trackpad</a>,\nwhich I also love (I love swiping around to do things). Sometimes, though, I\nfind myself wanting to unpair the trackpad with one computer so I can pair it\nwith a different one and this is <strong>so unnecessarily hard</strong>.</p>\n\n<p>Before I can use the trackpad with the second computer, I need to open the\nBluetooth preferences in system preferences, find the device, and tell the\ncomputer to forget about this device (so dramatic!) before it will show up as\npairable to the other computer. Honestly this isn’t that hard, but it takes a\nfew seconds, and I almost always forget to do it before I’ve already put away or\nturned off the first computer.</p>\n\n<p>Amazon’s cheap little speakers do it so much better. See that middle button? If\nyou hold it down for a few seconds, it unpairs from whatever, and becomes\navailable to whatever. That’s great! Because what if it was paired to something\nand you left that something at home? I could be wrong, but with most Bluetooth\ndevices I think you just wouldn’t be able to use it.</p>\n\n<p>Having this extra button feels to me like a correct design, with the\nresponsibilities where they belong.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "17 Jan 2015",
        "title": "enterprising",
        "url": "/2015/enterprising",
        "content": "<p>Steven Soderbergh re-edited some famous movies. Jason Kottke <a href=\"http://kottke.org/15/01/soderberghs-edit-of-2001\">linked to them</a>\nand, among other things, mentioned this (emphasis mine):</p>\n\n<blockquote>\n  <p>I’ve seen some comments on Twitter and elsewhere about the legality of\nSoderbergh posting the 2001 and Raiders edits. The videos are hosted on Vimeo,\nbut are private and can’t be embedded on any site other than Soderbergh’s. But\n<strong>any enterprising person can easily figure out how to download either video</strong>.\nThe Raiders video has been up since September, which means either that\nParamount doesn’t care (most likely in my mind) or their lawyers somehow\nhaven’t caught wind of it, even though it was all over the internet a few\nmonths ago (less likely). We’ll see if whoever owns the rights to 2001 (Time\nWarner?) feels similarly.</p>\n</blockquote>\n\n<p>I read that and was kind of surprised because at first blush I had absolutely\nno clue at all how I might download the video. Sooooo I had to try:</p>\n\n<iframe src=\"//player.vimeo.com/video/117056934?title=0&amp;byline=0&amp;portrait=0&amp;color=ff9933\" width=\"686\" height=\"386\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n<p><a href=\"http://vimeo.com/117056934\">Enterprising</a> from <a href=\"http://vimeo.com/maxjacobson\">Max Jacobson</a> on <a href=\"https://vimeo.com\">Vimeo</a>.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "03 Jan 2015",
        "title": "terminal multiplexing with tmux",
        "url": "/2015/terminal-multiplexing",
        "content": "<iframe src=\"//player.vimeo.com/video/104250309?byline=0&amp;portrait=0\" width=\"686\" height=\"429\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n\n<p>I made this video a few months back with my friend <a href=\"https://github.com/surrealdetective\">Alex Au</a>. It’s a crash\ncourse in how to use <a href=\"https://en.wikipedia.org/wiki/Tmux\">tmux</a>. We made another, shorter, video about <em>why</em> you\nmight want to use tmux as well:</p>\n\n<iframe src=\"//player.vimeo.com/video/104250007?byline=0&amp;portrait=0\" width=\"686\" height=\"429\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n\n<p>If you find yourself with more than a couple of terminal tabs or windows open\nall the time, I think you should consider using tmux instead. In the last few\nmonths I feel like I’ve hit a sweet groove with my terminal use, where I pretty\nmuch never have more than one tab or window open. Instead, I have one tmux\nsession per project, and several virtual tabs (“windows” in tmux parlance) per\nproject. The thing I learned most recently that makes this really fly is the\nkeyboard shortcut for switching from one tmux session to another without ever\nleaving tmux. I only ever really leave tmux to navigate to a different directory\nand start a new tmux session.</p>\n\n<p>Here’s what that looks like:</p>\n\n<p><a href=\"/img/2015-01-03-tmux.gif\"><img src=\"/img/2015-01-03-tmux.gif\" alt=\"tmux flow\" /></a></p>\n\n<p>(I gotta look back into those failing tests in film snob…)</p>\n\n<p>The keyboard shortcut that takes you to the session switcher is <code class=\"highlighter-rouge\">ctrl+b s</code> (s\nfor switch). For me, it’s super useful. Hopefully you’ll find it useful, too.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "02 Jan 2015",
        "title": "A cleaner file browsing interface for vim",
        "url": "/2015/a-cleaner-file-browsing-interface-for-vim",
        "content": "<iframe src=\"//player.vimeo.com/video/115783832\" width=\"500\" height=\"281\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n\n<p><a href=\"http://vimeo.com/115783832\">A cleaner file browsing interface for vim</a> from <a href=\"http://vimeo.com/maxjacobson\">Max Jacobson</a> on <a href=\"https://vimeo.com\">Vimeo</a>.</p>\n\n<p>TLDW: add this to your <code class=\"highlighter-rouge\">~/.vimrc</code>:</p>\n\n<div class=\"language-vim highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c\">\" hide the giant banner at the top of netrw</span>\n<span class=\"k\">let</span> <span class=\"nv\">g:netrw_banner</span><span class=\"p\">=</span><span class=\"m\">0</span>\n<span class=\"c\">\" hide gitignored files from netrw</span>\n<span class=\"k\">let</span> <span class=\"nv\">g:netrw_list_hide</span><span class=\"p\">=</span>netrw_gitignore#Hide<span class=\"p\">()</span>\n</code></pre>\n</div>\n\n<p>And then use netrw instead of NERDTree.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "01 Jan 2015",
        "title": "useful tool: storm",
        "url": "/2015/useful-tool-storm",
        "content": "<p>I’ve been sort of passively looking out for something like this for a while.\nHere’s the problem: there are a lot of remote servers I may want to SSH into at\nany given time, and I am not going to remember all of their usernames or IP\naddresses. Not gonna happen.</p>\n\n<p>I’ve been dealing with this by creating custom aliases. So I put something like\nthis in my <code class=\"highlighter-rouge\">~/.bash_profile</code>:</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">alias</span> <span class=\"s1\">'eug'</span><span class=\"o\">=</span><span class=\"s1\">'ssh pair@some.ip.address'</span>\n</code></pre>\n</div>\n\n<p>Then, whenever I want to connect to Eugene’s server so we can pair program, I\njust type <code class=\"highlighter-rouge\">eug</code> and hit enter, and I’m there. Not bad! It even tab-completes.</p>\n\n<p>Not great either. It’s hard to keep track of them. I can type <code class=\"highlighter-rouge\">alias</code> at any\ntime to list all of the defined aliases, and that’s pretty sweet, but it\nincludes several things, not just ssh aliases. I’ve kind of wanted a tool that\nwas more tailored to this job.</p>\n\n<p>Sooo, enter storm. I found it <a href=\"http://onethingwell.org/post/84512968138/storm\">via one thing well</a>, a sweet blog for nerdy\nstuff like this.</p>\n\n<p>Storm lets you define aliases to remote servers like this:</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code>storm add eug pair@some.ip.address\n</code></pre>\n</div>\n\n<p>Once you do that, you just type <code class=\"highlighter-rouge\">ssh eug</code> to connect. It has some other helpful\nsubcommands like <code class=\"highlighter-rouge\">storm list</code> to tell you all of your aliases even <code class=\"highlighter-rouge\">storm web</code>\nto spin up a nice local web server to provide a web interface for managing your\naliases…</p>\n\n<p>Hey, wait a second. Somehow it’s hooking into the normal main <code class=\"highlighter-rouge\">ssh</code> command!</p>\n\n<p>After some poking around, I found that it’s saving the information in\n<code class=\"highlighter-rouge\">~/.ssh/config</code> as a plain text configuration file that looks like this:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>Host eug\n    hostname some.ip.address\n    user pair\n    port 22\n</code></pre>\n</div>\n\n<p>And that I could’ve been using a similarly-structured file all along, and didn’t\nreally need storm at all!</p>\n\n<p>Hot dog.</p>\n\n<p>Well, I’m going to use it anyway because it has a sweet interface and I’m kind\nof just grateful to have learned something from it? I’m guilt-tripping myself\ninto using it.</p>\n"
      }
      
        ,
      
    
      {
        "date": "16 Dec 2014",
        "title": "don't let me modify my laptop any more please",
        "url": "/2014/mac-upgrades",
        "content": "<p>I’m writing this on a sticker-covered MacBook Pro my Grandma bought me 3.5 years\nago. It’s a pretty powerful Mac. I thought I wanted to be a freelance video\neditor then. I bought the controversial Final Draft X around that time too.</p>\n\n<p>I haven’t edited more than few personal videos, but I’ve used this to write a\nlot of code and I think I’ve benefited from it having a powerful\nprocessor<sup id=\"fnref:proc\"><a href=\"#fn:proc\" class=\"footnote\">1</a></sup></p>\n\n<p>I don’t really know anything about hardware, but I’ve nonetheless made a few\nhardware upgrades over the years. Less than a year after getting the computer, I\nupgraded the RAM from 4 to 8 GB:</p>\n\n<blockquote class=\"instagram-media\" data-instgrm-captioned=\"\" data-instgrm-version=\"4\" style=\" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);\"><div style=\"padding:8px;\"> <div style=\" background:#F8F8F8; line-height:0; margin-top:40px; padding:50% 0; text-align:center; width:100%;\"> <div style=\" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAGFBMVEUiIiI9PT0eHh4gIB4hIBkcHBwcHBwcHBydr+JQAAAACHRSTlMABA4YHyQsM5jtaMwAAADfSURBVDjL7ZVBEgMhCAQBAf//42xcNbpAqakcM0ftUmFAAIBE81IqBJdS3lS6zs3bIpB9WED3YYXFPmHRfT8sgyrCP1x8uEUxLMzNWElFOYCV6mHWWwMzdPEKHlhLw7NWJqkHc4uIZphavDzA2JPzUDsBZziNae2S6owH8xPmX8G7zzgKEOPUoYHvGz1TBCxMkd3kwNVbU0gKHkx+iZILf77IofhrY1nYFnB/lQPb79drWOyJVa/DAvg9B/rLB4cC+Nqgdz/TvBbBnr6GBReqn/nRmDgaQEej7WhonozjF+Y2I/fZou/qAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;\"></div></div> <p style=\" margin:8px 0 0 0; padding:0 4px;\"> <a href=\"https://instagram.com/p/gED_S/\" style=\" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;\" target=\"_top\">RAM upgrade</a></p> <p style=\" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;\">A photo posted by Max Jacobson (@maxjacobson) on <time style=\" font-family:Arial,sans-serif; font-size:14px; line-height:17px;\" datetime=\"2012-01-10T22:07:40+00:00\">Jan 1, 2012 at 2:07pm PST</time></p></div></blockquote>\n\n<p>That was pretty easy. You just have to unscrew the bottom off, pull out the old\nRAM, and add the new RAM (which you bought from Amazon or Newegg or something)\nand then screw the back on again. It uses normal little phillips head screws.</p>\n\n<p>That worked out for a few years. Then it starts feeling slow again. I’ve come to\nunderstand that SSDs are faster than HDDs and decide to remove the optical drive\nin my laptop, move the HDD into that position, and add a new SSD in the position\nof the original HDD, and then use the SSD as my primary drive.</p>\n\n<p>I order the parts from the internet and buy a screwdrive set from TekServe and\nfeel very confident. Ultimately I was too confident. This was a super advanced\nthing to do! I almost ruined my computer.</p>\n\n<blockquote class=\"instagram-media\" data-instgrm-captioned=\"\" data-instgrm-version=\"4\" style=\" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);\"><div style=\"padding:8px;\"> <div style=\" background:#F8F8F8; line-height:0; margin-top:40px; padding:50% 0; text-align:center; width:100%;\"> <div style=\" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAGFBMVEUiIiI9PT0eHh4gIB4hIBkcHBwcHBwcHBydr+JQAAAACHRSTlMABA4YHyQsM5jtaMwAAADfSURBVDjL7ZVBEgMhCAQBAf//42xcNbpAqakcM0ftUmFAAIBE81IqBJdS3lS6zs3bIpB9WED3YYXFPmHRfT8sgyrCP1x8uEUxLMzNWElFOYCV6mHWWwMzdPEKHlhLw7NWJqkHc4uIZphavDzA2JPzUDsBZziNae2S6owH8xPmX8G7zzgKEOPUoYHvGz1TBCxMkd3kwNVbU0gKHkx+iZILf77IofhrY1nYFnB/lQPb79drWOyJVa/DAvg9B/rLB4cC+Nqgdz/TvBbBnr6GBReqn/nRmDgaQEej7WhonozjF+Y2I/fZou/qAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;\"></div></div> <p style=\" margin:8px 0 0 0; padding:0 4px;\"> <a href=\"https://instagram.com/p/o7FACsIchw/\" style=\" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;\" target=\"_top\">Current status (I think there&#39;s a stripped screw 😁)</a></p> <p style=\" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;\">A photo posted by Max Jacobson (@maxjacobson) on <time style=\" font-family:Arial,sans-serif; font-size:14px; line-height:17px;\" datetime=\"2014-06-07T00:41:40+00:00\">Jun 6, 2014 at 5:41pm PDT</time></p></div></blockquote>\n\n<p>Basically: stripped screws are the bane of my hardware existence. What do you do\nwhen you need to remove a screw so you can remove an optical drive, but the\nscrewdrive spins and the screw stays put? What the hell do you do?</p>\n\n<p>On some level I believe there’s a solution to every problem. Sometimes the\nsolution is more dramatic. When I can’t remove a screw from some fixture, I do\nthe next best thing and destroy the fixture. In that picture you can see the\noptical drive on the right, and a plastic-looking arm holdig it in place. It\nturns out there’s metal underneath the plastic.</p>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>Just finished replacing my optical drive with an SSD. It took like two hours and was very stressful. There are extra screws</p>&mdash; Max Jacobson (@maxjacobson) <a href=\"https://twitter.com/maxjacobson/status/475102165070282752\">June 7, 2014</a></blockquote>\n\n<p>Fast forward to tonight and I have forgotten how bad I am at this stuff and I\nhave a new mac upgrade mission. I’ve been getting little warnings in the status\nbar that my battery needs attention. I’m worried the Apple Store won’t service\nit because of the previous modifications I made, but I find <a href=\"https://www.ifixit.com/Guide/MacBook+Pro+15-Inch+Unibody+Early+2011+Battery+Replacement/5889\">a straightforward\nreplacement instruction set</a> online that makes it seem pretty doable,\nand I order <a href=\"http://www.amazon.com/gp/product/B00M047836/ref=oh_aui_detailpage_o02_s00?ie=UTF8&amp;psc=1\">a replacement battery</a> from Amazon that is half the price of\nthe one Apple sells and I’m preparing to open it up again.</p>\n\n<p>Honestly, I should have heeded the first signal, which was that one of the\nscrews holding the bottom plate in place was slightly stripped and didn’t want\nto come out easily. I stayed patient and tried a few different screw drivers and\nultimately managed to slip it out. I’m feeling pretty good. The bottom plate\ncomes off.</p>\n\n<p>The battery has a sticker on it warning not to try to replace it yourself. I\nignore the sticker. The instructions online tell me there are only three screws\nto remove, but they’re not a typical kind of screw. Luckily, the battery came\nwith a special screwdriver for this purpose. The first two screws come off\neasily. The third is hidden under the sticker. I have never even lifted this\nsticker in my life, I swear, but somehow this last screw is pretty stripped, and\nthere’s nothing for me to do. I either have to give up or resort to drastic\naction. There’s no coaxing this one out.</p>\n\n<p>So what do I do? I find the power drill my dad left at my apartment a few months\nago and start fucking up this fixture:</p>\n\n<blockquote class=\"instagram-media\" data-instgrm-captioned=\"\" data-instgrm-version=\"4\" style=\" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);\"><div style=\"padding:8px;\"> <div style=\" background:#F8F8F8; line-height:0; margin-top:40px; padding:50% 0; text-align:center; width:100%;\"> <div style=\" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAGFBMVEUiIiI9PT0eHh4gIB4hIBkcHBwcHBwcHBydr+JQAAAACHRSTlMABA4YHyQsM5jtaMwAAADfSURBVDjL7ZVBEgMhCAQBAf//42xcNbpAqakcM0ftUmFAAIBE81IqBJdS3lS6zs3bIpB9WED3YYXFPmHRfT8sgyrCP1x8uEUxLMzNWElFOYCV6mHWWwMzdPEKHlhLw7NWJqkHc4uIZphavDzA2JPzUDsBZziNae2S6owH8xPmX8G7zzgKEOPUoYHvGz1TBCxMkd3kwNVbU0gKHkx+iZILf77IofhrY1nYFnB/lQPb79drWOyJVa/DAvg9B/rLB4cC+Nqgdz/TvBbBnr6GBReqn/nRmDgaQEej7WhonozjF+Y2I/fZou/qAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;\"></div></div> <p style=\" margin:8px 0 0 0; padding:0 4px;\"> <a href=\"https://instagram.com/p/wp3kyDocg8/\" style=\" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;\" target=\"_top\">Trying to replace the battery</a></p> <p style=\" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;\">A video posted by Max Jacobson (@maxjacobson) on <time style=\" font-family:Arial,sans-serif; font-size:14px; line-height:17px;\" datetime=\"2014-12-16T04:28:25+00:00\">Dec 12, 2014 at 8:28pm PST</time></p></div></blockquote>\n\n<p>I try prodding and poking and sawing at it with a drill, a pocket knife, with\nvarious screw drivers, for well over an hour. I learn more about how the power\ndrill works when suddenly its mouth opens and the drillbit falls out and I have\nto figure out why.</p>\n\n<p>Something like an hour and a half later the fixture is sufficiently destroyed\nthat I can remove the battery. I’m pretty nervous that I’ve more or less\ndestroyed the entire computer. I figure there’s a good enough chance that the\ndrill would poke through the machine and screen, or I sever the strip that\nconnects the SSD drive to the computer or who even knows?</p>\n\n<p>Because I never really removed the old screw, I just forcefully ripped the old\nbattery from it, the new battery doesn’t really fit. It has a little ear that\nwants to be fastened down in that same place, but that place is occupied by an\nold screw fastening nothing. So I ply away the ear, and position the battery\nfastened by only two screws.</p>\n\n<p>I hold my breath and turn it on. It actually kind of works. The warning light is\ngone. The “battery health” is 101% now, whatever that means. The estimated\nduration is still terrible, less than an hour on a brand new battery, but I\nkind of don’t care. Actually that number is going up as I type this :guitar:.</p>\n\n<p>I feel like I need to wear a promise ring not to ever try and open up this\ncomputer again, for my sake and its. It just won’t be a happy thing to do. I\nhope writing this makes me remember that.</p>\n\n<p>Although, now the HDD isn’t showing up in the list of drives… maybe I should\njust open it one more time and take a look…</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:proc\">\n      <p>Or whatever. Honestly, I don’t really know anything about hardware. <a href=\"#fnref:proc\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "14 Dec 2014",
        "title": "more film snob updates",
        "url": "/2014/more-film-snob-updates",
        "content": "<p>Since <a href=\"http://www.hardscrabble.net/2014/film-snob-040/\">my last post</a>, in which I announced version v0.4.0 of film snob and\nkind of agonized over the decision to mark it as a minor release, I’ve gone\nahead and made two more minor releases. I have much less anxiety about it now.\nIn fact, I wish I had been doing that earlier.</p>\n\n<p>I decided to do some release notes on the release section of the GitHub repo,\ninstead of here: <a href=\"https://github.com/maxjacobson/film_snob/releases\">https://github.com/maxjacobson/film_snob/releases</a>.</p>\n\n<p>While adding release notes for the very oldest versions, from April, I laughed\nseeing how stuck I was on v0.3.x, not sure when I was allowed to move forward,\nand just continuing to add these patch level releases for things that were\ntotally new functionality.</p>\n\n<p>Here’s what’s new in v0.5.0:\n<a href=\"https://github.com/maxjacobson/film_snob/releases/tag/v0.5.0\">https://github.com/maxjacobson/film_snob/releases/tag/v0.5.0</a>.</p>\n\n<p>And here’s what’s new in v0.6.0:\n<a href=\"https://github.com/maxjacobson/film_snob/releases/tag/v0.6.0\">https://github.com/maxjacobson/film_snob/releases/tag/v0.6.0</a>.</p>\n\n<hr />\n\n<p>The next big thing I’ll need to decide be when to mark the major release of\n<code class=\"highlighter-rouge\">v1.0.0</code>. I had <a href=\"https://github.com/maxjacobson/film_snob/issues?q=milestone%3Av1.0.0+\">some ideas</a> about breaking changes that I would like to\nmake, so I thought I would save those for the first major release, but then a\nvery generous stranger implemented those ideas and made some pull requests, so I\nhave to decide if I’m ready to make it happen now. Why not, I guess? :fearful:</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "06 Dec 2014",
        "title": "film snob 0.4.0",
        "url": "/2014/film-snob-040",
        "content": "<p>Today I’m happy to release film snob v0.4.0.</p>\n\n<p>I first wrote about film snob <a href=\"http://www.hardscrabble.net/2014/refactoring_old_code/\">in April</a>, when I extracted it from my old web\napp <a href=\"http://layabout.tv\">Layabout</a>.</p>\n\n<p>None of the changes add new functionality, so maybe it was wrong to call this a\nminor release. They also don’t fix any bugs. <a href=\"https://github.com/maxjacobson/film_snob/compare/v0.3.13...v0.4.0\">They’re all</a> to do with making\nsmall stylistic changes that make the code easier to read or more consistent. I\nhaven’t been releasing those changes because I haven’t been sure what the point\nis – why release an update that doesn’t change anything?</p>\n\n<p>If someone is using film snob, and it’s not behaving how they expect, they might\ncheck the source code to help them understand and debug their problem. With that\nscenario in mind, I definitely want to release these changes.</p>\n\n<p>Also, today I merged <a href=\"https://github.com/maxjacobson/film_snob/pull/56\">an awesome pull request</a> which renames a method and\nemits a deprecation warning for the old method name. Thanks to <a href=\"https://github.com/wilchandler\">Wil Chandler</a>\nfor making that change.</p>\n\n<p>Ever since <a href=\"https://github.com/davydovanton\">Anton Davydov</a> <a href=\"https://github.com/maxjacobson/film_snob/pull/29\">added</a> support for embedding photos and\nvideos from Instagram, it’s been kind of weird that one of the main public\ninterfaces for film snob has been the <code class=\"highlighter-rouge\">watchable?</code> method. Instagram photos\naren’t really watchable, right? They’re look-at-able, I suppose, but not\nwatchable. Soon we’ll be adding support for embedding Rdio playlists &amp; songs\ntoo, and it’ll be even more semantically unsettling.</p>\n\n<p>The experience now looks something like this:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>15:22:33 tralfamadore-5 hardscrabble.net:master\n⇥ irb\n&gt;&gt; require 'film_snob'\n=&gt; true\n&gt;&gt; FilmSnob.new('http://instagram.com/p/sw4RThIctq/').watchable?\nWARNING: #watchable? is deprecated and will be removed in v1.0.0. Please use #embeddable? instead.\n=&gt; true\n&gt;&gt; FilmSnob.new('http://instagram.com/p/sw4RThIctq/').embeddable?\n=&gt; true\n</code></pre>\n</div>\n\n<p>Embeddable feels more right to me.</p>\n\n<p>So even though there’s no new functionality, there is more clarity, and maybe\nclarity counts as a feature? :leaves:</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "30 Nov 2014",
        "title": "git repl",
        "url": "/2014/git-repl",
        "content": "<p>The other day <a href=\"http://www.hardscrabble.net/2014/git-fresh-branch/\">I mentioned</a> coming upon a neat set of git extensions called\n‘git extras’ by TJ Holowaychuk. Since then I’ve become slightly obsessed with\nit. It’s so useful, including as a terrific learning tool. Take ‘git repl’ as an\nexample.</p>\n\n<p>First of all, what is it?</p>\n\n<p>allow me to answer with a GIF:</p>\n\n<p><img src=\"/img/2014-11-30-git-repl.gif\" alt=\"vim auto indent gif\" /></p>\n\n<p><strong>In short:</strong> if you’re gonna be doing a bunch of git operations in a row, why\nkeep typing <code class=\"highlighter-rouge\">git</code> over and over when you can go into a git repl and just let it\nassume that everything you’re doing is going to be a git command?</p>\n\n<p>It plays well with vim, too – the commit message editor seamlessly pops into\nvim and then back into the git repl on quit.</p>\n\n<p>So how does it work? I looked at it and assumed that it must be <em>so much code</em>\nand way beyond my understanding. But that’s totally wrong! It’s just <a href=\"https://github.com/tj/git-extras/blob/master/bin/git-repl\">43 lines\nof bash</a> and it’s fairly readable.</p>\n\n<p>The really interesting part is <code class=\"highlighter-rouge\">read</code>, which has a comment indicating that it’s\npowered by <code class=\"highlighter-rouge\">Readline</code>, which is one of those words that I’ve seen fly around\nwhile existing in the world of software, but have never heard defined. Well,\nhere’s the wikipedia page for it: <a href=\"http://en.wikipedia.org/wiki/GNU_Readline\">GNU Readline</a>. It was originally written\nby Brian Fox, who also created bash. Ruby’s various REPLs (eg rails console,\nirb, pry) are probably using it under the hood via Ruby’s <a href=\"http://ruby-doc.org/stdlib-2.1.5/libdoc/readline/rdoc/Readline.html\">standard Readline\nlibrary</a>,\nwhich makes writing a REPL super simple, while maintaining the behaviors you may\nbe used to. For example, I compulsively press control+l to clear the screen;\nthis works in a readline REPL but not in something like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"kp\">loop</span> <span class=\"k\">do</span>\n  <span class=\"nb\">print</span> <span class=\"s2\">\"&gt; \"</span>\n  <span class=\"n\">input</span> <span class=\"o\">=</span> <span class=\"nb\">gets</span><span class=\"p\">.</span><span class=\"nf\">chomp</span>\n  <span class=\"nb\">puts</span> <span class=\"n\">input</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>Filename tab completion works as well! Whoa!</p>\n\n<p>Here’s my first readline program, inspired by the git repl code:</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">function </span>extensions <span class=\"o\">{</span>\n  <span class=\"nb\">read</span> -e -r -p <span class=\"s2\">\"find files with extension: \"</span> extension\n  find . -name <span class=\"s2\">\"*.</span><span class=\"nv\">$extension</span><span class=\"s2\">\"</span>\n<span class=\"o\">}</span>\n</code></pre>\n</div>\n\n<p>Try pasting that into your terminal then entering <code class=\"highlighter-rouge\">extensions</code> to run it and to\nexplore your projects. It should prompt you for a file extension (try entering\n<code class=\"highlighter-rouge\">rb</code> in a Ruby project, for example) and then spit out the list of files with\nthat extension in the current directory (and its subdirectories).</p>\n\n<p>Not a particularly great program! I’m mostly just happy to see how simple and\ndemonstrative the git extras code was.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "29 Nov 2014",
        "title": "idempotent",
        "url": "/2014/idempotent",
        "content": "<p>HTTP GET requests are supposed to be idempotent, but they often have the side\neffect of appending some request details to a log file, which can eventually\ngrow so large that it fills the disk and takes down the server.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "28 Nov 2014",
        "title": "git fresh branch",
        "url": "/2014/git-fresh-branch",
        "content": "<p>Tonight while clicking around the web I discovered\n<a href=\"https://github.com/tj/git-extras\">tj/git-extras</a>, a set of useful git tools\nmaintained by TJ Holowaychuk<sup id=\"fnref:tj\"><a href=\"#fn:tj\" class=\"footnote\">1</a></sup>. Once installed, your <code class=\"highlighter-rouge\">git</code> command is\noverloaded with a bunch of new, useful commands.</p>\n\n<p>It’s easy to install, but it does add quite a lot of stuff, and I was worried\nfor a moment that it would clobber some existing aliases of my own. One, <a href=\"https://github.com/tj/git-extras/blob/master/bin/git-squash\">git squash</a>,\ncomes dangerously close to my beloved <a href=\"https://github.com/maxjacobson/dotfiles/blob/f40c96fd883912f37f1451a2a41cb8c32c2c963f/.gitconfig#L16\">git squasher</a>, but doesn’t\nactually conflict.</p>\n\n<p>If you are worried about it, you can safely pick and choose which extras you\nwant by saving <a href=\"https://github.com/tj/git-extras/tree/master/bin\">individual scripts</a> and just making sure they’re all on your\nPATH and executable.</p>\n\n<p>The readme explains their purposes nicely, but I want to emphasize one in\nparticular: <code class=\"highlighter-rouge\">git fresh-branch &lt;branch name&gt;</code> which does stuff I didn’t know was\npossible.</p>\n\n<p>Let’s say you’re maintaining an open source library that has existed long enough\nto accumulate many commits and files. Let’s say you want to create <a href=\"https://pages.github.com/\">a github\npage</a> for that library to explain what it’s all about\nand how to use it. The way github pages works, you should create a new branch in\nthe same repo with the branch name <code class=\"highlighter-rouge\">gh-pages</code>, and on that branch you keep a set\nof assets that will become a static website. But when you create a new branch,\nit will have all of the code from your open source library, and an entire\nhistory of commmits. I can imagine doing something like this:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code># create a new branch\ngit checkout -b gh-pages\n# delete all of the existing files\ngit ls-files | xargs rm\n# stage those deletes\ngit add -A\n# commit the change\ngit commit -m 'BURN IT DOWN'\n\n# create the first version of the site\necho 'hello! use my gem!' &gt; index.html\ngit add index.html\ngit commit -m 'gh-pages init'\ngit push origin gh-pages\n</code></pre>\n</div>\n\n<p>And then I’d wait for GitHub to do its magic and expect to see my great page\nonline in a few minutes.</p>\n\n<p>It’s kind of awkward having a ‘BURN IT DOWN’ commit, but I didn’t know there was\nan alternative. With git extras, that could look more like this:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code># create a new branch WITH NO HISTORY AT ALL\n# NOT ONE COMMIT\ngit fresh-branch gh-pages\n\n# create the first version of the site\necho 'hello! use my gem!' &gt; index.html\ngit add index.html\ngit commit -m 'gh-pages init'\ngit push origin gh-pages\n</code></pre>\n</div>\n\n<p>How the heck does it work? We can look at the fresh-branch script <a href=\"https://github.com/tj/git-extras/blob/master/bin/git-fresh-branch\">online</a>,\nbut I’ll include the latest version here for reference:</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c\">#!/bin/sh</span>\n\n<span class=\"nv\">branch</span><span class=\"o\">=</span><span class=\"nv\">$1</span>\n\n<span class=\"nb\">test</span> -z <span class=\"nv\">$branch</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">echo</span> <span class=\"s2\">\"branch required.\"</span> 1&gt;&amp;2 <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">exit </span>1\n\ngit symbolic-ref HEAD refs/heads/<span class=\"nv\">$branch</span>\nrm .git/index\ngit clean -fdx\n</code></pre>\n</div>\n\n<p>I guess a lot of the work is being done by <a href=\"http://git-scm.com/docs/git-symbolic-ref\">symbolic-ref</a>.</p>\n\n<p>While researching this post, I noticed that git-extras also offers a\n<a href=\"https://github.com/tj/git-extras/blob/master/bin/git-gh-pages\">gh-pages</a> script\nthat is even more tailored to the use case from my example. Of course! :leaves:</p>\n\n<hr />\n\n<p><strong>edit</strong>: I probably should have slept on this post and actually explored more\nhow it’s working under the hood. But I did not.</p>\n\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:tj\">\n      <p>Formerly ‘visionmedia’ on GitHub <a href=\"#fnref:tj\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "19 Oct 2014",
        "title": "ruby-build, chruby, and yosemite",
        "url": "/2014/ruby-build-chruby-and-yosemite",
        "content": "<p>A few months ago I stopped using <a href=\"http://rvm.io/\">rvm</a> to install and manage my ruby installations on my computers. I don’t have a great reason, other than reading that <a href=\"http://blog.steveklabnik.com/posts/2012-12-13-getting-started-with-chruby\">Steve Klabnik uses something else</a> and I felt like trying it one day.</p>\n\n<p>What I use now:</p>\n\n<h2 id=\"ruby-buildhttpsgithubcomsstephensonruby-build\"><a href=\"https://github.com/sstephenson/ruby-build\">ruby-build</a></h2>\n\n<p>This is how I install rubies:</p>\n\n<ul>\n  <li><code class=\"highlighter-rouge\">brew install ruby-build</code> – get ruby-build</li>\n  <li><code class=\"highlighter-rouge\">mkdir ~/.rubies</code> – this is where rubies and gems will go</li>\n  <li><code class=\"highlighter-rouge\">ruby-build --definitions</code> – shows you a list of all the available rubies. When new ones come out, you should be able to just <code class=\"highlighter-rouge\">brew update</code> and <code class=\"highlighter-rouge\">brew upgrade ruby-build</code> to get access to those new definitions</li>\n  <li><code class=\"highlighter-rouge\">ruby-build 2.1.3 ~/.rubies/2.1.3</code> – first argument is the name of the definition from the previous step, and the second argument is where to install all the code</li>\n  <li>watch it install</li>\n</ul>\n\n<h2 id=\"chrubyhttpsgithubcompostmodernchruby\"><a href=\"https://github.com/postmodern/chruby\">chruby</a></h2>\n\n<p>This is how I switch between versions of ruby.</p>\n\n<h3 id=\"setup\">setup</h3>\n\n<p>The instructions <a href=\"https://github.com/postmodern/chruby#install\">in the readme</a> are good. The gist is that you install a script and then <code class=\"highlighter-rouge\">source</code> it from your <code class=\"highlighter-rouge\">~/.bashrc</code> so it will be included in your shell sessions. This exposes a <code class=\"highlighter-rouge\">chruby</code> bash function, which you can thereafter reference from the shell to switch between rubies (eg <code class=\"highlighter-rouge\">chruby 2.1.2</code>) or even later in your <code class=\"highlighter-rouge\">~/.bashrc</code>, to choose a ruby immediately upon starting a shell session. This will look in the <code class=\"highlighter-rouge\">~/.rubies</code> folder by default, which is why I install my rubies there.</p>\n\n<h2 id=\"yosemite\">Yosemite…</h2>\n\n<p>So this all stopped working on my laptop yesterday when I upgraded to Mac OS X 10.10 (Yosemite). I couldn’t run <code class=\"highlighter-rouge\">bundle install</code> without getting <a href=\"http://stackoverflow.com/questions/25492787/ruby-bundle-symbol-not-found-sslv2-client-method-loaderror\">a nasty error</a>, and I became convinced that I needed to rebuild all of my rubies. So I thought “OK, I know how to do that” and ran <code class=\"highlighter-rouge\">rm -rf ~/.rubies</code> and set about following those steps under “ruby-build” above.</p>\n\n<p>It didn’t work, so I went to sleep.</p>\n\n<p>Long story short, this fix worked: <a href=\"https://github.com/sstephenson/rbenv/issues/610#issuecomment-58804829\">https://github.com/sstephenson/rbenv/issues/610#issuecomment-58804829</a></p>\n\n<p>Where before you would have run <code class=\"highlighter-rouge\">ruby-build 2.1.3 ~/.rubies/2.1.3</code>, now (until ruby-build makes a fix) you can run <code class=\"highlighter-rouge\">CC=clang ruby-build 2.1.3 ~/.rubies/2.1.3</code>.</p>\n\n<p>I don’t know if rvm had this problem. I wouldn’t be surprised if they did, and it was fixed quickly. But like. It’s kind of cool to use smaller tools sometimes.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "28 Sep 2014",
        "title": "the cop and the hound",
        "url": "/2014/the-cop-and-the-hound",
        "content": "<p>As a rails developer I keep hearing about Thoughtbot’s cool projects. A fairly recent one is <a href=\"https://houndci.com/\">Hound</a>, a tool that comments on your GitHub pull requests and points out code style violations. I think consistent style is a nice ideal to strive for, so I want something like this.</p>\n\n<p>Setting up Hound is easy, but it only reviews the code that is added in a pull request, not the existing code base. Which, in theory, is fine. Except, if you’re the kind of obsessive compulsive who wants a style guide, it’s probably not.</p>\n\n<p>So I managed to make Hound review the full code base but it took some tricky git branching and pull requesting. So I made a screeny<sup id=\"fnref:screeny\"><a href=\"#fn:screeny\" class=\"footnote\">1</a></sup> to share:</p>\n\n<iframe src=\"//player.vimeo.com/video/107315271\" width=\"500\" height=\"281\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n<p><a href=\"http://vimeo.com/107315271\">Setting up Hound CI to comment on my full code base</a> from <a href=\"http://vimeo.com/maxjacobson\">Max Jacobson</a> on <a href=\"https://vimeo.com\">Vimeo</a>.</p>\n\n<p>I didn’t want this video to be too long, so I stopped when I managed to get the full codebase analyzed. But here’s my plan to continue:</p>\n\n<ol>\n  <li>I’ll need to learn how to configure Hound to more accurately reflect my tastes. Under the hood it uses <a href=\"https://github.com/bbatsov/rubocop\">rubocop</a>, pre-configured with Thoughtbot’s style rules. I’ll add my own configuration and push again, which will hopefully refresh the comments.</li>\n  <li>Then I’ll fix all the code style violations and keep pushing them up until all of the comments go away. Then I’ll merge the second pull request. At that point my first pull request will (hopefully) have a diff that shows exactly what I want: new configuration and style fixes.</li>\n  <li>I’ll squash that branch to have just one commit and merge it.</li>\n  <li>Then I’ll merge that pull request into master and be nicely set up for a future of consistent style.</li>\n</ol>\n\n<h2 id=\"configuring-rubocop\">1. configuring rubocop</h2>\n\n<p>These are <a href=\"https://github.com/bbatsov/rubocop/blob/master/config/enabled.yml\">the default “cops” for rubocop</a>. If I were starting fresh with rubocop (and not using Hound), I would start with this configuration file and start disabling specific cops. In fact, this is exactly what Hound does. <a href=\"https://github.com/thoughtbot/hound/blob/master/config/style_guides/ruby.yml\">Their tweaks are available</a> because Hound is open source.</p>\n\n<p>Here’s what I came up with: <a href=\"https://github.com/maxjacobson/film_snob/blob/hound-it-up/.rubocop.yml\">https://github.com/maxjacobson/film_snob/blob/hound-it-up/.rubocop.yml</a> (if that link is dead, it’s probably because I merged the PR and deleted the branch, in which case the file can be access <a href=\"https://github.com/maxjacobson/film_snob/blob/master/.rubocop.yml\">here</a>).</p>\n\n<p>Maybe I’ll change it over time but it seems good right now.</p>\n\n<h2 id=\"fixing-all-the-violations\">2. fixing all the violations</h2>\n\n<p>Done: <a href=\"https://github.com/maxjacobson/film_snob/pull/46\">https://github.com/maxjacobson/film_snob/pull/46</a></p>\n\n<p>Being consistent feels good :smile:.</p>\n\n<p>It’s actually not that hard to use rubocop directly without Hound. I also added rubocop to my Travis CI configuration, so even if I didn’t have Hound, pull requests would consider style guide violations, because the build would fail. There’s no commenting, which decreases the visibility. But it’s OK because Hound double-comments if you push the same problem twice, so maybe the comments aren’t that great? It’s also <em>much</em> more strict. If you have an 81 character line, it’s a complete no go, the build fails, you can’t merge that.</p>\n\n<p>I’ll try that.</p>\n\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:screeny\">\n      <p>I call them screenies because the app I use to make screenies is called <a href=\"http://screenyapp.com/\">Screeny</a> <a href=\"#fnref:screeny\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "07 Sep 2014",
        "title": "sleep timers",
        "url": "/2014/sleep-timers",
        "content": "<p>Falling asleep is one of the weirdest things that everyone does every day. Many people struggle to do it all. They experiment and develop workflows that help cope with this necessary evil. Here’s mine.</p>\n\n<p>If I’m very exhausted I simply lie down, close my eyes, and shortly thereafter I fall asleep. This isn’t very often due to my sedentary lifestyle, so I’m often lying in bed wondering what I’m supposed to be doing with my arms and/or mind. The recourse I usually take to is to play a podcast. Many would argue that listening to a podcast is counter-productive to the goal of falling asleep. I don’t completely disagree, but I like to do <em>something</em> to fill that time, even if doing nothing would mean less time falling asleep, podcasts make the longer time pass quicker, so it evens out.</p>\n\n<p>One problem is that podcast clients often autoplay, such that when one episode ends, the next begins. If you combine this feature with the auto-download feature, this creates the risk that I will go into an infinite loop of listening to podcasts literally forever.</p>\n\n<p>If I could somehow fall asleep while people were talking, I would wake up to hear them still talking, potentially about anything at all, which I imagine to be extremely disorienting.</p>\n\n<p>To mitigate these risks, I’ll apply a sleep timer, which means that I’ll tell the podcast to stop playing after a specified number of minutes has passed. Here are the steps I take:</p>\n\n<ol>\n  <li>I press play on a podcast</li>\n  <li>I apply a sleep timer of 5-15 minutes depending on how sleepy I feel</li>\n  <li>I listen to the podcast while relaxing my body and mind</li>\n  <li>I sense the impending timer running out and a curious tension fills me</li>\n  <li>The podcast fades out and stops and I immediately fall asleep</li>\n</ol>\n\n<p>If I <em>don’t</em> fall asleep, I start over, maybe with a shorter timer. I never fall asleep before the sleep timer runs out. If I do that, I’ll miss part of the podcast, which I would hate.</p>\n\n<p>It’s essential to my bedtime workflow that I have fine control over how many minutes the sleep timer will run, because I believe that I can predict how long it will take me to fall asleep based on my current level of sleepiness. It’s also important that the audio <em>fades away</em> because that signals my internal systems to prepare to do that last, most important step (falling asleep).</p>\n\n<p>This is my main complaint about the otherwise terrific new podcast app <a href=\"http://overcast.fm/\">Overcast</a> which <em>does</em> offer a sleep timer, but one that can only be set in crude chunks of 5 minute increments, and which stops with no fade out at all. I won’t be switching back to <a href=\"http://www.downcastapp.com/\">Downcast</a>, which set the standard for sleep timers for me, but I suspect my sleep will suffer.</p>\n\n<p>How do you fall asleep?</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "07 Sep 2014",
        "title": "vim will fix indentation mistakes",
        "url": "/2014/vim-will-fix-indentation-mistakes",
        "content": "<p>Today I learned a neat vim trick (via the <a href=\"http://beta.pluralsight.com/courses/play-by-play-aaron-patterson\">Aaron Paterson Play by Play interview</a>):</p>\n\n<p><img src=\"/img/2014-09-07-vim-indentation.gif\" alt=\"vim auto indent gif\" /></p>\n\n<p>You can highlight some lines with visual mode and then press <code class=\"highlighter-rouge\">=</code> and it will fix all of the indentation mistakes therein. If you’re in normal mode, you can press <code class=\"highlighter-rouge\">==</code> to fix just the line you’re currently on.</p>\n\n<p>Paterson cites this trick as an argument in favor of <em>not</em> indenting private methods an extra level, because vim doesn’t do that. For example:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># do this:</span>\n<span class=\"k\">class</span> <span class=\"nc\">Dog</span>\n  <span class=\"k\">def</span> <span class=\"nf\">bark</span>\n    <span class=\"n\">barks</span><span class=\"p\">.</span><span class=\"nf\">sample</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">private</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">barks</span>\n    <span class=\"p\">[</span><span class=\"s2\">\"woof\"</span><span class=\"p\">,</span> <span class=\"s2\">\"yap\"</span><span class=\"p\">,</span> <span class=\"s2\">\"ruff\"</span><span class=\"p\">]</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"c1\"># NOT this:</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Cat</span>\n  <span class=\"k\">def</span> <span class=\"nf\">meow</span>\n    <span class=\"n\">meows</span><span class=\"p\">.</span><span class=\"nf\">sample</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">private</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">meows</span>\n      <span class=\"p\">[</span><span class=\"s2\">\"meow\"</span><span class=\"p\">,</span> <span class=\"s2\">\"purr\"</span><span class=\"p\">,</span> <span class=\"s2\">\"idk what else, cats are weird\"</span><span class=\"p\">]</span>\n    <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>I generally do that extra indent but I might stop now :leaves:.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "06 Sep 2014",
        "title": "jekyll 2",
        "url": "/2014/jekyll-2",
        "content": "<p>I <a href=\"https://github.com/hardscrabble/hardscrabble.github.io/pull/19\">just finished</a> updating my blog to Jekyll 2.0. It looks the same, but the code is nicer.<sup id=\"fnref:qualifier\"><a href=\"#fn:qualifier\" class=\"footnote\">1</a></sup></p>\n\n<p>The marquee feature is that Jekyll now knows how to compile Sass and CoffeeScript. I was already using those languages, but relying on a <a href=\"https://github.com/hardscrabble/hardscrabble.github.io/blob/ad915235d6875074d435f2609b562cb7252b9fab/Guardfile\">complex Guardfile</a> to accomplish it. I’m pleased to delete that.</p>\n\n<p>Like all files Jekyll processes, Sass and CoffeeScript files <a href=\"http://jekyllrb.com/docs/assets/\">must have YAML at the top of them</a>, though no YAML data is actually required to be there, just the hyphens where the YAML would go. That’s an awkward requirement which I hope goes away.</p>\n\n<p>The other thing I got to delete was some boilerplate configuration in the head of every page and post, in which I would tell Jekyll that posts should use the post layout and pages should use the page layout, so it knows which layout to use. Now I just tell it which layout to use for posts and which to use for pages once in the global configuration file, which is much nicer.</p>\n\n<p>The last new thing I want to explore is using GitHub-style code blocks. I’d prefer to use the triple backtick over the liquid tag. This <a href=\"http://jekyllrb.com/docs/configuration/#markdown-options\">is supposed to be possible</a> but I couldn’t get it to work perfectly – code blocks were generated, but lost the syntax highlighting so I decided to leave it for now.</p>\n\n<p>The creator of Jekyll, GitHub co-founder Tom Preston-Werner, recently <a href=\"http://bits.blogs.nytimes.com/2014/04/21/github-founder-resigns-after-investigation/\">left GitHub</a> after being investigated about very unprofessional behavior. Four months earlier, the Jekyll project was distanced from him a bit when the source code <a href=\"https://github.com/jekyll/jekyll/pull/1817\">was moved</a> from his personal account to <a href=\"https://github.com/jekyll\">an organization account</a> dedicated to Jekyll and related projects. This is normal and reflects that the project outgrew him, and that he’s not the main maintainer anymore. When Jekyll 2.0.0 <a href=\"http://jekyllrb.com/news/2014/05/06/jekyll-turns-2-0-0/\">was released</a>, Preston-Werner’s name was buried in a wall of thank-yous.</p>\n\n<p>I feel slightly weird using Jekyll because of who created it. I’m glad it doesn’t follow the naming pattern of <a href=\"https://github.com/toml-lang/toml\">toml</a> and <a href=\"http://tomdoc.org/\">tomdoc</a> at least.</p>\n\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:qualifier\">\n      <p>The diff says I deleted 3623 lines, but it’s not as amazing as that sounds because 3263 of them are from a CSS library that I realized I don’t use anymore. <a href=\"#fnref:qualifier\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "06 Sep 2014",
        "title": "when your disk fills up, who are you?",
        "url": "/2014/ncdu-is-cool",
        "content": "<p>I got into technology in large part because I was drawn to the Mac community. I started reading blogs about apps and productivity. That occupied a lot of my mind during college in particular, when I was struggling with procrastination and wanted to find some silver bullet app to save me.</p>\n\n<p>During that time I heard of a neat app called <a href=\"http://www.daisydiskapp.com/\">DaisyDisk</a> which analyzes your Mac’s disk and breaks down exactly where your data is on your computer. It can help you remember about huge files you totally can delete or games you don’t play anymore and can easily re-download if you want to again. I had a 2006 MacBook with an 80 GB hard drive (<a href=\"http://en.wikipedia.org/wiki/MacBook#mediaviewer/File:MacBook.jpg\">the cool black one</a>) that I needed to constantly bail files out of. DaisyDisk’s colorful, powerful interface was a life saver and, for me, a benchmark for how cool an app could be.</p>\n\n<p>It was updated fairly recently and <a href=\"http://www.macstories.net/reviews/daisydisk-3/\">seems</a> to still be great. I just re-downloaded and ran it on my 128 GB MacBook Air:</p>\n\n<p><img src=\"/img/2014-09-06-daisydisk.png\" alt=\"my daisydisk results\" /></p>\n\n<p>Fast-forward to a few months ago, and I’m at work as a web developer and my coworker comments that the disk on one of our production Linux servers is nearly full, and we need to find something to delete. I knew DaisyDisk wouldn’t work in the command line but didn’t know what to suggest. He remembered something called <a href=\"http://dev.yorhel.nl/ncdu\">ncdu</a> and ran it and I had immediate, rippling acid flashbacks to DaisyDisk! ncdu is a tool that runs totally in the command line with a nice interface and accomplishes the same goals and supports the same workflow:</p>\n\n<ol>\n  <li>start the app</li>\n  <li>wait while it analyzes your disk</li>\n  <li>see your top-level directories sorted by how much disk space they use</li>\n  <li>let you drill down and see the same for all sub-directories</li>\n  <li>let you delete culpable files right from its interface</li>\n</ol>\n\n<p>Here’s what it looks like:</p>\n\n<p><img src=\"/img/2014-09-06-ncdu.png\" alt=\"my ncdu results\" /></p>\n\n<p>Kind of the same!!</p>\n\n<p>It would have been hopelessly intimidating and weird to me a few years ago but for the me that I am today (someone who sometimes uses Linux) I can’t help but find it much cooler.</p>\n\n<p>ncdu can be installed on a Mac via <a href=\"http://brew.sh/\">homebrew</a> with <code class=\"highlighter-rouge\">brew install ncdu</code> or on Linux with <code class=\"highlighter-rouge\">sudo apt-get install ncdu</code>.</p>\n"
      }
      
        ,
      
    
      {
        "date": "06 Sep 2014",
        "title": "my newest git alias is git",
        "url": "/2014/my-new-git-alias",
        "content": "<p>Adding aliases makes git a lot more pleasant to use. For example, I am too busy to write <code class=\"highlighter-rouge\">git status</code> to find out the current status of my project so I did this:</p>\n\n<p><code class=\"highlighter-rouge\">git config --global alias.st status</code></p>\n\n<p>and now I just write <code class=\"highlighter-rouge\">git st</code>.<sup id=\"fnref:global\"><a href=\"#fn:global\" class=\"footnote\">1</a></sup></p>\n\n<p>I have a few other git aliases that I find helpful. They’re on my dotfiles repo here: <a href=\"https://github.com/maxjacobson/dotfiles/blob/master/.gitconfig\">https://github.com/maxjacobson/dotfiles/blob/master/.gitconfig</a></p>\n\n<p>I want to share my newest one because it’s kind of weird and fun. It solves a problem that others <em>might</em> have, but I apparently totally do: I often write <code class=\"highlighter-rouge\">git </code>, don’t hit enter, and then go do something else. Then I come back and I write <code class=\"highlighter-rouge\">git st</code> and hit enter, and I see this output:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>⇥ git git st\ngit: 'git' is not a git command. See 'git --help'.\n\nDid you mean one of these?\n        hist\n        init\n</code></pre>\n</div>\n\n<p>I see this probably every day.<sup id=\"fnref:hist\"><a href=\"#fn:hist\" class=\"footnote\">2</a></sup></p>\n\n<p>I wanted a new alias that just kind of ignores the extraneous <code class=\"highlighter-rouge\">git</code>. Most git aliases don’t behave that way. At first I tried aliasing <code class=\"highlighter-rouge\">git</code> to nothing at all, but it didn’t let me. I landed on this:</p>\n\n<p><code class=\"highlighter-rouge\">git config --global alias.git \"! git\"</code></p>\n\n<p>The exclamation mark character means this alias doesn’t refer to another git command; instead, I want to run an arbitrary bash command… which, in this case, happens to be git itself. Luckily, the git aliasing system doesn’t simply run the quoted bash command, but it passes the rest of the arguments along, so <code class=\"highlighter-rouge\">git git st</code> now behaves the same as <code class=\"highlighter-rouge\">git st</code>, not simply <code class=\"highlighter-rouge\">git</code>.</p>\n\n<p>I’m pretty happy with this. I have a nagging worry that it’s too weird to not have some unwanted side effects, and if I discover any I’ll update this post.</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:global\">\n      <p>btw: when you do that, it gets saved in a dotfile in your home directory called <code class=\"highlighter-rouge\">~/.gitconfig</code>. If you open that file you’ll see your name and email address too if you set that up (if not, check out <a href=\"https://help.github.com/articles/set-up-git\">GitHub’s page on that</a>) <a href=\"#fnref:global\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:hist\">\n      <p>you might see different output, but <code class=\"highlighter-rouge\">hist</code> is another of my aliases and it’s close enough to <code class=\"highlighter-rouge\">git</code> that git thinks I meant it. <a href=\"#fnref:hist\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "20 Aug 2014",
        "title": "onscreen texts and I'm so Happy I'm Ecstatic",
        "url": "/2014/onscreen-texts",
        "content": "<p>People have been linking to this terrific video by <a href=\"http://vimeo.com/tonyzhou\">Tony Zhou</a> about how film and television depicts onscreen text messaging:</p>\n\n<iframe src=\"//player.vimeo.com/video/103554797\" width=\"500\" height=\"281\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n\n<p>(I saw it <a href=\"http://kottke.org/14/08/texting-in-movies\">on Kottke</a> which has some additional context)</p>\n\n<p>The video brings up some memories for me, from when I wanted to make movies, and used a similar technique<sup id=\"fnref:ecstatic\"><a href=\"#fn:ecstatic\" class=\"footnote\">1</a></sup>. My short film <a href=\"http://vimeo.com/11394296\">“I’m so happy I’m Ecstatic”</a> was uploaded to Vimeo in May 2010, just two months before Sherlock debuted on BBC.</p>\n\n<p>Zhou isn’t the first to notice this trend. In April 2013, Rachel Dodes Whortman wrote an article about it for the Wall Street Journal (<a href=\"http://online.wsj.com/news/articles/SB10001424127887323296504578398431179979920\">“From Talkies to Texties”</a>). When I saw the article I felt the need to reply:</p>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p><a href=\"https://twitter.com/racheldodes\">@racheldodes</a> <a href=\"https://twitter.com/WSJ\">@wsj</a> the technique was popularized by sherlock but I think I did it first!!! :D <a href=\"http://t.co/by8SfMLGiv\">http://t.co/by8SfMLGiv</a></p>&mdash; Max Jacobson (@maxjacobson) <a href=\"https://twitter.com/maxjacobson/statuses/321142815755206656\">April 8, 2013</a></blockquote>\n<script async=\"\" src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n<p>I think I’m less petulant now than the nerd who wrote that tweet<sup id=\"fnref:but\"><a href=\"#fn:but\" class=\"footnote\">2</a></sup>. I definitely don’t think I was the first to do that (Zhou’s video provides a few earlier examples, most embarrassingly 2008’s Sex Drive which I did totally see) and I <em>definitely</em> didn’t do it as elegantly as Sherlock.</p>\n\n<p>But some small petty part of me wants to be in videos like that or to maybe keep making video things.</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:ecstatic\">\n      <p>I think I wrote it into the screenplay for the short, but I want to give credit to my friend Sarah Mayo who co-edited it with me and made it work – the few times I’ve seen people watch it, that’s their favorite part by far <a href=\"#fnref:ecstatic\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:but\">\n      <p>(but then, I am writing this blog post) <a href=\"#fnref:but\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "27 Jul 2014",
        "title": "composing a Parslet parser from modules and making code climate happy",
        "url": "/2014/smashcut-modules",
        "content": "<p>I’m making very slow and intermittent progress on <a href=\"http://github.com/maxjacobson/smashcut\">smashcut</a>, my Fountain screenplay parser written in Ruby. At this rate I’ll have a usable version in a few years or so :smile:. I’m going to talk about it a little bit here and then talk about how a small refactor boosted my Code Climate GPA for the project from 1.9 to 3.56.</p>\n\n<p>(For those who don’t know: <a href=\"https://codeclimate.com/\">Code Climate</a> is a very neat website which analyzes your code and points out improvement areas. They <a href=\"https://codeclimate.com/github/signup\">provide free analysis</a> to open source projects like smashcut and paid analysis of private projects. They also maintain a cool blog about code design and techniques at <a href=\"http://blog.codeclimate.com/\">http://blog.codeclimate.com/</a>.)</p>\n\n<p>Today on a train ride I reorganized the smashcut codebase a bit. The heart of the project is a file called <code class=\"highlighter-rouge\">fountain_parser.rb</code> which describes the <a href=\"http://en.wikipedia.org/wiki/Parsing_expression_grammar\">grammar</a> of a Fountain screenplay as a list of rules. The syntax for defining a rule uses a DSL provided by <a href=\"http://kschiess.github.io/parslet/\">Parslet</a>, a great Ruby gem for exactly this purpose. Here’s the code example from their <a href=\"http://kschiess.github.io/parslet/get-started.html\">get started</a> page:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">require</span> <span class=\"s1\">'parslet'</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Mini</span> <span class=\"o\">&lt;</span> <span class=\"no\">Parslet</span><span class=\"o\">::</span><span class=\"no\">Parser</span>\n  <span class=\"n\">rule</span><span class=\"p\">(</span><span class=\"ss\">:integer</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"n\">match</span><span class=\"p\">(</span><span class=\"s1\">'[0-9]'</span><span class=\"p\">).</span><span class=\"nf\">repeat</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">}</span>\n  <span class=\"n\">root</span><span class=\"p\">(</span><span class=\"ss\">:integer</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n\n<span class=\"no\">Mini</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">.</span><span class=\"nf\">parse</span><span class=\"p\">(</span><span class=\"s2\">\"132432\"</span><span class=\"p\">)</span>  <span class=\"c1\"># =&gt; \"132432\"@0</span>\n</code></pre>\n</div>\n\n<p>This is a very simple grammar with only one rule in addition to the required root (which names the rule that is expected to come first). If you were to define a grammar for something more complex, like a screenplay or even a programming language, you could expect there to be many, many more rules for defining specific, small things like operator characters and return charactersand then also abstract things like a character’s monologue or a program’s function.</p>\n\n<p>At some point, your parser class will get quite long. I think this is kind of to be expected and not necessarily a bad thing. But it sure hurts your Code Climate GPA, which drops at the sight of long and complex classes. It also balks at code outside of methods, which is I think unfairly punishing to projects using DSL-style libraries.</p>\n\n<p>It took some figuring out, but it is possible to compose your parser from modules. That example above could be rewritten like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">require</span> <span class=\"s1\">'parslet'</span>\n\n<span class=\"k\">module</span> <span class=\"nn\">NumberRules</span>\n  <span class=\"kp\">include</span> <span class=\"no\">Parslet</span>\n  <span class=\"n\">rule</span><span class=\"p\">(</span><span class=\"ss\">:integer</span><span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"n\">match</span><span class=\"p\">(</span><span class=\"s1\">'[0-9]'</span><span class=\"p\">).</span><span class=\"nf\">repeat</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">}</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Mini</span> <span class=\"o\">&lt;</span> <span class=\"no\">Parslet</span><span class=\"o\">::</span><span class=\"no\">Parser</span>\n  <span class=\"kp\">include</span> <span class=\"no\">NumberRules</span>\n  <span class=\"n\">root</span><span class=\"p\">(</span><span class=\"ss\">:integer</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n\n<span class=\"no\">Mini</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">.</span><span class=\"nf\">parse</span><span class=\"p\">(</span><span class=\"s2\">\"132432\"</span><span class=\"p\">)</span>  <span class=\"c1\"># =&gt; \"132432\"@0</span>\n</code></pre>\n</div>\n\n<p>This is pretty nice when you have more than a few rules, and Code Climate rewarded me with a coveted A grade: <a href=\"https://codeclimate.com/github/maxjacobson/smashcut/compare/0cd1d78b...c2668c0e\">https://codeclimate.com/github/maxjacobson/smashcut/compare/0cd1d78b...c2668c0e</a>… well, for some of the classes anyway.</p>\n\n<p><strong>EDIT 2015-01-08</strong>: Hrmph, that link is dead now. Suffice it to say that the\nchanges from <a href=\"https://github.com/maxjacobson/smashcut/pull/26\">this pull request</a> improved the GPA from 1.9 to 3.56.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "13 Jul 2014",
        "title": "An Alfred Workflow for adding the frontmost Firefox tab to OmniFocus with AppleScript",
        "url": "/2014/firefox-to-omnifocus",
        "content": "<p>Saw <a href=\"http://www.macstories.net/linked/tools-to-organize-browser-tabs-for-mac-users/\">a link</a> about using tools to take long-lasting tabs out of your browser and put them somewhere useful like Evernote or OmniFocus rather than let them tax your mind and memory. I wanted in.</p>\n\n<p>Sadly, there was only support for Chrome and Safari, not Firefox, which I continue to stubbornly prefer. I assumed at first this was simply a reflection of Firefox not being particularly popular among Mac users<sup id=\"fnref:stats\"><a href=\"#fn:stats\" class=\"footnote\">1</a></sup> and resolved to patch the gap.</p>\n\n<p>In order to interact with your running Mac applications, people often use AppleScript, a kind of strange programming language that comes with Macs and lets you script or automate user tasks. So whenever I want to close a tab without forgetting that it might matter somehow, I have to do these steps manually:</p>\n\n<ul>\n  <li>open the omnifocus quick entry panel with the global hotkey</li>\n  <li>write some kind of task title</li>\n  <li>go back to the browser</li>\n  <li>copy the URL</li>\n  <li>go back to the quick entry panel</li>\n  <li>type <code class=\"highlighter-rouge\">⌘+'</code>, the keyboard shortcut to open the notes field</li>\n  <li>paste the URL</li>\n  <li>type <code class=\"highlighter-rouge\">⌘+'</code> again to return to the title field</li>\n  <li>press enter twice</li>\n</ul>\n\n<p>Imagine having two dozen tabs open and kind of wanting to do that for each of them? Prime candidate for automation!</p>\n\n<p>Given that this is my first AppleScript, I’m bizarrely confident that I can figure this out. I assume I can just ask Firefox for the list of currently open URLs, write some kind of loop, and then send OmniFocus a bunch of messages (in the background maybe) and have it all just work easily. Pretty quickly I learn that, unlike Safari and Chrome, Firefox exposes nothing to AppleScript. It’s scriptable insoafar as every app is scriptable – you can perform user actions like clicking and typing, but it doesn’t expose anything nicely, and Mozilla’s bugtracker has multiple tickets dating back several years of people saying they wish Firefox supported AppleScript without much movement as far as I can tell.</p>\n\n<p>No worry! I’ll find some clever solution. I open AppleScript Editor and start trying to figure out how to even do any of this.</p>\n\n<div class=\"language-applescript highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">tell</span><span class=\"w\"> </span><span class=\"nb\">application</span><span class=\"w\"> </span><span class=\"s2\">\"FirefoxNightly\"</span><span class=\"w\"> </span><span class=\"c1\"># I'm using the nightly build, and I have to specifically say so</span><span class=\"w\">\n  </span><span class=\"nb\">activate</span><span class=\"w\"> </span><span class=\"c1\"># this opens or switches to the application</span><span class=\"w\">\n</span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"k\">tell</span><span class=\"w\">\n</span></code></pre>\n</div>\n\n<h3 id=\"a-digression-about-running-applescripts\">a digression about running AppleScripts</h3>\n\n<p>You can write small things like this in the AppleScript Editor app and run them from there. This is what I was doing while writing the thing and tinkering. But it’s not a great interface, really, as far as text editors go. Another option is to use the texteditor of your choice and run it from the terminal by writing <code class=\"highlighter-rouge\">osascript your_file.scpt</code>. There’s something kind of trippy about running something like this, and seeing your operating system react:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>[hardscrabble] [hardscrabble.net] [my-first-applescript branch]\n⇥ osascript -e 'display alert \"hello world\"'\nbutton returned:OK\n</code></pre>\n</div>\n\n<p>Later on you can use tools like Alfred to run your scripts from anywhere at any time.</p>\n\n<h3 id=\"back-to-struggling-with-this-code\">back to struggling with this code</h3>\n\n<p>So if Firefox doesn’t expose anything to us, how can we get the list of tabs open? I went down a few dead ends. I spent several minutes trying to make a bookmarks group of the currently opened tabs, then export the bookmarks, then parse the exported file before I realized I was definitely going the wrong way and I definitely didn’t know how to do parse JSON in AppleScript.</p>\n\n<p>After a little more googling I came upon <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=516502#c21\">a comment on Bugzilla</a> which provides a way to get the current page’s URL at least. Here’s how:</p>\n\n<div class=\"language-applescript highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"w\">\n</span><span class=\"k\">tell</span><span class=\"w\"> </span><span class=\"nb\">application</span><span class=\"w\"> </span><span class=\"s2\">\"FirefoxNightly\"</span><span class=\"w\">\n  </span><span class=\"nb\">activate</span><span class=\"w\">\n  </span><span class=\"nb\">delay</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"c1\"># sleeps 2 seconds because idk... it doesn't work otherwise</span><span class=\"w\">\n  </span><span class=\"k\">tell</span><span class=\"w\"> </span><span class=\"nb\">application</span><span class=\"w\"> </span><span class=\"s2\">\"System Events\"</span><span class=\"w\">\n    </span><span class=\"k\">tell</span><span class=\"w\"> </span><span class=\"nv\">process</span><span class=\"w\"> </span><span class=\"s2\">\"firefox\"</span><span class=\"w\">\n      </span><span class=\"nv\">keystroke</span><span class=\"w\"> </span><span class=\"s2\">\"l\"</span><span class=\"w\"> </span><span class=\"nv\">using</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"nv\">command</span><span class=\"w\"> </span><span class=\"nv\">down</span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"c1\"># ⌘+l is the keyboard shortcut to focus on the address bar</span><span class=\"w\">\n      </span><span class=\"nv\">keystroke</span><span class=\"w\"> </span><span class=\"s2\">\"c\"</span><span class=\"w\"> </span><span class=\"nv\">using</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"nv\">command</span><span class=\"w\"> </span><span class=\"nv\">down</span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"c1\"># ⌘+c copies the current URL to the clipboard</span><span class=\"w\">\n      </span><span class=\"k\">set</span><span class=\"w\"> </span><span class=\"nv\">tabUrl</span><span class=\"w\"> </span><span class=\"k\">to</span><span class=\"w\"> </span><span class=\"k\">get</span><span class=\"w\"> </span><span class=\"nb\">the clipboard</span><span class=\"w\">    </span><span class=\"c1\"># stores the clipboard in a variable</span><span class=\"w\">\n    </span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"k\">tell</span><span class=\"w\">\n  </span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"k\">tell</span><span class=\"w\">\n</span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"k\">tell</span><span class=\"w\">\n\n</span><span class=\"nb\">display alert</span><span class=\"w\"> </span><span class=\"nv\">tabUrl</span><span class=\"w\">\n</span></code></pre>\n</div>\n\n<p>Yikes… AppleScript is interesting because it’s an awkward, not fun language but also super powerful if you’re a kind of nerdy Mac power user, or maybe even developer who wants to harness the power of GUI applications in their project. Fortunately the next major version of OS X, Yosemite, has a JavaScript API for doing all the same stuff. This might be my last AppleScript too, because of that.</p>\n\n<p>Now that I have the URL I want to do something better than display an alert. Some googling points me to <a href=\"http://macsparky.com/blog/2012/8/applescript-omnifocus-tasks\">a 2012 MacSparky</a> blog post about AppleScripting with OmniFocus. The language is still awkward (<code class=\"highlighter-rouge\">set theProject to first flattened project where its name = \"Finance\"</code>), but this is significantly better than Firefox because it exposes an API at all. Since then, there’s been a major 2.0 update to OmniFocus, but I guess they made an effort to maintain consistency because these examples still work. I don’t really blame Mozilla because they’re maintaining applications across every operating sytem that will support them and are very consistent. In fact I wish there existed OmniFocus for Linux but, like, lol. Everyone compromises!</p>\n\n<p>OK so I can get the current URL and add a task to OmniFocus. A <a href=\"https://github.com/pilotmoon/PopClip-Extensions/blob/master/source/OmniFocus/OmniFocusAddInboxTask.applescript\">little more digging</a> and this is what I came up with:</p>\n\n<div class=\"language-applescript highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">tell</span><span class=\"w\"> </span><span class=\"nb\">application</span><span class=\"w\"> </span><span class=\"s2\">\"FirefoxNightly\"</span><span class=\"w\">\n  </span><span class=\"nb\">activate</span><span class=\"w\">\n  </span><span class=\"k\">set</span><span class=\"w\"> </span><span class=\"nv\">taskTitle</span><span class=\"w\"> </span><span class=\"k\">to</span><span class=\"w\"> </span><span class=\"na\">name</span><span class=\"w\"> </span><span class=\"k\">of</span><span class=\"w\"> </span><span class=\"nb\">front</span><span class=\"w\"> </span><span class=\"na\">window</span><span class=\"w\">\n\n  </span><span class=\"k\">tell</span><span class=\"w\"> </span><span class=\"nb\">application</span><span class=\"w\"> </span><span class=\"s2\">\"System Events\"</span><span class=\"w\">\n    </span><span class=\"k\">tell</span><span class=\"w\"> </span><span class=\"nv\">process</span><span class=\"w\"> </span><span class=\"s2\">\"firefox\"</span><span class=\"w\">\n      </span><span class=\"nv\">keystroke</span><span class=\"w\"> </span><span class=\"s2\">\"l\"</span><span class=\"w\"> </span><span class=\"nv\">using</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"nv\">command</span><span class=\"w\"> </span><span class=\"nv\">down</span><span class=\"p\">}</span><span class=\"w\">\n      </span><span class=\"nv\">keystroke</span><span class=\"w\"> </span><span class=\"s2\">\"c\"</span><span class=\"w\"> </span><span class=\"nv\">using</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"nv\">command</span><span class=\"w\"> </span><span class=\"nv\">down</span><span class=\"p\">}</span><span class=\"w\">\n      </span><span class=\"k\">set</span><span class=\"w\"> </span><span class=\"nv\">taskNote</span><span class=\"w\"> </span><span class=\"k\">to</span><span class=\"w\"> </span><span class=\"k\">get</span><span class=\"w\"> </span><span class=\"nb\">the clipboard</span><span class=\"w\">\n    </span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"k\">tell</span><span class=\"w\">\n  </span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"k\">tell</span><span class=\"w\">\n</span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"k\">tell</span><span class=\"w\">\n\n</span><span class=\"k\">tell</span><span class=\"w\"> </span><span class=\"nb\">application</span><span class=\"w\"> </span><span class=\"s2\">\"OmniFocus\"</span><span class=\"w\">\n  </span><span class=\"k\">tell</span><span class=\"w\"> </span><span class=\"nv\">quick</span><span class=\"w\"> </span><span class=\"nv\">entry</span><span class=\"w\">\n    </span><span class=\"nb\">open</span><span class=\"w\">\n    </span><span class=\"nb\">make</span><span class=\"w\"> </span><span class=\"nb\">new</span><span class=\"w\"> </span><span class=\"nv\">inbox</span><span class=\"w\"> </span><span class=\"nv\">task</span><span class=\"w\"> </span><span class=\"nv\">with</span><span class=\"w\"> </span><span class=\"na\">properties</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"na\">name</span><span class=\"p\">:</span><span class=\"nv\">taskTitle</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nv\">note</span><span class=\"p\">:</span><span class=\"nv\">taskNote</span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"k\">tell</span><span class=\"w\">\n</span><span class=\"k\">end</span><span class=\"w\"> </span><span class=\"k\">tell</span><span class=\"w\">\n</span></code></pre>\n</div>\n\n<p>It’s kind of a dinky version of what I originally wanted to make. It’s only for the current tab, and when it’s done the quick entry panel is still open (by design: so I can still edit the details).</p>\n\n<p>I packaged it as <a href=\"https://github.com/maxjacobson/alfred-workflows/blob/master/Firefox%20tab%20to%20OmniFocus.alfredworkflow\">an Alfred Workflow here</a> so I can invoke it from wherever by typing <code class=\"highlighter-rouge\">⌘+space</code> and then just writing <code class=\"highlighter-rouge\">tab</code>.</p>\n\n<p>I wonder if this is useful to other people!</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:stats\">\n      <p><a href=\"http://atp.fm/episodes/73\">Recently on the Accidental Tech Podcast</a> I was <a href=\"https://twitter.com/maxjacobson/status/487583151577763843\">surprised</a> to hear the hosts be super harsh to Firefox. <a href=\"https://twitter.com/gruber/status/487768231927504898\">This tweet</a> makes the argument that Firefox isn’t relevant anymore and I don’t really know if that’s true, but I think it <em>should</em> be. <a href=\"#fnref:stats\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "08 Jul 2014",
        "title": "reading Human JavaScript as a Rails developer who writes SOME CoffeeScript",
        "url": "/2014/reading-human-javascript",
        "content": "<p>I’m reading <a href=\"http://read.humanjavascript.com/\">Human JavaScript</a> for free online, right now, and I’m going to take some notes. Yes, this is one of those blog posts that no one reads, but is helpful for the author to write. I’m sorry.</p>\n\n<h3 id=\"why-am-i-reading-this-book\">Why am I reading this book?</h3>\n\n<p>I sorely want to get better at JavaScript. I feel like I know the language pretty well and I know jQuery pretty well but that’s it but I don’t know any of the JavaScript application frameworks and I feel like I should.</p>\n\n<p>Being a Ruby on Rails developer writing CoffeeScript that gets packaged up by the asset pipeline into one big file feels kind of like being on a sidewalk looking thru a trendy restaurant window at couples on Valentine’s Day. I’m feeling that pang of leftouttedness specifically for the sheer organization that applications written for Node.js or Ember.js seem to have access to. It seems like they’re living in the future with their small modules or whatever I don’t even know.</p>\n\n<p>I’ve made a plan. I’m going to learn Backbone.js and then maybe Ember.js. Hopefully I’ll be able to bring some of what I learn to my Rails work.</p>\n\n<p>After bookmarking several other possible resources I saw this blog post via twitter: <a href=\"https://blog.andyet.com/2014/06/09/no-more-rockstars\">No more rockstars – The business case for writing JavaScript as a team</a>. It tells a really amazing story about a product which was developed by one person and then needed to be rewritten as a team, who really struggled because the code was really complicated and only one person understood it. So they told him he wasn’t allowed to work on it anymore, but he could help everyone else. It’s like a feel good movie, right? It’s like School of Rock. Jack Black is surrounded by these talented kids and he brings out the best of them and learns the value of teaching and his ego is sublimated and flowers bloom, or in this case, Human JavaScript bloomed.</p>\n\n<p>Reading that post made me feel like I was in good hands and I could learn from these people. Feeling like I’m in good hands is really essential for me to learn anything.</p>\n\n<h3 id=\"things-i-learned-from-the-introductionhttpreadhumanjavascriptcomch01-introductionhtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch01-introduction.html\">the introduction</a>:</h3>\n\n<ul>\n  <li>Web apps are apps</li>\n  <li>The browser is an operating system</li>\n  <li>It’s lame to make your user refresh to see new stuff</li>\n  <li>There is a “trap of tightly coupling your application to [a] particular client” which I didn’t even know I was in but totally am</li>\n  <li>Ideally, I’d be able to jump into a JavaScript app and be able to contribute, because I know JavaScript pretty well<sup id=\"fnref:worry\"><a href=\"#fn:worry\" class=\"footnote\">1</a></sup>; but I totally don’t feel like I can do that because I don’t know any frameworks. I’m glad that the book acknowledges this should be a goal</li>\n</ul>\n\n<p>This criterium is interesting to me:</p>\n\n<blockquote>\n  <p>It should be flexible enough to really be able to build anything you want without sending a bunch of unused code to the browser.</p>\n</blockquote>\n\n<p>This is one of my discomforts with the Rails asset pipeline approach to front end code; everything goes, every time, and runs on every page even if it’s not needed, and sometimes even when it’s not needed, causing bugs.</p>\n\n<h3 id=\"things-i-learned-from-chapter-2-the-big-decisionhttpreadhumanjavascriptcomch02-the-big-decisionhtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch02-the-big-decision.html\">chapter 2: The Big Decision</a>:</h3>\n\n<p>OK so maybe I was wrong that I might be able to bring this back to my Rails work. This page has an amazing code sample, which shows how minimalist a server’s HTML response can be when the client is responsibile for rendering the entire UI. I’m pretty intimidated now because this is so different from what I’m used to.</p>\n\n<p>But I’m convinced that this is a powerful way of thinking about application design because it feels tidy, which I value very much.</p>\n\n<p>I’ve used and been very impressed by <a href=\"http://talky.io\">Talky.io</a>, &amp;Yet’s video conferencing web app, and I can only assume it’s built in a similar way, so I went and viewed source…. and YEP it’s pretty goofy. There’s no <code class=\"highlighter-rouge\">&lt;body&gt;</code> tag.<sup id=\"fnref:source\"><a href=\"#fn:source\" class=\"footnote\">2</a></sup></p>\n\n<h3 id=\"things-i-learned-from-chapter-3-code-for-humanshttpreadhumanjavascriptcomch03-code-for-humanshtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch03-code-for-humans.html\">chapter 3: Code For Humans</a>:</h3>\n\n<p>I should probably be using a linter<sup id=\"fnref:linter\"><a href=\"#fn:linter\" class=\"footnote\">3</a></sup>. It looks like <a href=\"http://www.coffeelint.org/\">even CoffeeScript</a> has linters. I don’t think I like the idea of having it as a pre-commit hook. Maybe. I kind of think it should be part of a test suite – maybe all of your unit tests pass, but your build fails because you left a <code class=\"highlighter-rouge\">debugger</code> in a coffee file.</p>\n\n<p>I’m glad that Joreteg (the author of the book I’m annotating, whose name I’ve somehow neglected to mention so far) gives a plug for <a href=\"https://github.com/airbnb/javascript\">Airbnb’s JavaScript style guide</a> as it’s a helpful reference I’ve stumbled on in the past and <a href=\"http://www.hardscrabble.net/2013/javascript-resources/\">endorsed in these pages</a>. I should probably re-read that.</p>\n\n<h3 id=\"things-i-learned-from-chapter-4-organizing-your-codehttpreadhumanjavascriptcomch04-organizing-your-codehtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch04-organizing-your-code.html\">chapter 4: Organizing Your Code</a>:</h3>\n\n<p>This passage is a helpful summary of everything that’s to come:</p>\n\n<blockquote>\n  <p>Essentially, you’ll populate a set of models and collections of these models in memory in the browser. These will store all the application state for your app. These models should be completely oblivious to how they’re used; they merely store state and broadcast their changes. Then you will have views that listen for changes in the models and update the DOM. This core principle of separating your views and your application state is vital when building large apps.</p>\n</blockquote>\n\n<p>Here’s what I do now with Rails apps: If I have a thing, or a set of things, which I want to show to someone, I render what they look like <em>right now</em> and give that to the browser; the browser doesn’t have a model of that thing or set of things, it has the representation of that thing. I may update the representation of that thing, but I have to find it with a jQuery CSS selector, and remember that changing the HTML structure of a page can break that selector.</p>\n\n<p>This chapter also goes into more detail about modules, and using a tool called <a href=\"https://github.com/substack/node-browserify\">browserify</a> to allow use of this module system outside of Node.js, where it’s a native feature, and bringing all that to the browser. I find this pretty appealing because I’ve written JS code that does really mundane things when I could have instead imported some module. I’ve searched <a href=\"https://www.google.com/search?q=browserify-rails\">browserify rails</a> and found a bunch of results and I want to make a priority of exploring this.</p>\n\n<h3 id=\"things-i-learned-from-chapter-5-eventificationhttpreadhumanjavascriptcomch05-eventificationhtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch05-eventification.html\">chapter 5: Eventification</a></h3>\n\n<p>This chapter introduces some advanced JavaScript code (I think it’s the first time <code class=\"highlighter-rouge\">prototype</code> is brought up). I don’t understand everything that happens in this first example, but the event part makes sense, and events are the focus of this chapter so I’m going to focus on that.</p>\n\n<p>The first part being confusing enables the simplicity of the second part.</p>\n\n<h3 id=\"things-i-learned-from-chapter-6-modelshttpreadhumanjavascriptcomch06-modelshtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch06-models.html\">chapter 6: Models</a></h3>\n\n<p>This chapter gives some code examples that don’t look too far off of the kind of jQuery code I write. And:</p>\n\n<blockquote>\n  <p>If you continue this same approach, you’re in deep doo doo</p>\n</blockquote>\n\n<p>Lol great</p>\n\n<p>The previous chapter recommended writing your own event emitter to see how simple it is. This chapter doesn’t say to write your own model code but I want to try writing some JavaScript instead of just taking notes, so I’m doing kind of a combo of both:</p>\n\n<div class=\"language-javascript highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"kd\">var</span> <span class=\"nx\">object</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"na\">attributes</span><span class=\"p\">:</span> <span class=\"p\">{},</span>\n  <span class=\"na\">callbacks</span><span class=\"p\">:</span> <span class=\"p\">{},</span>\n  <span class=\"na\">get</span><span class=\"p\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">attr</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">attributes</span><span class=\"p\">[</span><span class=\"nx\">attr</span><span class=\"p\">];</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">set</span><span class=\"p\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">attr</span><span class=\"p\">,</span> <span class=\"nx\">value</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">attributes</span><span class=\"p\">[</span><span class=\"nx\">attr</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">value</span><span class=\"p\">;</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">emit</span><span class=\"p\">(</span><span class=\"s2\">\"changed:\"</span><span class=\"o\">+</span><span class=\"nx\">attr</span><span class=\"p\">);</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">on</span><span class=\"p\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">eventName</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">callbacks</span><span class=\"p\">[</span><span class=\"nx\">eventName</span><span class=\"p\">])</span> <span class=\"p\">{</span>\n      <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">callbacks</span><span class=\"p\">[</span><span class=\"nx\">eventName</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">[];</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">callbacks</span><span class=\"p\">[</span><span class=\"nx\">eventName</span><span class=\"p\">].</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">);</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">emit</span><span class=\"p\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">eventName</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">_this</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">;</span>\n    <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">callbacks</span><span class=\"p\">[</span><span class=\"nx\">eventName</span><span class=\"p\">])</span> <span class=\"p\">{</span>\n      <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">callbacks</span><span class=\"p\">[</span><span class=\"nx\">eventName</span><span class=\"p\">].</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">callback</span><span class=\"p\">.</span><span class=\"nx\">apply</span><span class=\"p\">(</span><span class=\"nx\">_this</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">};</span>\n\n<span class=\"nx\">object</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s2\">\"name\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Max Jacobson\"</span><span class=\"p\">);</span>\n<span class=\"nx\">object</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s2\">\"age\"</span><span class=\"p\">,</span> <span class=\"mi\">25</span><span class=\"p\">);</span>\n\n<span class=\"nx\">object</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"changed:name\"</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"My new name is: \"</span><span class=\"o\">+</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s2\">\"name\"</span><span class=\"p\">));</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">object</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s2\">\"name\"</span><span class=\"p\">,</span> <span class=\"s2\">\"MJ\"</span><span class=\"p\">);</span>\n<span class=\"nx\">object</span><span class=\"p\">.</span><span class=\"nx\">set</span><span class=\"p\">(</span><span class=\"s2\">\"name\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Maxwell\"</span><span class=\"p\">);</span>\n</code></pre>\n</div>\n\n<p>Here’s how I’d write the same in CoffeeScript:</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">object</span> <span class=\"o\">=</span>\n  <span class=\"na\">attributes</span><span class=\"o\">:</span> <span class=\"p\">{}</span>\n  <span class=\"na\">callbacks</span><span class=\"o\">:</span> <span class=\"p\">{}</span>\n  <span class=\"na\">get</span><span class=\"o\">:</span> <span class=\"p\">(</span><span class=\"nx\">attr</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span>\n    <span class=\"vi\">@</span><span class=\"na\">attributes</span><span class=\"p\">[</span><span class=\"nx\">attr</span><span class=\"p\">]</span>\n  <span class=\"na\">set</span><span class=\"o\">:</span> <span class=\"p\">(</span><span class=\"nx\">attr</span><span class=\"p\">,</span> <span class=\"nx\">value</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span>\n    <span class=\"vi\">@</span><span class=\"na\">attributes</span><span class=\"p\">[</span><span class=\"nx\">attr</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">value</span>\n    <span class=\"vi\">@</span><span class=\"na\">emit</span> <span class=\"s\">\"changed:</span><span class=\"si\">#{</span><span class=\"nx\">attr</span><span class=\"si\">}</span><span class=\"s\">\"</span>\n  <span class=\"na\">on</span><span class=\"o\">:</span> <span class=\"p\">(</span><span class=\"nx\">eventName</span><span class=\"p\">,</span> <span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span>\n    <span class=\"vi\">@</span><span class=\"na\">callbacks</span><span class=\"p\">[</span><span class=\"nx\">eventName</span><span class=\"p\">]</span> <span class=\"o\">?=</span> <span class=\"p\">[]</span>\n    <span class=\"vi\">@</span><span class=\"na\">callbacks</span><span class=\"p\">[</span><span class=\"nx\">eventName</span><span class=\"p\">].</span><span class=\"na\">push</span> <span class=\"nx\">callback</span>\n  <span class=\"na\">emit</span><span class=\"o\">:</span> <span class=\"p\">(</span><span class=\"nx\">eventName</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span>\n    <span class=\"k\">if</span> <span class=\"vi\">@</span><span class=\"na\">callbacks</span><span class=\"p\">[</span><span class=\"nx\">eventName</span><span class=\"p\">]</span><span class=\"o\">?</span>\n      <span class=\"vi\">@</span><span class=\"na\">callbacks</span><span class=\"p\">[</span><span class=\"nx\">eventName</span><span class=\"p\">].</span><span class=\"na\">forEach</span> <span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span>\n        <span class=\"nx\">callback</span><span class=\"p\">.</span><span class=\"na\">apply</span> <span class=\"err\">@</span>\n\n<span class=\"nx\">object</span><span class=\"p\">.</span><span class=\"na\">set</span> <span class=\"s\">\"name\"</span><span class=\"p\">,</span> <span class=\"s\">\"Max Jacobson\"</span>\n<span class=\"nx\">object</span><span class=\"p\">.</span><span class=\"na\">set</span> <span class=\"s\">\"age\"</span><span class=\"p\">,</span> <span class=\"mi\">25</span>\n\n<span class=\"nx\">object</span><span class=\"p\">.</span><span class=\"na\">on</span> <span class=\"s\">\"changed:name\"</span><span class=\"p\">,</span> <span class=\"o\">-&gt;</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"na\">log</span> <span class=\"s\">\"My new name is: </span><span class=\"si\">#{</span> <span class=\"vi\">@</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"s\">\"name\"</span><span class=\"p\">)</span> <span class=\"si\">}</span><span class=\"s\">\"</span>\n\n<span class=\"nx\">object</span><span class=\"p\">.</span><span class=\"na\">set</span> <span class=\"s\">\"name\"</span><span class=\"p\">,</span> <span class=\"s\">\"MJ\"</span>\n<span class=\"nx\">object</span><span class=\"p\">.</span><span class=\"na\">set</span> <span class=\"s\">\"name\"</span><span class=\"p\">,</span> <span class=\"s\">\"Maxwell\"</span>\n</code></pre>\n</div>\n\n<p>I still like CoffeeScript but I’m going to try to use it less. Actually that last line of the <code class=\"highlighter-rouge\">emit</code> method looks <em>weird</em> with the <code class=\"highlighter-rouge\">@</code> like that. I actually ran both of these thru JSHint and CoffeeLint respectively and it helped me catch some missing semicolons :+1:.</p>\n\n<p>Joreteg takes a moment to discuss the separation of responsibilities between the server and the client with regard to the data you’re persisting on the server. I’m not sure the knot is untied completely. The example given is a delete button. Not every user has permission to delete, so we may show or hide the button based on who is logged in. But because the DOM is malleable, you have to assume that any user can see that button if they really want to, for example by inspecting element with their browser dev tools and changing properties of existing buttons. So it really <em>can’t</em> be the client’s job to secure that, it has to be the server’s job. But I guess it goes beyond that, and it actually shouldn’t be the responsibility of the client.</p>\n\n<p>This chapter is really long.</p>\n\n<p>I mentioned above that I feel like I pretty much know JavaScript but honestly that’s not that accurate at all. What was I thinking? What I meant is that I know the syntax pretty well. But truth be told I probably only know the syntax pretty well of old-ass JavaScript, not all this new stuff. For example, he’s going into an EcmaScript 5 feature, that objects have <code class=\"highlighter-rouge\">get</code> and <code class=\"highlighter-rouge\">set</code> operators. I never saw that before. And they’re up to EcmaScript 6 now, right?</p>\n\n<p>A lot of the stuff in this chapter seems kind of magical, and I kind of like that JavaScript doesn’t normally seem magical. Actually, that’s not true: a lot of my interactions with jQuery seem magical to me. Like, the way it’s possible to chain several jQuery methods and it keeps returning the thing so you can keep operating on it. The object feels like more than <code class=\"highlighter-rouge\"><span class=\"p\">{}</span></code> with a bunch of properties, it feels like it really <em>models</em> a thing, in that case an element or group of elements on a web page. The models that Joreteg describes here seem like they could genuinely model something like a “user”, because you’re not just setting and getting properties. Or rather, you are, but it’s <em>reacting</em> and <em>behaving</em> based on that stuff. It’s not a dumb box you put things in.</p>\n\n<h3 id=\"things-i-learned-from-chapter-7-viewshttpreadhumanjavascriptcomch07-viewshtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch07-views.html\">chapter 7: Views</a></h3>\n\n<p>I’m vaguely aware that what Rails calls a “View” isn’t necessarily what everyone else calls a view, and I’m ready to confront that now. I can see that the following chapter is about “templates”, and I think that what I think of as views (erb or haml files, which describe a chunk of HTML with dynamically evaluated bits of code interpolated in them) are actually templates. So what’s a view?</p>\n\n<p>I groused above about my discomfort with sending all of the JavaScript to the browser on every request and then running it on every request. Shortly after writing that, I realized Human JavaScript hadn’t promised anything about sending excess code. But now I can see that it does, in this chapter. talk about <em>running</em> excess code. On top of that, it’s not as bad that it sends the entire application because it will only send it one time, on initial load, and then the user’s interactions with the application won’t need to request the application again, because it’s a “single page application” and only requests exactly what it needs.</p>\n\n<p>So before I continue reading and learn about the Human JavaScript solution to the problem of running excess code, I want to jot down an example of what I’m talking about. Let’s say our homepage has this HTML:</p>\n\n<p>(Writing pure HTML without HAML or Rails’ help was surprisingly difficult just then and I’m not sure this is correct, but I’m on a train so I can’t really look things up right now.</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c\">&lt;!-- index.html --&gt;</span>\n<span class=\"nt\">&lt;h1&gt;</span>Subscribe to our mailing list<span class=\"nt\">&lt;/h1&gt;</span>\n<span class=\"nt\">&lt;form</span> <span class=\"na\">action=</span><span class=\"s\">\"/subscribe\"</span> <span class=\"na\">method=</span><span class=\"s\">\"POST\"</span> <span class=\"na\">id=</span><span class=\"s\">\"subscribe\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;input</span> <span class=\"na\">id=</span><span class=\"s\">\"email\"</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"youremail@example.com\"</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"submit\"</span> <span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/form&gt;</span>\n</code></pre>\n</div>\n\n<p>We want to validate that the user input looks like an email address so we write a little jQuery:</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># home.js.coffee</span>\n<span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"na\">on</span> <span class=\"s\">'ready'</span><span class=\"p\">,</span> <span class=\"o\">-&gt;</span>\n  <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s\">'form#subscribe'</span><span class=\"p\">).</span><span class=\"na\">on</span> <span class=\"s\">'submit'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span>\n    <span class=\"k\">if</span> <span class=\"o\">not</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"na\">find</span><span class=\"p\">(</span><span class=\"s\">'#email'</span><span class=\"p\">).</span><span class=\"na\">val</span><span class=\"p\">().</span><span class=\"na\">match</span> <span class=\"sr\">/\\w+\\@\\w+\\.\\w+/</span>\n      <span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"na\">preventDefault</span><span class=\"p\">()</span>\n      <span class=\"nx\">alert</span> <span class=\"s\">\"According to my terrible regular expression, that is not a valid email!\"</span>\n      <span class=\"no\">false</span>\n</code></pre>\n</div>\n\n<p>This code has two event handlers in it – the first will run when the document is ready, on every page this is included on. It attaches the second event handler to a form with id “subscribe” – or it tries to. Maybe it doesn’t find one, in which case I guess it does nothing. It doesn’t throw an exception if it doesn’t find the form, it just quietly continues through the code. Let’s say you have a mature Rails app with dozens of files like these. On every page load, it’s looking for a bunch of stuff that may or may not exist. Browsers are pretty fast, so it’s kind of OK, but it’s a ton of work that isn’t necessary. It’s also a potential source of bugs, because what if there’s a form with id of ‘subscribe’ on multiple pages which are totally different? Now you can’t submit that one either?</p>\n\n<p>What are your alternatives?</p>\n\n<h3 id=\"add-some-conditions-to-each-file-for-example\">add some conditions to each file, for example:</h3>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># home.js.coffee</span>\n<span class=\"nx\">$</span> <span class=\"o\">-&gt;</span>\n  <span class=\"k\">if</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s\">'form#subscribe'</span><span class=\"p\">).</span><span class=\"na\">length</span>\n    <span class=\"c1\"># all of your code that should only run on a page which has this form, potentially a lot of code</span>\n</code></pre>\n</div>\n\n<p>So the code is still evaluated, but if there is a lot of code, you can minimize the excess work.</p>\n\n<h3 id=\"javascriptincludetag\"><code class=\"highlighter-rouge\">javascript_include_tag</code></h3>\n\n<p>Instead of having one massive manifest file in <code class=\"highlighter-rouge\">application.js</code>, which packages all of our JavaScripts into one big file on every page, include the JavaScripts in the view that it’s relevant to.</p>\n\n<div class=\"language-haml highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c\">/ form.html.haml\n</span><span class=\"nt\">%h1</span> Subscribe to our mailing list\n<span class=\"nt\">%form</span><span class=\"p\">{</span><span class=\"ss\">:action</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">'/subscribe'</span><span class=\"p\">,</span> <span class=\"ss\">:method</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">'POST'</span><span class=\"p\">}</span><span class=\"nf\">#subscribe</span>\n  <span class=\"nt\">%input</span><span class=\"p\">{</span><span class=\"ss\">:type</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">'text'</span><span class=\"p\">,</span> <span class=\"ss\">:placeholder</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">'youremail@example.com'</span><span class=\"p\">}</span><span class=\"nf\">#email</span>\n  <span class=\"nt\">%input</span><span class=\"p\">{</span><span class=\"ss\">:type</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">'submit'</span><span class=\"p\">}</span>\n<span class=\"p\">=</span> <span class=\"n\">javascript_include_tag</span> <span class=\"s1\">'home'</span>\n</code></pre>\n</div>\n\n<p>This last approach has some pros and cons. Including that script tag on just the relevant page means that it will only run on that page, but it also means that page will ned to request two different JavaScript assets, instead of the one big one it probably already has cached.</p>\n\n<p>The approach that I <em>think</em> Joreteg is espousing is sending all of your JavaScript in one big file, but somehow only attaching the form’s event handler on this page anyway, by being kind of clever somehow. OK now I’m going to read on.</p>\n\n<p>Unfortunately this chapter assumes a lot of knowledge of Backbone views and their limitations. I’m a little lost. Earlier he recommended reading the Backbone documentation for a great introduction to Backbone, and I didn’t. I think I need to go read at least the sectino on views before I proceed with this chapter.</p>\n\n<p>OK so the view is the object that orchestrates what the user sees. It binds model attributes to the page elements and renders templates. It can be responsible for just one instance of a model, or a whole collection. If there’s one view object for one instance of a model, you can take advantage of the events we covered earlier, and wait for that thing to emit a “change” event and re-render that part of the page or do whatever you want.</p>\n\n<h3 id=\"things-i-learned-from-chapter-8-templatinghttpreadhumanjavascriptcomch08-templatinghtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch08-templating.html\">chapter 8: Templating</a></h3>\n\n<p>This is a brief chapter discussing ‘templatizer’, a library created by the author. It sounds pretty clever. It enables you to use the ‘jade’ templating language (reminds me of haml in its minimalism, and is actually much more minimalist) without your client needing to know anything about jade. It converts your templates to functions which can be called in the browser.</p>\n\n<p>I cloned <a href=\"https://github.com/HenrikJoreteg/humanjs-sample-app\">his sample app</a> and started it, and clicked around. The server log did something interesting:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>[hardscrabble] [humanjs-sample-app] [master branch]\n⇥ npm start\n\n&gt; ampersand-sample@0.0.0 start /Users/maxjacobson/src/humanjs-sample-app\n&gt; node server.js\n\ndev environment detected\nAmpersand Sample is running at: http://localhost:3000 Yep. That's pretty awesome.\nSetting up watch\nCOMPILING\nStarted livereload on 35729\nWatching /Users/maxjacobson/src/humanjs-sample-app/public/css/**/*.styl\n</code></pre>\n</div>\n\n<p>And then…</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>[hardscrabble] [humanjs-sample-app] [master branch]\n⇥ git status\nOn branch master\nYour branch is up-to-date with 'origin/master'.\n\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git checkout -- &lt;file&gt;...\" to discard changes in working directory)\n\n        modified:   client/templates.js\n</code></pre>\n</div>\n\n<p>What? I didn’t modify <code class=\"highlighter-rouge\">client/templates.js</code>! Just running the app and clicking around regenerates this file, which I guess gets committed and deployed. I’m not even sure what changed. Maybe when I installed the dependencies, I got a newer version of the “templatizer” tool, which compiles the file in a slightly different way.</p>\n\n<h3 id=\"things-i-learned-from-chapter-9-clientside-routinghttpreadhumanjavascriptcomch09-clientside-routinghtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch09-clientside-routing.html\">chapter 9: clientside routing</a>:</h3>\n\n<p>No matter what URL you request, the server does the same thing. Then the browser takes over. Kinda makes sense!</p>\n\n<p>I always forget how fast browsers are. I feel like there should be some kind of flicker as the browser puts together the page you requested. Maybe it just doesn’t show anything until it’s ready to show everything, so it’s not much different.</p>\n\n<h3 id=\"things-i-learned-from-chapter-10-launch-sequencehttpreadhumanjavascriptcomch10-launch-sequencehtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch10-launch-sequence.html\">chapter 10: launch sequence</a>:</h3>\n\n<p>So I guess Backbone isn’t that different from Rails. You define your routes and pair them with actions (well, functions) to run, and those actions fetch some data and render a view. The main difference is that it happens on the client side. And, it seems, that organizing it all has fewer conventions? But this book provides some suggestions.</p>\n\n<h3 id=\"things-i-learned-from-chapter-11-testing-and-qahttpreadhumanjavascriptcomch11-testing-and-qahtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch11-testing-and-QA.html\">chapter 11: testing and QA</a>:</h3>\n\n<p>I’m glad this chapter acknowledges that it’s hard to test JavaScript code and I really like the solution they’ve come up with, which leans a bit toward human-operated QA without entirely giving up the dream of automatic testing.</p>\n\n<h3 id=\"things-i-learned-from-chapter-12-settings-and-configshttpreadhumanjavascriptcomch12-settings-and-configshtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch12-settings-and-configs.html\">chapter 12: settings and configs</a>:</h3>\n\n<p>Rails has a solution for dealing with potentially-sensitive configuration files, and I’m not too surprised to see a similar one here.</p>\n\n<h3 id=\"things-i-learned-from-chapter-13-caveatshttpreadhumanjavascriptcomch13-caveatshtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch13-caveats.html\">chapter 13: caveats</a>:</h3>\n\n<p>There are commom mistakes that people make when starting with JavaScript and Backbone. I think these explanations make sense but when I actually try building some with Backbone, I look forward to making these exact mistakes anyway :smile:.</p>\n\n<p>Also that I’m kind of breezing thru these last few chapters because I see the end is in sight and I’m excited to try making something.</p>\n\n<h3 id=\"things-i-learned-from-chapter-14-conclusionhttpreadhumanjavascriptcomch14-conclusionhtml\">Things I learned from <a href=\"http://read.humanjavascript.com/ch14-conclusion.html\">chapter 14: conclusion</a>:</h3>\n\n<p>I like that this book was short and sweet.</p>\n\n<p>I like that he asked for feedback, because <a href=\"https://twitter.com/maxjacobson/status/485427898472759297\">I already gave some</a>.</p>\n\n<p>I don’t feel totally prepared to build a front end app but I have a TON more context now. I think I know the next steps for me, which is to read the backbone docs and make something, coming back to reference this when I feel lost.</p>\n\n<p>Maybe I’ll make a website for my rubygem <a href=\"https://github.com/maxjacobson/film_snob/\">film snob</a><sup id=\"fnref:snob\"><a href=\"#fn:snob\" class=\"footnote\">4</a></sup>. I think I’ll stick with Ruby for the server, for now, but I’ll try to keep it REALLY minimal. I made <a href=\"https://gist.github.com/maxjacobson/9244b99019d4fad3832f\">this</a> single file sinatra application to demo film snob to my sister, but maybe I’ll redo it as a backbone app and put it on Heroku and link it from the README? Sounds like a plan :+1:.</p>\n\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:worry\">\n      <p>I worry that I’ll be humbled by these statements as I continue down this path. I’m already pretty embarrassed by my two posts about learning ember (<a href=\"http://www.hardscrabble.net/2013/learning-ember-js-day-one/\">one</a>, <a href=\"http://www.hardscrabble.net/2013/learning-ember-day-two/\">two</a>) which led nowhere, and this has the potential to be much the same. <a href=\"#fnref:worry\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:source\">\n      <p>Make sure to “View Source” and not “Inspect Element”. Viewing source shows you the HTML returned by the server, inspecting element shows you the current state of the document which <em>does</em> have a body, and was rendered by the client-side JavaScript. <a href=\"#fnref:source\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:linter\">\n      <p>A code-analyzing tool that warns you about code mistakes or poor style <a href=\"#fnref:linter\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:snob\">\n      <p>Which I really need to write about because it’s been a thrill and a hoot to make, largely because some randos helped contribute to it. <a href=\"#fnref:snob\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "29 Jun 2014",
        "title": "My New Computer",
        "url": "/2014/my-new-computer",
        "content": "<p>Here’s a screenshot of my desktop as of right now:</p>\n\n<p><a href=\"/img/2014-06-29-den-desktop.png\"><img src=\"/img/2014-06-29-den-desktop.png\" alt=\"My desktop\" /></a></p>\n\n<p>It’s an Intel NUC. It’s tiny. It’s mounted to the back of my 23” Monitor I bought like 4 years ago. It’s really clever – those 4 standard screws that are meant for mounting the monitor to an arm or the wall can instead have the computer mounted to it. It’s replacing an old 40 pound (maybe, I’m totally guessing) Dell tower hand me down from my dad’s office.</p>\n\n<p>It’s running Ubuntu 14.04 LTS<sup id=\"fnref:versions\"><a href=\"#fn:versions\" class=\"footnote\">1</a></sup> with the <a href=\"http://en.wikipedia.org/wiki/Metacity\">Gnome Metacity Flashback</a> desktop. I really like this desktop because it leaves a ton of space for stuff on the screen, but has access to all the stuff you need. I haven’t used Linux very long, just as a secondary computer for two years or so, but nonetheless I’m nostalgic for this desktop beacuse it’s the one I first used on a very underpowered netbook. I enjoy its multiple desktop indicators in the bottom right corner, which show the position of the windows in silhouette. I like pressing ctrl+alt+arrow to go between them, and ctrl+alt+shift+arrow to drag the active window with me.</p>\n\n<p>I figured out today how to remove icons from the top left launcher panel. I could not figure it out at all, and was grateful <a href=\"http://askubuntu.com/questions/91445/how-do-i-remove-an-icon-from-the-top-panel-in-gnome-fallback-mode/91509#91509?newreg=91ef94088c4a4821bd6e8df719a56d39\">to see</a> others struggling with the same. I took the opportunity to add some nice web bookmarks.</p>\n\n<p>I took a few minutes today to read about Mint Linux and considered switching, but I don’t really like how it looks. I’m worried that this particular look that I use isn’t very popular and won’t be maintained for long, so I want to share that I like it this way and I recommend it, especially for programmers and writers interested in a simple and clean user experience that’s not plugged in to all of their existing notification-generating lives.</p>\n\n<p>My new computer isn’t actually very new. I got it nearly two months ago. I haven’t given much thought to the idea of using Linux as a primary computer. I think that would be pretty hard given how used I am to OS X, but it’s a terrific secondary computer.</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:versions\">\n      <p>Unlike most version numbers, this means it came out in April 2014. LTS stands for “Long Term Support” <a href=\"#fnref:versions\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "23 Jun 2014",
        "title": "whoa, ruby's alias is weirder than I realized",
        "url": "/2014/whoa-rubys-alias-is-weirder-than-i-realized",
        "content": "<p>Just saw some ruby code using the <code class=\"highlighter-rouge\">alias</code> method, and did a quick and routine google to find some examples of how it works, especially as compared to the <code class=\"highlighter-rouge\">alias_method</code> method.</p>\n\n<p><a href=\"http://andreacfm.com/2012/11/29/ruby-alias-vs-alias-method/\">This blog post</a> and some others recommend to use <code class=\"highlighter-rouge\">alias_method</code> over <code class=\"highlighter-rouge\">alias</code> and I’m going to agree, but for different reason: calling <code class=\"highlighter-rouge\">alias</code> looks weird to me.</p>\n\n<p>This looks perfectly normal to me:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Whatever</span>\n  <span class=\"k\">def</span> <span class=\"nf\">whatever</span>\n    <span class=\"s2\">\"whatever\"</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"kp\">alias_method</span> <span class=\"ss\">:something</span><span class=\"p\">,</span> <span class=\"ss\">:whatever</span>\n<span class=\"k\">end</span>\n\n<span class=\"no\">Whatever</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">.</span><span class=\"nf\">whatever</span> <span class=\"c1\">#=&gt; \"whatever\"</span>\n<span class=\"no\">Whatever</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">.</span><span class=\"nf\">something</span> <span class=\"c1\">#=&gt; \"whatever\"</span>\n</code></pre>\n</div>\n\n<p><code class=\"highlighter-rouge\">alias_method</code> is a method that takes two arguments and they’re separated by commas. Under the hood I don’t know what it’s doing but that’s never stopped me from calling a method, and I know how to call a method.</p>\n\n<p>This looks goofy to me:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Whatever</span>\n  <span class=\"k\">def</span> <span class=\"nf\">whatever</span>\n    <span class=\"s2\">\"whatever\"</span>\n  <span class=\"k\">end</span>\n  <span class=\"k\">alias</span> <span class=\"ss\">:something</span> <span class=\"ss\">:whatever</span>\n<span class=\"k\">end</span>\n<span class=\"no\">Whatever</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">.</span><span class=\"nf\">whatever</span> <span class=\"c1\">#=&gt; \"whatever\"</span>\n<span class=\"no\">Whatever</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">.</span><span class=\"nf\">something</span> <span class=\"c1\">#=&gt; \"whatever\"</span>\n</code></pre>\n</div>\n\n<p>What even is that? It looks like we’re calling a method, but the arguments aren’t comma-separated… it feels weird.</p>\n\n<p>I guess this probably isn’t a great reason to prefer one programming technique over another, but for me it’s harder to understand and therefore remember, and what I really like about Ruby is that it’s simple – almost everything is an object or a method, which follow some set of learnable rules.</p>\n\n<p><code class=\"highlighter-rouge\">alias_method</code> is a method; <code class=\"highlighter-rouge\">alias</code> is a <a href=\"http://ruby-doc.org/docs/keywords/1.9/files/keywords_rb.html#M000007\">keyword</a>, like <code class=\"highlighter-rouge\">def</code> or <code class=\"highlighter-rouge\">class</code> and it can be even syntactically weirder:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">LowfatKefir</span>\n  <span class=\"k\">def</span> <span class=\"nf\">probiotic?</span>\n    <span class=\"kp\">true</span>\n  <span class=\"k\">end</span>\n  <span class=\"k\">alias</span> <span class=\"n\">tasty?</span> <span class=\"n\">probiotic?</span>\n<span class=\"k\">end</span>\n<span class=\"no\">LowfatKefir</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">.</span><span class=\"nf\">tasty?</span> <span class=\"c1\">#=&gt; true</span>\n</code></pre>\n</div>\n\n<p>Not only do you not need to comma-separate the “arguments” to <code class=\"highlighter-rouge\">alias</code>, but they don’t have to be symbols either which feels like another violation of my understanding of how this language works, which is that we use symbols when we want to reference methods without invoking them, because referencing the method always invokes it.</p>\n"
      }
      
        ,
      
    
      {
        "date": "05 May 2014",
        "title": "selecta",
        "url": "/2014/selecta",
        "content": "<p>One of my favorite things about my vim setup is the way I open files. For a little while I used <a href=\"https://github.com/kien/ctrlp.vim\">ctrlp</a> and then I switched to <a href=\"https://github.com/garybernhardt/selecta\">Gary Bernhardt’s selecta</a> script.</p>\n\n<p>selecta is cool in part because of how it’s designed to be more than a vim plugin, although that’s mainly what I use it for. The readme gives a few examples of how else it could be used and other people <a href=\"https://twitter.com/JAH2488/status/459519248713666560\">come up with weirder stuff</a>.</p>\n\n<p>Also cool is the means of distribution. Recently <a href=\"https://github.com/garybernhardt/selecta/issues/28\">someone added it as a homebrew formula</a>, making it easy to install and keep it up-to-date on a Mac, but until then, the recommended move was to download a raw ruby script, make it executable, and put it on your PATH, and then I guess hope to remember to update it occasionally. If you want to use it in vim, you can copy and paste a vimscript function from the readme into your vimrc.</p>\n\n<p>Here’s the code from the readme:</p>\n\n<div class=\"language-vim highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c\">\" Run a given vim command on the results of fuzzy selecting from a given shell</span>\n<span class=\"c\">\" command. See usage below.</span>\n<span class=\"k\">function</span><span class=\"p\">!</span> SelectaCommand<span class=\"p\">(</span>choice_command<span class=\"p\">,</span> selecta_args<span class=\"p\">,</span> vim_command<span class=\"p\">)</span>\n  <span class=\"k\">try</span>\n    <span class=\"k\">silent</span> <span class=\"k\">let</span> selection <span class=\"p\">=</span> system<span class=\"p\">(</span><span class=\"nv\">a:choice_command</span> <span class=\"p\">.</span> <span class=\"s2\">\" | selecta \"</span> <span class=\"p\">.</span> <span class=\"nv\">a:selecta_args</span><span class=\"p\">)</span>\n  <span class=\"k\">catch</span> <span class=\"sr\">/Vim:Interrupt/</span>\n    <span class=\"c\">\" Swallow the ^C so that the redraw below happens; otherwise there will be</span>\n    <span class=\"c\">\" leftovers from selecta on the screen</span>\n    <span class=\"k\">redraw</span><span class=\"p\">!</span>\n    <span class=\"k\">return</span>\n  <span class=\"k\">endtry</span>\n  <span class=\"k\">redraw</span><span class=\"p\">!</span>\n  exec <span class=\"nv\">a:vim_command</span> <span class=\"p\">.</span> <span class=\"s2\">\" \"</span> <span class=\"p\">.</span> selection\n<span class=\"k\">endfunction</span>\n\n<span class=\"c\">\" Find all files in all non-dot directories starting in the working directory.</span>\n<span class=\"c\">\" Fuzzy select one of those. Open the selected file with :e.</span>\nnnoremap <span class=\"p\">&lt;</span>leader<span class=\"p\">&gt;</span><span class=\"k\">f</span> <span class=\"p\">:</span><span class=\"k\">call</span> SelectaCommand<span class=\"p\">(</span><span class=\"s2\">\"find * -type f\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span> <span class=\"s2\">\":e\"</span><span class=\"p\">)&lt;</span><span class=\"k\">cr</span><span class=\"p\">&gt;</span>\n</code></pre>\n</div>\n\n<p>I made one change, which was to use ctrl+p instead of leader+f, because I’d trained my fingers on ctrl+p and didn’t have the reserves of peace &amp; discipline to consider changing. Other than that I left it as-is, until today.</p>\n\n<p>I wanted to edit my <code class=\"highlighter-rouge\">.gitignore</code> file, and noticed that it wasn’t opening. Not a big deal, I wrote <code class=\"highlighter-rouge\">:e .gitignore</code> and survived.</p>\n\n<p>The comment says it opens all files in all non-dot directories. It’s kind of true but not exactly, as it ignores dotfiles regardless of their location. I definitely want it to ignore files in dot directories (<code class=\"highlighter-rouge\">.git</code> and <code class=\"highlighter-rouge\">.sass-cache</code> come to mind), but I don’t want it to ignore most dotfiles.</p>\n\n<p>selecta works like this: you pipe some list of information into it, it breaks it apart, lets you <em>select</em> one line from the list, and then pipes that selection out to the next command. This vim plugin runs the bash command <code class=\"highlighter-rouge\">find * -type f</code>, which prints the list of non-dot files (<code class=\"highlighter-rouge\">-type f</code> excludes directories, <code class=\"highlighter-rouge\">*</code> excludes dots) and then pipes it to the vim edit command <code class=\"highlighter-rouge\">:e</code>.</p>\n\n<p>Since setting this up months ago I’ve learned and used the <code class=\"highlighter-rouge\">find</code> command a few times but had no idea it was powering my fuzzy opener thing! Something opaque opened up a little. So I edited that last part like this:</p>\n\n<div class=\"language-vim highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c\">\" Find all files and all non-dot directories</span>\n<span class=\"c\">\" starting in the working directory</span>\n<span class=\"c\">\" and edit the chosen thing</span>\nnnoremap <span class=\"p\">&lt;</span><span class=\"k\">c</span><span class=\"p\">-</span><span class=\"k\">p</span><span class=\"p\">&gt;</span> <span class=\"p\">:</span><span class=\"k\">call</span> SelectaCommand<span class=\"p\">(</span><span class=\"s2\">\"find . -not -path './.*/*'\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span> <span class=\"s2\">\":e\"</span><span class=\"p\">)&lt;</span><span class=\"k\">cr</span><span class=\"p\">&gt;</span>\n</code></pre>\n</div>\n\n<p>The main changes:</p>\n\n<ul>\n  <li>dotfiles now show up, so I have easier access to files like <code class=\"highlighter-rouge\">.gitignore</code> and <code class=\"highlighter-rouge\">.travis.yml</code></li>\n  <li><em>directories</em> now show up, so I can jump directly to specific directories in netrw</li>\n  <li>now there’s a leading <code class=\"highlighter-rouge\">./</code> in the list of options because <code class=\"highlighter-rouge\">find *</code> and <code class=\"highlighter-rouge\">find .</code> have a different output?</li>\n</ul>\n\n<p>I made a <a href=\"/img/selecta-before.gif\">before</a> and <a href=\"/img/selecta-after.gif\">after</a> gif.</p>\n\n<p>I think I like this! But actually what if it sorted the files by last modified date?</p>\n"
      }
      
        ,
      
    
      {
        "date": "13 Apr 2014",
        "title": "refactoring very old code",
        "url": "/2014/refactoring-old-code",
        "content": "<p>Before I went to Flatiron School last summer I cobbled together a web app called <a href=\"http://layabout.tv\">Layabout</a>. This weekend, for the first time in a very long time, I worked up the nerve to look at the source code. You may have heard the phrase <a href=\"http://blog.codinghorror.com/code-smells/\">“code smell”</a> but I’m not sure it applies to this code. This code is like that ominous stink you’d almost rather ignore?</p>\n\n<p>Hmm.</p>\n\n<p>Layabout is an Instapaper client that focuses on the videos you’ve bookmarked. I was the only one who ever used it. I stopped using it in part beause it was buggy, and in part because I wanted to try out Pocket for a little while, which ended up being most of a year.</p>\n\n<p>Inspired by John Resig’s recent blog post <a href=\"http://ejohn.org/blog/write-code-every-day/\">“Write Code Every Day”</a> encouraging employed programmers to maintain side projects in a sustainable, I decided to revisit Layabout and see if anything I’ve learned in the year since I last edited it would come in handy. I also enjoy laughing at myself from the past.</p>\n\n<p>The app had been running on Heroku unused for a year. When I logged in<sup id=\"fnref:1\"><a href=\"#fn:1\" class=\"footnote\">1</a></sup> and tried to watch a video, it immediately crashed. I found the codebase locally and ran <code class=\"highlighter-rouge\">heroku logs</code> to try to get some more information about the crash but it simply said it was a 500 error. Hmm.</p>\n\n<p>So I tried running the app locally<sup id=\"fnref:2\"><a href=\"#fn:2\" class=\"footnote\">2</a></sup> and was surprised to find that it <em>worked even worse than it did on Heroku!</em> Online at least I could type my password in before it crashed, but locally no pages were rendering at all. Instead it was complaining about not being able to find the views. I googled the error message and learned that <a href=\"http://stackoverflow.com/a/3836158/1154301\">some versions of Sinatra require you to explicitly tell it where your views are</a>. I had never had this error before, but I was having it now. I looked at my Gemfile and saw that in my list of dependencies, I didn’t specify my desired version number for any of them. Code smell! You gotta lock that down, because things can change and break, especially when you don’t edit your code for over a year.<sup id=\"fnref:3\"><a href=\"#fn:3\" class=\"footnote\">3</a></sup></p>\n\n<p>After resolving that error I was able to reproduce the crash and see a much more verbose error message. You know how some YouTube videos have embedding disabled? I’m using a library, <a href=\"https://github.com/judofyr/ruby-oembed\">ruby-oembed</a>, to fetch embed codes from video URLs, and it raises an exception when the video has embedding disabled. I used to think that meant my thing needed to crash but I’ve since learned about exception handling. Here’s a before:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">get_embed</span> <span class=\"p\">(</span><span class=\"n\">vid_site</span><span class=\"p\">,</span> <span class=\"nb\">id</span><span class=\"p\">)</span>\n  <span class=\"k\">if</span> <span class=\"n\">vid_site</span> <span class=\"o\">==</span> <span class=\"ss\">:youtube</span>\n    <span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s2\">\"http://www.youtube.com/watch?v=</span><span class=\"si\">#{</span><span class=\"nb\">id</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n    <span class=\"k\">return</span> <span class=\"no\">OEmbed</span><span class=\"o\">::</span><span class=\"no\">Providers</span><span class=\"o\">::</span><span class=\"no\">Youtube</span><span class=\"p\">.</span><span class=\"nf\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">).</span><span class=\"nf\">html</span>\n  <span class=\"k\">elsif</span> <span class=\"n\">vid_site</span> <span class=\"o\">==</span> <span class=\"ss\">:vimeo</span>\n    <span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s2\">\"http://www.vimeo.com/</span><span class=\"si\">#{</span><span class=\"nb\">id</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n    <span class=\"k\">return</span> <span class=\"no\">OEmbed</span><span class=\"o\">::</span><span class=\"no\">Providers</span><span class=\"o\">::</span><span class=\"no\">Vimeo</span><span class=\"p\">.</span><span class=\"nf\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">,</span> <span class=\"ss\">maxwidth: </span><span class=\"s2\">\"500\"</span><span class=\"p\">,</span> <span class=\"ss\">portrait: </span><span class=\"kp\">false</span><span class=\"p\">,</span> <span class=\"ss\">byline: </span><span class=\"kp\">false</span><span class=\"p\">,</span> <span class=\"ss\">title: </span><span class=\"kp\">false</span><span class=\"p\">).</span><span class=\"nf\">html</span>\n  <span class=\"k\">elsif</span> <span class=\"n\">vid_site</span> <span class=\"o\">==</span> <span class=\"ss\">:hulu</span>\n    <span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s2\">\"http://www.hulu.com/watch/</span><span class=\"si\">#{</span><span class=\"nb\">id</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n    <span class=\"k\">return</span> <span class=\"no\">OEmbed</span><span class=\"o\">::</span><span class=\"no\">Providers</span><span class=\"o\">::</span><span class=\"no\">Hulu</span><span class=\"p\">.</span><span class=\"nf\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">).</span><span class=\"nf\">html</span>\n  <span class=\"k\">else</span>\n    <span class=\"k\">return</span> <span class=\"s2\">\"&lt;p&gt;Failed to get embed code&lt;/p&gt;\"</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>And after:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">get_embed</span> <span class=\"p\">(</span><span class=\"n\">vid_site</span><span class=\"p\">,</span> <span class=\"nb\">id</span><span class=\"p\">)</span>\n  <span class=\"k\">begin</span>\n    <span class=\"k\">case</span> <span class=\"n\">vid_site</span>\n    <span class=\"k\">when</span> <span class=\"ss\">:youtube</span>\n      <span class=\"no\">OEmbed</span><span class=\"o\">::</span><span class=\"no\">Providers</span><span class=\"o\">::</span><span class=\"no\">Youtube</span><span class=\"p\">.</span><span class=\"nf\">get</span><span class=\"p\">(</span><span class=\"s2\">\"http://www.youtube.com/watch?v=</span><span class=\"si\">#{</span><span class=\"nb\">id</span><span class=\"si\">}</span><span class=\"s2\">\"</span><span class=\"p\">).</span><span class=\"nf\">html</span>\n    <span class=\"k\">when</span> <span class=\"ss\">:vimeo</span>\n      <span class=\"no\">OEmbed</span><span class=\"o\">::</span><span class=\"no\">Providers</span><span class=\"o\">::</span><span class=\"no\">Vimeo</span><span class=\"p\">.</span><span class=\"nf\">get</span><span class=\"p\">(</span><span class=\"s2\">\"http://www.vimeo.com/</span><span class=\"si\">#{</span><span class=\"nb\">id</span><span class=\"si\">}</span><span class=\"s2\">\"</span><span class=\"p\">,</span> <span class=\"ss\">maxwidth: </span><span class=\"s2\">\"500\"</span><span class=\"p\">,</span> <span class=\"ss\">portrait: </span><span class=\"kp\">false</span><span class=\"p\">,</span> <span class=\"ss\">byline: </span><span class=\"kp\">false</span><span class=\"p\">,</span> <span class=\"ss\">title: </span><span class=\"kp\">false</span><span class=\"p\">).</span><span class=\"nf\">html</span>\n    <span class=\"k\">when</span> <span class=\"ss\">:hulu</span>\n      <span class=\"no\">OEmbed</span><span class=\"o\">::</span><span class=\"no\">Providers</span><span class=\"o\">::</span><span class=\"no\">Hulu</span><span class=\"p\">.</span><span class=\"nf\">get</span><span class=\"p\">(</span><span class=\"s2\">\"http://www.hulu.com/watch/</span><span class=\"si\">#{</span><span class=\"nb\">id</span><span class=\"si\">}</span><span class=\"s2\">\"</span><span class=\"p\">).</span><span class=\"nf\">html</span>\n    <span class=\"k\">else</span>\n      <span class=\"s2\">\"Unsupported site\"</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">rescue</span> <span class=\"no\">Exception</span> <span class=\"o\">=&gt;</span> <span class=\"n\">e</span>\n    <span class=\"nb\">puts</span> <span class=\"n\">e</span><span class=\"p\">.</span><span class=\"nf\">inspect</span>\n    <span class=\"s2\">\"&lt;p&gt;Sorry, couldn't get the embed code for this one. Maybe it doesn't allow embedding? Or maybe it was deleted? Sorry.&lt;/p&gt;\"</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>(I guess I didn’t know about case statements or implicit return values then either.)</p>\n\n<p>It’s still not that great honestly. I wish it were more object oriented. I wish there were tests. I wish I could open source it without exposing my Instapaper API keys. I know it’s possible to scrub your history and I’m going to look into that, and then keep them in a separate file ignored by git; or maybe I’ll look into getting new keys. But I’m glad to be revisiting this project because it’s where I got excited about web development. One last before and after:</p>\n\n<p>Layabout needs to ignore bookmarks that it doesn’t know how to embed. It also needs clean URLs to reliably lookup their embed codes. Here’s an old method which helped with this task:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code>\n<span class=\"k\">def</span> <span class=\"nf\">grok_url</span> <span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">)</span>\n  <span class=\"c1\"># TODO support hulu short urls</span>\n  <span class=\"k\">if</span> <span class=\"n\">url</span> <span class=\"o\">=~</span> <span class=\"sr\">/youtube\\.com\\/embed\\//</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">url</span><span class=\"p\">.</span><span class=\"nf\">match</span><span class=\"p\">(</span><span class=\"sr\">/\\/embed\\/([A-Za-z0-9_-]+)/</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nf\">to_s</span>\n    <span class=\"n\">site</span> <span class=\"o\">=</span> <span class=\"ss\">:youtube</span>\n  <span class=\"k\">elsif</span> <span class=\"n\">url</span> <span class=\"o\">=~</span> <span class=\"sr\">/youtube\\.com/</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">url</span><span class=\"p\">.</span><span class=\"nf\">match</span><span class=\"p\">(</span><span class=\"sr\">/v=([A-Za-z0-9_-]+)/</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nf\">to_s</span>\n    <span class=\"n\">site</span> <span class=\"o\">=</span> <span class=\"ss\">:youtube</span>\n  <span class=\"k\">elsif</span> <span class=\"n\">url</span> <span class=\"o\">=~</span> <span class=\"sr\">/youtu\\.be/</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">url</span><span class=\"p\">.</span><span class=\"nf\">match</span><span class=\"p\">(</span><span class=\"sr\">/(http:\\/\\/youtu.be\\/)([A-Za-z0-9\\-_]+)/</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nf\">to_s</span>\n    <span class=\"n\">site</span> <span class=\"o\">=</span> <span class=\"ss\">:youtube</span>\n  <span class=\"k\">elsif</span> <span class=\"n\">url</span> <span class=\"o\">=~</span> <span class=\"sr\">/vimeo\\.com\\/m\\//</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">url</span><span class=\"p\">.</span><span class=\"nf\">match</span><span class=\"p\">(</span><span class=\"sr\">/\\/m\\/(\\d+)/</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nf\">to_s</span>\n    <span class=\"n\">site</span> <span class=\"o\">=</span> <span class=\"ss\">:vimeo</span>\n  <span class=\"k\">elsif</span> <span class=\"n\">url</span> <span class=\"o\">=~</span> <span class=\"sr\">/vimeo\\.com/</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">url</span><span class=\"p\">.</span><span class=\"nf\">match</span><span class=\"p\">(</span><span class=\"sr\">/vimeo\\.com\\/([\\d]+)/</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nf\">to_s</span>\n    <span class=\"n\">site</span> <span class=\"o\">=</span> <span class=\"ss\">:vimeo</span>\n  <span class=\"k\">elsif</span> <span class=\"n\">url</span> <span class=\"o\">=~</span> <span class=\"sr\">/hulu\\.com\\/watch/</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">url</span><span class=\"p\">.</span><span class=\"nf\">match</span><span class=\"p\">(</span><span class=\"sr\">/watch\\/([\\d]+)/</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nf\">to_s</span>\n    <span class=\"n\">site</span> <span class=\"o\">=</span> <span class=\"ss\">:hulu</span>\n  <span class=\"k\">else</span>\n    <span class=\"k\">return</span> <span class=\"kp\">false</span><span class=\"p\">,</span> <span class=\"kp\">false</span><span class=\"p\">,</span> <span class=\"kp\">false</span>\n  <span class=\"k\">end</span>\n  <span class=\"k\">return</span> <span class=\"kp\">true</span><span class=\"p\">,</span> <span class=\"n\">site</span><span class=\"p\">,</span> <span class=\"nb\">id</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>I used it like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">video_links</span> <span class=\"o\">=</span> <span class=\"no\">Array</span><span class=\"p\">.</span><span class=\"nf\">new</span>\n<span class=\"k\">if</span> <span class=\"n\">folder_id</span> <span class=\"o\">==</span> <span class=\"ss\">:readlater</span>\n  <span class=\"n\">all_links</span> <span class=\"o\">=</span> <span class=\"n\">ip</span><span class=\"p\">.</span><span class=\"nf\">bookmarks_list</span><span class=\"p\">(</span><span class=\"ss\">:limit</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">500</span><span class=\"p\">)</span>\n<span class=\"k\">else</span>\n  <span class=\"n\">all_links</span> <span class=\"o\">=</span> <span class=\"n\">ip</span><span class=\"p\">.</span><span class=\"nf\">bookmarks_list</span><span class=\"p\">(</span><span class=\"ss\">:limit</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">500</span><span class=\"p\">,</span> <span class=\"ss\">:folder_id</span> <span class=\"o\">=&gt;</span> <span class=\"n\">folder_id</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n<span class=\"n\">all_links</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">link</span><span class=\"o\">|</span>\n  <span class=\"k\">if</span> <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s2\">\"type\"</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"s2\">\"bookmark\"</span> <span class=\"c1\"># filters out the first two irrelevant items</span>\n    <span class=\"n\">is_video</span><span class=\"p\">,</span> <span class=\"n\">vid_site</span><span class=\"p\">,</span> <span class=\"n\">video_id</span> <span class=\"o\">=</span> <span class=\"n\">grok_url</span> <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s2\">\"url\"</span><span class=\"p\">]</span>\n    <span class=\"k\">if</span> <span class=\"n\">is_video</span> <span class=\"o\">==</span> <span class=\"kp\">true</span>\n      <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s2\">\"video_id\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">video_id</span>\n      <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s2\">\"title\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">cleanup_title</span> <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s2\">\"title\"</span><span class=\"p\">]</span> <span class=\"c1\"># prob not necessary</span>\n      <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s2\">\"vid_site\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">vid_site</span>\n      <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s2\">\"description\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">make_clicky</span> <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s2\">\"description\"</span><span class=\"p\">]</span>\n      <span class=\"n\">video_links</span><span class=\"p\">.</span><span class=\"nf\">push</span> <span class=\"n\">link</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n<span class=\"vi\">@videos</span> <span class=\"o\">=</span> <span class=\"n\">video_links</span>\n</code></pre>\n</div>\n\n<p>Honestly I think this is cool code even though it’s not how I’d write it now, because this is what it looks like to make it work with limited knowledge. I didn’t know about any fancy iterators. I legit didn’t know about object oriented programming. I didn’t know it’s not necessary to check if a boolean <code class=\"highlighter-rouge\">== true</code>, but it wasn’t hurting anyone! Whenever I’m talking to beginners and see code that doesn’t take advantage of less-than-obvious techniques, but works, I’m psyched.</p>\n\n<p>Anyway this is what I changed it to yesterday:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"vi\">@videos</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">if</span> <span class=\"n\">folder_id</span> <span class=\"o\">==</span> <span class=\"ss\">:readlater</span>\n  <span class=\"n\">ip</span><span class=\"p\">.</span><span class=\"nf\">bookmarks_list</span><span class=\"p\">(</span><span class=\"ss\">:limit</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">500</span><span class=\"p\">)</span>\n<span class=\"k\">else</span>\n  <span class=\"n\">ip</span><span class=\"p\">.</span><span class=\"nf\">bookmarks_list</span><span class=\"p\">(</span><span class=\"ss\">:limit</span> <span class=\"o\">=&gt;</span> <span class=\"mi\">500</span><span class=\"p\">,</span> <span class=\"ss\">:folder_id</span> <span class=\"o\">=&gt;</span> <span class=\"n\">folder_id</span><span class=\"p\">)</span>\n<span class=\"k\">end</span><span class=\"p\">).</span><span class=\"nf\">map</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">link</span><span class=\"o\">|</span>\n  <span class=\"k\">if</span> <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s1\">'type'</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"s1\">'bookmark'</span> <span class=\"c1\"># filters out the first two irrelevant items</span>\n    <span class=\"n\">snob</span> <span class=\"o\">=</span> <span class=\"no\">FilmSnob</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s1\">'url'</span><span class=\"p\">])</span>\n    <span class=\"k\">if</span> <span class=\"n\">snob</span><span class=\"p\">.</span><span class=\"nf\">watchable?</span>\n      <span class=\"n\">link</span><span class=\"p\">.</span><span class=\"nf\">tap</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">link</span><span class=\"o\">|</span>\n        <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s1\">'video_id'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">snob</span><span class=\"p\">.</span><span class=\"nf\">id</span>\n        <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s1\">'title'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">cleanup_title</span> <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s1\">'title'</span><span class=\"p\">]</span>\n        <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s1\">'vid_site'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">snob</span><span class=\"p\">.</span><span class=\"nf\">site</span>\n        <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s1\">'description'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">make_clicky</span> <span class=\"n\">link</span><span class=\"p\">[</span><span class=\"s1\">'description'</span><span class=\"p\">]</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span><span class=\"p\">.</span><span class=\"nf\">compact</span>\n</code></pre>\n</div>\n\n<p>I don’t even necessarily think that’s better, but it satisfies my learned allergy to local variables<sup id=\"fnref:4\"><a href=\"#fn:4\" class=\"footnote\">4</a></sup> and makes me feel cool for using <code class=\"highlighter-rouge\">map</code> and <code class=\"highlighter-rouge\">tap</code>.</p>\n\n<p>Ah, and what’s <code class=\"highlighter-rouge\">FilmSnob</code>? Let’s revisit Resig’s blog post:</p>\n\n<blockquote>\n  <p>I decided to set a couple rules for myself:</p>\n\n  <ol>\n    <li>I must write code every day. I can write docs, or blog posts, or other things but it must be in addition to the code that I write.</li>\n    <li>It must be useful code. No tweaking indentation, no code re-formatting, and if at all possible no refactoring. (All these things are permitted, but not as the exclusive work of the day.)</li>\n    <li>All code must be written before midnight.</li>\n    <li>The code must be Open Source and up on Github.</li>\n  </ol>\n</blockquote>\n\n<p>Because Layabout isn’t currently open-sourceable, I extracted part of it into <a href=\"https://github.com/maxjacobson/film_snob\">a rubygem called film_snob</a>. It’s basically just that <code class=\"highlighter-rouge\">grok_url</code> method, but made object-oriented, tested, and designed to be more extensible in case I ever want to support more than three video sites. <a href=\"https://github.com/maxjacobson/film_snob/issues/1\">I hope</a> to also extract the embedcode fetching from Layabout into film_snob, but without the ruby-oembed dependency.</p>\n\n<hr />\n\n<p><strong>update</strong> I did implement the oembed stuff!! Yeah!!</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:1\">\n      <p>By giving my Instapaper credentials directly to the app, which I now know is kind of a no-no in the age of Oauth (though I’ve given my Instapaper credentials directly to some other apps like <a href=\"http://reederapp.com/\">Reeder</a> and <a href=\"http://tapbots.com/software/tweetbot/\">Tweetbot</a> so idk. Definitely a smell. <a href=\"#fnref:1\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:2\">\n      <p>Which was totally possible because all of the API keys were hardcoded into the app. Smell! <a href=\"#fnref:2\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:3\">\n      <p>What’s weird to me is that the version number seems to have regressed? The assumption that views are in a folder called views was introduced in 1.1, and I seem to have been taking advantage of that, but then it forgets to assume that? I don’t know. Versions are hard. <a href=\"#fnref:3\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:4\">\n      <p>except the <code class=\"highlighter-rouge\">snob</code> variable which I’m not sure how to avoid; suggestions welcome!! <a href=\"#fnref:4\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "13 Apr 2014",
        "title": "Atom Editor",
        "url": "/2014/atom-editor",
        "content": "<p>I tried out <a href=\"http://atom.io\">Atom Editor</a>, the new text editor from GitHub.</p>\n\n<p>I’m excited that GitHub is the kind of company that makes a new text editor. GitHub plays such a big part in my life as a programmer that it’s easy to forget that they’re basically irrelevant to almost all my friends and family. But maybe they won’t be forever.</p>\n\n<p>Atom looks and feels uncannily like Sublime Text. I saw some speculation that GitHub had acquired Sublime Text and I kind of hope that’s true, although there’s been no confirmation or real indication that this is the case. It’s very flagrant. <em>But</em>, there are several ways in which it’s much better:</p>\n\n<ul>\n  <li>It comes with a simple, native package manager\n    <ul>\n      <li>textmate does too, I think, but it’s <em>SO CONFUSING</em> I’ve been trying to figure out how it works for years</li>\n      <li>sublime requires a third party thing which is confusing to install, but otherwise awesome</li>\n      <li>vim also requires a third party thing which is kind of confusing to install, but then, it’s vim, and everything is confusing</li>\n    </ul>\n  </li>\n  <li>it reliably auto-installs its command line utility for launching the editor without needing to do any fancy symlinking business unlike Sublime</li>\n  <li>it’s written mostly in CoffeeScript and has many open source components to look at and maybe learn from</li>\n  <li>has some (but less than I expected) native integration with Git and GitHub, for example:\n    <ul>\n      <li>in the footer it will tell you how many lines were added and removed in this file since the last commit</li>\n      <li>has a native package to open the current file on GitHub</li>\n    </ul>\n  </li>\n</ul>\n\n<p>For the above reasons, this is probably the text editor that I’ll recommend to people who are new to programming.</p>\n\n<hr />\n\n<p>I wrote the above when I first got the beta a few weeks ago and expected to elaborate before posting. I haven’t used Atom very much since thenor even heard much about it. I went to <a href=\"http://www.meetup.com/The-New-York-Vim-Meetup/events/171642422/\">a vim meetup</a> <em>and</em> <a href=\"http://www.meetup.com/New-York-Emacs-Meetup/events/172560752/\">an emacs meetup</a> last week. I use vim but I’m curious to learn what emacs is all about. One of the speakers at the vim meetup said he uses and practices vim because it makes him more productive. I don’t know if I buy that – I’ve seen people be amazingly productive with a bunch of tools. But I think it makes it more fun and enjoyable, which I guess can lead to productivity. I’m reminded of a meme you hear in the writing community: writing about writing isn’t the point, writing is.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "19 Jan 2014",
        "title": "shebangs and bins",
        "url": "/2014/shebangs-and-bins",
        "content": "<p>I had a thought the other night as I was falling asleep: I guess I could create my own shebang? I asked Siri to remind me later and fell asleep.</p>\n\n<p>OK what’s a shebang? I’m going to try to explain my understanding of it step by step, forgive me if this is obvious or boring.</p>\n\n<p>So let’s say you write a ruby program that looks like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># hello.rb</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"hello world\"</span>\n</code></pre>\n</div>\n\n<p>And you run it from the command line by writing <code class=\"highlighter-rouge\">ruby hello.rb</code> and hitting enter.</p>\n\n<p>Or maybe write basically the same thing in python like this:</p>\n\n<div class=\"language-python highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c\"># hello.py</span>\n<span class=\"k\">print</span> <span class=\"s\">\"hello world\"</span>\n</code></pre>\n</div>\n\n<p>And run it from the command line by writing <code class=\"highlighter-rouge\">python hello.py</code> and hitting enter.</p>\n\n<p>And the same thing in CoffeeScript</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># hello.coffee</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"na\">log</span> <span class=\"s\">\"hello world\"</span>\n</code></pre>\n</div>\n\n<p>And run it by writing <code class=\"highlighter-rouge\">coffee hello.coffee</code> and hitting enter.</p>\n\n<p>Three different files are interpreted as three different programming languages by three different intrepreters. We indicate which language it is written in and should be interpreted as in two ways in those examples:</p>\n\n<ol>\n  <li>which command we invoked (<code class=\"highlighter-rouge\">ruby</code>, <code class=\"highlighter-rouge\">python</code>, and <code class=\"highlighter-rouge\">coffee</code>)</li>\n  <li>the file extension (<code class=\"highlighter-rouge\">rb</code>, <code class=\"highlighter-rouge\">py</code>, <code class=\"highlighter-rouge\">coffee</code>)</li>\n</ol>\n\n<p>The file extension isn’t really necessary. See:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># hello.sandwich</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"hello world\"</span>\n</code></pre>\n</div>\n\n<p>? This file can be run with <code class=\"highlighter-rouge\">ruby hello.sandwich</code> and it works totally fine. Probably continue to use conventional file extensions because they signal to your text editors and friends what type of file they are. But I think it’s kind of helpful to know that they’re not totally necessary or magical.</p>\n\n<p>OK so what if you want to call this program without specifying the interpreter every single time? This is where shebangs come in:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\">#!/usr/bin/env ruby</span>\n<span class=\"c1\"># hello.sandwich</span>\n<span class=\"nb\">puts</span> <span class=\"s2\">\"hello world\"</span>\n</code></pre>\n</div>\n\n<p>Now this is a file with a nonsense file extension but something new: the first line (the shebang) indicates which program is meant to interpret this file. Interestingly, it’s not a direct path to that binary file on your file system (which in the case of Ruby programmers who use <a href=\"http://rvm.io\">rvm</a> to switch between Ruby versions, is often changing – mine is currently at <code class=\"highlighter-rouge\">/Users/maxjacobson/.rvm/rubies/ruby-2.1.0-p0/bin/ruby</code> but only because I’m checking out the newly released Ruby 2.1.0), but instead consults your environment and says “hey, I’m looking for something called ruby, who wants to handle this one?”</p>\n\n<p>How do you call this file if you don’t specify the interpreter? Basically you just provide a path to the file, like this: <code class=\"highlighter-rouge\">./hello.sandwich</code>. You’ll probably get this error: <code class=\"highlighter-rouge\">bash: ./hello.sandwich: Permission denied</code>. I’m sure there are very good security reasons for this but it’s kind of annoying honestly. You need to run <code class=\"highlighter-rouge\">chmod +x hello.sandwich</code> which transforms the script from a generic text file to an “executable” file. If you do that, now you can run <code class=\"highlighter-rouge\">./hello.sandwich</code> and your program will run thru the ruby interpreter.</p>\n\n<p>What is the <code class=\"highlighter-rouge\">./</code> part? It’s kind of ugly, and it’s the next thing we want to get rid of. It’s a path to the file. The same way you might run <code class=\"highlighter-rouge\">cd ..</code> to change directories up a directory, you can run <code class=\"highlighter-rouge\">cd .</code> to remain in your current directory. I know programming has irrevocably ruined my sense of humor because I now find it funny that you can run <code class=\"highlighter-rouge\">cd ././././././.</code> to remain where you are. So <code class=\"highlighter-rouge\">./hello.sancwich</code> is a path to a file in the current directory.</p>\n\n<p>Let’s actually rename the file to have <em>no</em> file extension (<code class=\"highlighter-rouge\">mv hello.sandwich sandwich</code>) and run it again <code class=\"highlighter-rouge\">./sandwich</code>. Still works. It’s totally possible to run this file without the <code class=\"highlighter-rouge\">./</code>, but we need to put it somewhere special. We need to put it on our <code class=\"highlighter-rouge\">$PATH</code>, which is a list of all of the places on your computer you keep these executable files. To see your <code class=\"highlighter-rouge\">$PATH</code> you can run <code class=\"highlighter-rouge\">echo $PATH</code> and you’ll see them spat out all colon separated. You can move your file to one of those directories or create a new directory, probably located at <code class=\"highlighter-rouge\">~/bin</code> or <code class=\"highlighter-rouge\">~/Dropbox/bin</code> (<a href=\"http://www.leancrew.com/all-this/2013/05/dropboxbin/\">via</a>), and add it to your <code class=\"highlighter-rouge\">$PATH</code>.</p>\n\n<p><code class=\"highlighter-rouge\">$PATH</code> is a global variable in your command line environment and it can be edited like this: <code class=\"highlighter-rouge\">export PATH=\"whatever\"</code> but probably don’t do that because it will totally overwrite the variable in your current terminal session and you won’t have access to any of the executables you depend on and you won’t be able to do anything. The common way to append a directory to your <code class=\"highlighter-rouge\">$PATH</code> is like this: <code class=\"highlighter-rouge\">export PATH=~/bin:$PATH</code>, which sets the variable to <code class=\"highlighter-rouge\">~/bin</code>, a colon, and then everything that used to be in the variable. Perfect. If you want this directory to <em>always</em> be accessible, not just in the current terminal session, you should add that line of code to your <code class=\"highlighter-rouge\">~/.bashrc</code> or <code class=\"highlighter-rouge\">~/.bash_profile</code> file<sup id=\"fnref:1\"><a href=\"#fn:1\" class=\"footnote\">1</a></sup> and it will be included in every new terminal session.</p>\n\n<p>So, if your <code class=\"highlighter-rouge\">sandwich</code> file is in a directory that’s on your <code class=\"highlighter-rouge\">$PATH</code>, and it has the shebang that specifies its interpreter, you can now run simply <code class=\"highlighter-rouge\">sandwich</code> from <em>anywhere</em> on your computer and it will call that program. It’s kind of amazing how it does it, right? You write the word sandwich, hit enter, and it looks thru a list of directories for a file with that name; when it finds one, it checks its permissions, then looks at the first line to figure out how to interpret the file; that line points to an environment-checking program and passes in the argument “ruby”<sup id=\"fnref:2\"><a href=\"#fn:2\" class=\"footnote\">2</a></sup>, which finds the correct ruby interpreter, and then calls it, evaluating the remainder of the program.</p>\n\n<p>OK so that’s awesome. But what if I want to write this program:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\">#!/usr/bin/env sandwich</span>\n<span class=\"c1\"># grilled_cheese</span>\n<span class=\"n\">make_sandwich</span><span class=\"p\">(</span>\n  <span class=\"ss\">ingredients: </span><span class=\"p\">[</span>\n    <span class=\"s2\">\"rye\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"american cheese\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"some sprinkles of gorgonzola\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"maybe some sweet chili sauce\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"butter\"</span>\n    <span class=\"p\">],</span>\n  <span class=\"ss\">directions: </span><span class=\"p\">[</span>\n    <span class=\"s2\">\"get ingredients\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"assemble a sandwich\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"melt a little butter in a pan\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"put the sandwich in the pan\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"apply some downward pressure\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"flip\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"apply some downward pressure\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"enjoy\"</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>OK so I put “sandwich” in my shebang instead of a real programming language. What. Haha.</p>\n\n<p>Let’s make the <code class=\"highlighter-rouge\">grilled_cheese</code> file executable and put it in our bin, and then run <code class=\"highlighter-rouge\">grilled_cheese</code>. We want to confirm that it’s looking up and finding the sandwich program and running it. When we see “hello world” again, we know it is. But it’s not making a sandwich! But then, how can it? Our code isn’t even being evaluated; if it were, we would probably have an error because the <code class=\"highlighter-rouge\">make_sandwich</code> method is not availabe in the Ruby Standard Library (unfortunately).</p>\n\n<p>Let’s edit our sandwich program to get a sense of what it knows about our grilled cheese program.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\">#!/usr/bin/env ruby</span>\n<span class=\"c1\"># sandwich</span>\n<span class=\"nb\">puts</span> <span class=\"no\">ARGV</span><span class=\"p\">.</span><span class=\"nf\">inspect</span>\n</code></pre>\n</div>\n\n<p>Now when I run <code class=\"highlighter-rouge\">grilled_cheese</code>, instead of seeing “hello world” I see <code class=\"highlighter-rouge\">[\"/Users/maxjacobson/bin/grilled_cheese\"]</code>. Ahaa! Just because we invoke the sandwich program from the grilled cheese program doesn’t mean we will automatically evaluate the grilled cheese code. We just pass the filename as an argument, much like when we run <code class=\"highlighter-rouge\">ruby hello.rb</code>. It’s a lot like if we ran <code class=\"highlighter-rouge\">sandwich grilled_cheese</code>.</p>\n\n<p>OK so knowing that, maybe our sandwich file should look something like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\">#!/usr/bin/env ruby</span>\n<span class=\"c1\"># sandwich</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">make_sandwich</span><span class=\"p\">(</span><span class=\"n\">options</span><span class=\"p\">)</span>\n  <span class=\"n\">options</span><span class=\"p\">[</span><span class=\"ss\">:ingredients</span><span class=\"p\">].</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">ingredient</span><span class=\"o\">|</span>\n    <span class=\"nb\">print</span> <span class=\"s2\">\"Finding </span><span class=\"si\">#{</span><span class=\"n\">ingredient</span><span class=\"si\">}</span><span class=\"s2\">...\"</span>\n    <span class=\"nb\">sleep</span> <span class=\"mi\">1</span>\n    <span class=\"nb\">print</span> <span class=\"s2\">\" done!</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">options</span><span class=\"p\">[</span><span class=\"ss\">:directions</span><span class=\"p\">].</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">step</span><span class=\"o\">|</span>\n    <span class=\"nb\">print</span> <span class=\"s2\">\"Doing </span><span class=\"si\">#{</span><span class=\"n\">step</span><span class=\"si\">}</span><span class=\"s2\">...\"</span>\n    <span class=\"nb\">sleep</span> <span class=\"mi\">1</span>\n    <span class=\"nb\">print</span> <span class=\"s2\">\" done!</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n\n<span class=\"nb\">eval</span> <span class=\"no\">File</span><span class=\"p\">.</span><span class=\"nf\">read</span><span class=\"p\">(</span><span class=\"no\">ARGV</span><span class=\"p\">.</span><span class=\"nf\">first</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>So, this defines our missing method, takes in the file as an argument, reads the file as a string, and then evaluates the file with <code class=\"highlighter-rouge\">eval</code>. OK so the only thing I know about eval is that you probably should never use it because it’s dangerous af. But maybe this is the kind of context where it makes sense?</p>\n\n<hr />\n\n<p>I’m sure there are actually practical reasons to use custom-written programs in the shebangs of other custom-written programs and if you think of any please let me know.</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:1\">\n      <p>Unfortunately still don’t have a really solid understanding of the difference between those. <a href=\"#fnref:1\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:2\">\n      <p><code class=\"highlighter-rouge\">env</code> is available to use from the command line as well: try running <code class=\"highlighter-rouge\">env ruby -v</code> <a href=\"#fnref:2\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "12 Jan 2014",
        "title": "updating a jekyll/github blog from the iPad, or anywhere, without touching git",
        "url": "/2014/jekyll-api",
        "content": "<p><strong>UPDATE April 2015:</strong> Here’s a much, much better way to do it: <a href=\"http://www.hardscrabble.net/2015/how-to-jekyll-from-ios/\">http://www.hardscrabble.net/2015/how-to-jekyll-from-ios/</a></p>\n\n<p>First of all: if anyone subscribes to my RSS feed, I apologize for flooding it today with test posts as I futzed with this.</p>\n\n<p>Today I wrote my first <a href=\"http://omz-software.com/editorial/\">Editorial</a> workflow and also my first Python script. Fun day!</p>\n\n<p>Editorial is a power user text editor for the iPad. Before today I never really used it but I think I’ll use it more now.</p>\n\n<p>This project was inspired by  <a href=\"http://www.coreint.org/2013/12/episode-118-wrapping-up-2013/\">a recent episode of the tech podcast Core Intuition</a>. They were discussing blogging software. One of the hosts, Daniel Jalkutt, makes the Mac blogging app <a href=\"http://www.red-sweater.com/marsedit/\">MarsEdit</a>, and they’ve both been around long enough to have really interesting thoughts on the space. MarsEdit allows bloggers to post to most of the major blog systems but not static blogs like <a href=\"http://jekyllrb.com/\">Jekyll</a> (what I use for this blog), <a href=\"http://getpelican.com/\">Pelican</a>, <a href=\"http://octopress.org/\">Octopress</a> (which is built on Jekyll), <a href=\"http://roots.cx/\">Roots</a>,  or any number of other, similar projects.</p>\n\n<p>Which is understandable because those don’t really expose an API for it to integrate with. <em>But what if they did?</em> (haha)</p>\n\n<p>I’m going to step away from discussing the broader context of static blog tools and focus specifically on Jekyll blogs deployed to GitHub pages, which is the bulk of my experience.</p>\n\n<p>Here’s how I generally write and publish posts, before today:</p>\n\n<ul>\n  <li>clone or pull the git repo</li>\n  <li>use <a href=\"https://rubygems.org/gems/poole\">poole</a> to run <code class=\"highlighter-rouge\">poole draft \"Title Of Post\"</code>, which reates a new markdown file for me</li>\n  <li>use vim to write the post</li>\n  <li>serve the blog locally to make sure it looks right</li>\n  <li>when I’m done, run <code class=\"highlighter-rouge\">poole publish _drafts/title_of_post.md</code>, which moves the file into the <code class=\"highlighter-rouge\">_posts</code> directly and inserts the current time into the configuration at the top</li>\n  <li>use git to commit and push the post up to GitHub, which will re-compile the site using <code class=\"highlighter-rouge\">jekyll build</code></li>\n</ul>\n\n<p>I can do this easily on the computer and it’s pretty nice. I can do this on the iPad using <a href=\"http://panic.com/prompt/\">Prompt</a> to SSH into a DigitalOcean server and it’s <em>okay</em>. I can do the same on my iPod Touch and it’s kind of awkward and overly small.</p>\n\n<p>There are a few major advantages to having a static blog. To me, the main boon is the lack of a database. It’s definitely an advantage that there’s no server-side computation going on – the HTML is available to serve immediately after being requested – but maybe it’s a disadvantage that there’s no server-side API. In theory, a static blog API could do several things:</p>\n\n<ul>\n  <li>create posts</li>\n  <li>update posts</li>\n  <li>delete posts</li>\n  <li>render posts as JSON</li>\n</ul>\n\n<p>What I’ve created today only does the first thing. It’s pretty simple. It would need to do all of those, and probably much more I’m not currently imagining, to integrate with something like MarsEdit. But it’s enough to do something pretty cool: now I can write posts in Editorial on my iPad (I’m writing this one that way) which has a browser built-in for research and an embarrassment of possibilities for extensibility because it’s somehow snuck the Python scripting language into Apple’s walled garden.</p>\n\n<p>Here’s a demo video (sorry it’s so long):</p>\n\n<iframe src=\"//player.vimeo.com/video/83994673\" width=\"500\" height=\"281\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n<p><a href=\"http://vimeo.com/83994673\">Updating a Jekyll Blog with Editorial</a> from <a href=\"http://vimeo.com/maxjacobson\">Max Jacobson</a> on <a href=\"https://vimeo.com\">Vimeo</a>.</p>\n\n<p>Here’s the source of the Rails project that serves as a Jekyll API: <a href=\"https://github.com/maxjacobson/jekyll_api\">maxjacobson/jekyll_api</a>. Here’s <a href=\"http://editorial-app.appspot.com/workflow/5026138770374656/tRls0F7xb8s\">the Editorial workflow</a> which will currently only work for me, because I’m not sure the best way to share the source for something like this that’s not just a script, but a chain of macros and scripts.</p>\n\n<p>Actually, here’s the most-relevant chunk of the workflow, my first python script, somewhat out of context:</p>\n\n<div class=\"language-python highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c\">#coding: utf-8</span>\n<span class=\"kn\">import</span> <span class=\"nn\">workflow</span><span class=\"o\">,</span> <span class=\"nn\">requests</span>\n\n<span class=\"n\">script_params</span> <span class=\"o\">=</span> <span class=\"n\">workflow</span><span class=\"o\">.</span><span class=\"n\">get_parameters</span><span class=\"p\">()</span>\n\n<span class=\"n\">auth_token</span> <span class=\"o\">=</span> <span class=\"n\">script_params</span><span class=\"p\">[</span><span class=\"s\">\"auth_token\"</span><span class=\"p\">]</span>\n<span class=\"n\">blog_id</span> <span class=\"o\">=</span> <span class=\"n\">script_params</span><span class=\"p\">[</span><span class=\"s\">\"blog_id\"</span><span class=\"p\">]</span>\n\n<span class=\"n\">post_slug</span> <span class=\"o\">=</span> <span class=\"n\">workflow</span><span class=\"o\">.</span><span class=\"n\">get_variable</span><span class=\"p\">(</span><span class=\"s\">\"slug\"</span><span class=\"p\">)</span>\n<span class=\"n\">post_text</span> <span class=\"o\">=</span> <span class=\"n\">workflow</span><span class=\"o\">.</span><span class=\"n\">get_variable</span><span class=\"p\">(</span><span class=\"s\">\"text\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">params</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"s\">'auth_token'</span><span class=\"p\">:</span> <span class=\"n\">auth_token</span><span class=\"p\">,</span>\n  <span class=\"s\">'post[slug]'</span><span class=\"p\">:</span> <span class=\"n\">post_slug</span><span class=\"p\">,</span>\n  <span class=\"s\">'post[text]'</span><span class=\"p\">:</span> <span class=\"n\">post_text</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span><span class=\"s\">\"http://pairwith.maxjacobson.net:3000/blogs/\"</span> <span class=\"o\">+</span> <span class=\"n\">blog_id</span> <span class=\"o\">+</span> <span class=\"s\">\"/publish\"</span><span class=\"p\">,</span> <span class=\"n\">params</span><span class=\"o\">=</span><span class=\"n\">params</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">status_code</span> <span class=\"o\">==</span> <span class=\"mi\">200</span><span class=\"p\">:</span>\n  <span class=\"n\">workflow</span><span class=\"o\">.</span><span class=\"n\">set_output</span><span class=\"p\">(</span><span class=\"s\">\"Successfully posted\"</span><span class=\"p\">)</span>\n<span class=\"k\">else</span><span class=\"p\">:</span>\n  <span class=\"n\">workflow</span><span class=\"o\">.</span><span class=\"n\">set_output</span><span class=\"p\">(</span><span class=\"s\">\"Something went wrong\"</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>As I mention in the video, <em>in theory</em> I can deploy this app to an actual production environment (note the weird URL if you like) and allow other people to use it. I probably won’t.</p>\n\n<p>Alright now I’m going to press “Post”. I’m kind of nervous! Wish me lu</p>\n"
      }
      
        ,
      
    
      {
        "date": "11 Jan 2014",
        "title": "Didn't Ricky Gervais get in trouble for saying that? On MongoDB",
        "url": "/2014/didnt-ricky-gervais-get-in-trouble-for-saying-that-on-mongodb",
        "content": "<p>Remember when Ricky Gervais got in trouble for using the word “Mong” a lot to mean “stupid” and a lot of people were mad at him because it’s an offensive thing to say? Anyway, I’ve been using MongoDB and Mongoid at work and I sometimes worry that the very name is kind of rude, but other than that I mostly like it.</p>\n\n<p>My only database experience prior to this was with personal / school projects exclusively using SQLite3 and mostly with ActiveRecord as the interface to that database. Not coincidentally, this is the default Rails stack.</p>\n\n<p>I want to make a simple rails project, a To Do List app becase duh, <strong>twice</strong>, once with ActiveRecord and once with Mongoid, and just see what kind of observations I have. OK I’m going to do that now. I’m going to use Rails 4.0.2.</p>\n\n<h2 id=\"first-with-activerecord\">First, with ActiveRecord</h2>\n\n<p>Getting started by running these commands:</p>\n\n<ul>\n  <li><code class=\"highlighter-rouge\">gem install rails</code> – install the latest version of the Ruby on Rails gem</li>\n  <li><code class=\"highlighter-rouge\">rails new todo_list</code> – create a new rails project called “todo_list”</li>\n  <li><code class=\"highlighter-rouge\">cd todo_list</code> – change directories into that new project’s folder</li>\n  <li><code class=\"highlighter-rouge\">bin/rails generate model category name:string</code></li>\n  <li><code class=\"highlighter-rouge\">bin/rails generate model task name:string complete:boolean category_id:integer</code></li>\n  <li><code class=\"highlighter-rouge\">bin/rake db:migrate</code> – to create a database “db/development.sqlite3” and update its schema. We’ll come back to this when we talk about Mongoid because it’s <em>way</em> different.</li>\n</ul>\n\n<p>Then editing my freshly generated models to look like so:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># app/models/task.rb</span>\n<span class=\"k\">class</span> <span class=\"nc\">Task</span> <span class=\"o\">&lt;</span> <span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Base</span>\n  <span class=\"n\">belongs_to</span> <span class=\"ss\">:category</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>and</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># app/models/category.rb</span>\n<span class=\"k\">class</span> <span class=\"nc\">Category</span> <span class=\"o\">&lt;</span> <span class=\"no\">ActiveRecord</span><span class=\"o\">::</span><span class=\"no\">Base</span>\n  <span class=\"n\">has_many</span> <span class=\"ss\">:tasks</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>That should be enough that we can now run <code class=\"highlighter-rouge\">bin/rails console</code> and create some data:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># we're in the rails console now</span>\n<span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"no\">Category</span><span class=\"p\">.</span><span class=\"nf\">new</span> <span class=\"c1\">#=&gt; #&lt;Category id: nil, name: nil, created_at: nil, updated_at: nil&gt;</span>\n<span class=\"n\">c</span><span class=\"p\">.</span><span class=\"nf\">name</span> <span class=\"o\">=</span> <span class=\"s2\">\"Things to buy\"</span> <span class=\"c1\">#=&gt; \"Things to buy\"</span>\n<span class=\"n\">c</span><span class=\"p\">.</span><span class=\"nf\">save</span> <span class=\"c1\">#=&gt; true</span>\n<span class=\"n\">c</span> <span class=\"c1\">#=&gt; #&lt;Category id: 1, name: \"Things to buy\", created_at: \"2014-01-11 22:10:47\", updated_at: \"2014-01-11 22:10:47\"&gt;</span>\n<span class=\"n\">c</span><span class=\"p\">.</span><span class=\"nf\">tasks</span> <span class=\"c1\">#=&gt; #&lt;ActiveRecord::Associations::CollectionProxy []&gt;</span>\n<span class=\"n\">c</span><span class=\"p\">.</span><span class=\"nf\">tasks</span><span class=\"p\">.</span><span class=\"nf\">build</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"s2\">\"Buy some spinach\"</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; #&lt;Task id: nil, name: \"Buy some spinach\", complete: nil, category_id: 1, created_at: nil, updated_at: nil&gt;</span>\n<span class=\"no\">Task</span><span class=\"p\">.</span><span class=\"nf\">count</span> <span class=\"c1\">#=&gt; 0</span>\n<span class=\"n\">c</span><span class=\"p\">.</span><span class=\"nf\">save</span> <span class=\"c1\">#=&gt; true</span>\n<span class=\"no\">Task</span><span class=\"p\">.</span><span class=\"nf\">count</span> <span class=\"c1\">#=&gt; 1</span>\n<span class=\"n\">c</span><span class=\"p\">.</span><span class=\"nf\">tasks</span> <span class=\"c1\">#=&gt; #&lt;ActiveRecord::Associations::CollectionProxy [#&lt;Task id: 1, name: \"Buy some spinach\", complete: nil, category_id: 1, created_at: \"2014-01-11 22:22:24\", updated_at: \"2014-01-11 22:22:24\"&gt;]&gt;</span>\n<span class=\"no\">Task</span><span class=\"p\">.</span><span class=\"nf\">all</span><span class=\"p\">.</span><span class=\"nf\">class</span> <span class=\"c1\">#=&gt; ActiveRecord::Relation::ActiveRecord_Relation_Task</span>\n</code></pre>\n</div>\n\n<p>So that whole way works fine. It’s nice.</p>\n\n<h2 id=\"again-with-mongoid\">Again, with Mongoid</h2>\n\n<p>The <a href=\"http://mongoid.org/en/mongoid/docs/installation.html#prerequisites\">Mongoid Installation page</a> is kind of intimidating:</p>\n\n<blockquote>\n  <p>There are a few things you need to have in your toolbox before tackling a web application using Mongoid.</p>\n\n  <ul>\n    <li>A good to advanced knowledge of Ruby.</li>\n    <li>Have good knowledge of your web framework if using one.</li>\n    <li>A thorough understanding of MongoDB.</li>\n  </ul>\n\n  <p>This may seem like a “thank you Captain Obvious” moment, however if you believe that you can just hop over to Mongoid because you read a blog post on how cool Ruby and MongoDB were, you are in for a world of pain.</p>\n\n  <p>Mongoid leverages many aspects of the Ruby programming language that are not for beginner use, and sending the core team into a frenzy tracking down a bug for a common Ruby mistake is a waste of our time, and all of the other users of the framework as well.</p>\n</blockquote>\n\n<p>When I started using MongoDB I was kind of freaked because it promised to be so different. But honestly it’s not that different. In a SQL database you need to write your queries using SQL, right? That stuff is so hard to write and inscrutable to read, at least for this blogger. MongoDB queries are written in JavaScript. That’s a major upgrade in my book, even if it were otherwise the same underlying technology. And then, if you’re using Mongoid, you can make another great upgrade by writing your queries in Ruby.</p>\n\n<p>Of the three prerequisite bullet points listed on that page, I think I only disagree with the third one. If you’re completely unfamiliar with MongoDB but fairly familiar with Rails, Ruby, and ActiveRecord I think you can make the leap. That’s what I did. I started out by using Mongoid as if it were ActiveRecord, which is mostly totally possible. Then you can keep exploring the docs and branch out if you want.</p>\n\n<p>One <em>setup</em> prerequisite is that you have MongoDB installed on your system. I think I have it on my laptop. I actually have no idea if I have it. Let’s find out.</p>\n\n<p>Getting started by running these commands:</p>\n\n<ul>\n  <li><code class=\"highlighter-rouge\">gem install rails</code> – install the latest version of the Ruby on Rails gem</li>\n  <li><code class=\"highlighter-rouge\">rails new todo_list --skip-active-record</code> – create a new rails project called “todo_list” <em>without</em> ActiveRecord<sup id=\"fnref:confession\"><a href=\"#fn:confession\" class=\"footnote\">1</a></sup></li>\n  <li><code class=\"highlighter-rouge\">cd todo_list</code> – change directories into that new project’s folder</li>\n</ul>\n\n<p>Now, before I generate my models I need to indicate that this project is going to use Mongoid. To do this I’m going to add the following to my Gemfile:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># Use MongoDB as the database</span>\n<span class=\"n\">gem</span> <span class=\"s2\">\"mongoid\"</span><span class=\"p\">,</span> <span class=\"s2\">\"4.0.0.alpha2\"</span>\n</code></pre>\n</div>\n\n<p>I’m using the alpha version of Mongoid 4 because… well, I’m sticking with the basics, so why not?</p>\n\n<p>Now let’s continue with these commands:</p>\n\n<ul>\n  <li><code class=\"highlighter-rouge\">bundle install</code> – fetch the Mongoid code from RubyGems for our project</li>\n  <li><code class=\"highlighter-rouge\">bin/rails generate mongoid:config</code> – create a configuration file; this generator didn’t exist a moment ago, I think that’s cool</li>\n  <li><code class=\"highlighter-rouge\">bin/rails generate model category name:string --timestamps</code> – create the category model; <em>almost</em> exactly the same command as before, but using a new Mongoid generator, which doesn’t include created and updated timestamps by default</li>\n  <li><code class=\"highlighter-rouge\">bin/rails generate model task name:string complete:boolean --timestamps</code> – create the task model</li>\n</ul>\n\n<p>This is the step in the ActiveRecord version where we ran <code class=\"highlighter-rouge\">bin/rake db:migrate</code>. We don’t have to do that now. No migration files have been created. The database is flexible. How does that make you feel? If that sounds totally awesome, MongoDB might be for you. If that <a href=\"https://twitter.com/jcoglan/status/419164746663731202\">freaks</a> you <a href=\"https://twitter.com/jcoglan/status/419165559452749825\">out</a>, probably not.</p>\n\n<p>Let’s take a look at the model files that were just created for us:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># app/models/task.rb</span>\n<span class=\"k\">class</span> <span class=\"nc\">Task</span>\n  <span class=\"kp\">include</span> <span class=\"no\">Mongoid</span><span class=\"o\">::</span><span class=\"no\">Document</span>\n  <span class=\"kp\">include</span> <span class=\"no\">Mongoid</span><span class=\"o\">::</span><span class=\"no\">Timestamps</span>\n  <span class=\"n\">field</span> <span class=\"ss\">:name</span><span class=\"p\">,</span> <span class=\"ss\">type: </span><span class=\"no\">String</span>\n  <span class=\"n\">field</span> <span class=\"ss\">:complete</span><span class=\"p\">,</span> <span class=\"ss\">type: </span><span class=\"no\">Mongoid</span><span class=\"o\">::</span><span class=\"no\">Boolean</span>\n  <span class=\"n\">belongs_to</span> <span class=\"ss\">:category</span> <span class=\"c1\"># actually this line isn't from the generator, I just added it</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>And:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># app/models/category.rb</span>\n<span class=\"k\">class</span> <span class=\"nc\">Category</span>\n  <span class=\"kp\">include</span> <span class=\"no\">Mongoid</span><span class=\"o\">::</span><span class=\"no\">Document</span>\n  <span class=\"kp\">include</span> <span class=\"no\">Mongoid</span><span class=\"o\">::</span><span class=\"no\">Timestamps</span>\n  <span class=\"n\">field</span> <span class=\"ss\">:name</span><span class=\"p\">,</span> <span class=\"ss\">type: </span><span class=\"no\">String</span>\n  <span class=\"n\">has_many</span> <span class=\"ss\">:tasks</span> <span class=\"c1\"># same as the belongs_to above</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>First kind of interesting difference: instead of your models inheriting functionality from ActiveRecord via subclassing, our models now <code class=\"highlighter-rouge\">include</code> functionality from the <code class=\"highlighter-rouge\">Mongoid::Document</code> module. Among other things, this gives the class a <code class=\"highlighter-rouge\">field</code> method. We use this to define the attributes that this model should have. Unlike ActiveRecord models, which know the attributes they can have by introspecting on their corresponding table in the database<sup id=\"fnref:introspective\"><a href=\"#fn:introspective\" class=\"footnote\">2</a></sup>, Mongoid models typically have a list right in the class definition of the name and type of its attributes. Later, when we call <code class=\"highlighter-rouge\">category.name = \"Homework\"</code>, Mongoid is dynamically figuring out what we mean based on our list of fields; it gives categories a <code class=\"highlighter-rouge\">name=</code> and <code class=\"highlighter-rouge\">name</code> method. This centralization appeals to me on an organizational level.</p>\n\n<p>And an interesting similarity: <code class=\"highlighter-rouge\">has_many</code> and <code class=\"highlighter-rouge\">belongs_to</code> work pretty much exactly the same way. If you’re used to thinking relationally, you can use that here too.</p>\n\n<p>So let’s try to create some data and see how that goes. Into the <code class=\"highlighter-rouge\">bin/rails console</code> let’s go.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">category</span> <span class=\"o\">=</span> <span class=\"no\">Category</span><span class=\"p\">.</span><span class=\"nf\">new</span> <span class=\"c1\">#=&gt; #&lt;Category _id: 52d1d2036d61633a9b000000, created_at: nil, updated_at: nil, name: nil&gt;</span>\n<span class=\"n\">category</span><span class=\"p\">.</span><span class=\"nf\">name</span> <span class=\"o\">=</span> <span class=\"s2\">\"Homework\"</span> <span class=\"c1\">#=&gt; \"Homework\"</span>\n<span class=\"n\">category</span><span class=\"p\">.</span><span class=\"nf\">save</span> <span class=\"c1\">#=&gt; true</span>\n<span class=\"n\">category</span><span class=\"p\">.</span><span class=\"nf\">_id</span> <span class=\"c1\">#=&gt; BSON::ObjectId('52d1d29c6d61633b1b000000')</span>\n<span class=\"n\">category</span><span class=\"p\">.</span><span class=\"nf\">id</span> <span class=\"c1\">#=&gt; BSON::ObjectId('52d1d29c6d61633b1b000000')</span>\n<span class=\"n\">category</span><span class=\"p\">.</span><span class=\"nf\">tasks</span> <span class=\"c1\">#=&gt; []</span>\n<span class=\"n\">category</span><span class=\"p\">.</span><span class=\"nf\">tasks</span><span class=\"p\">.</span><span class=\"nf\">class</span> <span class=\"c1\">#=&gt; Mongoid::Relations::Targets::Enumerable</span>\n<span class=\"n\">category</span><span class=\"p\">.</span><span class=\"nf\">tasks</span><span class=\"p\">.</span><span class=\"nf\">build</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"s2\">\"Study Mongoid\"</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; #&lt;Task _id: 52d1d62d6d61633c05000000, created_at: nil, updated_at: nil, name: \"Study Mongoid\", complete: nil, category_id: BSON::ObjectId('52d1d29c6d61633b1b000000')&gt;</span>\n<span class=\"no\">Task</span><span class=\"p\">.</span><span class=\"nf\">count</span> <span class=\"c1\">#=&gt; 0</span>\n<span class=\"n\">category</span><span class=\"p\">.</span><span class=\"nf\">save</span> <span class=\"c1\">#=&gt; true</span>\n<span class=\"no\">Task</span><span class=\"p\">.</span><span class=\"nf\">count</span> <span class=\"c1\">#=&gt; 0</span>\n<span class=\"n\">category</span><span class=\"p\">.</span><span class=\"nf\">tasks</span><span class=\"p\">.</span><span class=\"nf\">last</span><span class=\"p\">.</span><span class=\"nf\">save</span> <span class=\"c1\">#=&gt; true</span>\n<span class=\"no\">Task</span><span class=\"p\">.</span><span class=\"nf\">count</span> <span class=\"c1\">#=&gt; 1</span>\n<span class=\"n\">category</span><span class=\"p\">.</span><span class=\"nf\">tasks</span><span class=\"p\">.</span><span class=\"nf\">create</span><span class=\"p\">(</span><span class=\"ss\">name: </span><span class=\"s2\">\"Study Rails 4\"</span><span class=\"p\">)</span> <span class=\"c1\">#=&gt; #&lt;Task _id: 52d1d8596d61633cba040000, created_at: 2014-01-11 23:48:41 UTC, updated_at: 2014-01-11 23:48:41 UTC, name: \"Study Rails 4\", complete: nil, category_id: BSON::ObjectId('52d1d7696d61633cba010000')&gt;</span>\n<span class=\"no\">Task</span><span class=\"p\">.</span><span class=\"nf\">count</span> <span class=\"c1\">#=&gt; 2</span>\n<span class=\"no\">Task</span><span class=\"p\">.</span><span class=\"nf\">all</span><span class=\"p\">.</span><span class=\"nf\">class</span> <span class=\"c1\">#=&gt; Mongoid::Criteria</span>\n</code></pre>\n</div>\n\n<p>First of all: I guess I did have MongoDB installed and running on my system, who knew?</p>\n\n<p>OK so <em>functionally</em> it’s almost exactly the same right? But there are some interesting differences:</p>\n\n<ul>\n  <li>the unique id attribute is now called <code class=\"highlighter-rouge\">_id</code> instead of <code class=\"highlighter-rouge\">id</code> (this comes from MongoDB, not Mongoid, though Mongoid helpfully aliases <code class=\"highlighter-rouge\">id</code> to <code class=\"highlighter-rouge\">_id</code> in case you forget) and is totally long and weird looking</li>\n  <li>that thing where queries are assembled and chainable and not invoked until the last moment is called a “Criteria” and not a “Relation”</li>\n</ul>\n\n<p>These two Rails apps are available here: <a href=\"https://github.com/hardscrabble/comparing_mongoid_and_active_record\">https://github.com/hardscrabble/comparing_mongoid_and_active_record</a></p>\n\n<p>This is a really brief introduction to the basics of Mongoid. I want to dig in more. My laptop battery is at 6%. More to come.</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:confession\">\n      <p>Confession: On my first attempt at this I skipped this flag and it created the application <em>with</em> ActiveRecord and I was trying to replace it and then I was like, hmm, maybe there’s a better way to do this. Unfortunately, there’s no <code class=\"highlighter-rouge\">rails new --database=mongodb</code> like there’s a <code class=\"highlighter-rouge\">rails new --database=postgresql</code>, among others <a href=\"#fnref:confession\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:introspective\">\n      <p>probably my favorite phrase I learned at Flatiron School was “introspecting on the database” <a href=\"#fnref:introspective\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "06 Jan 2014",
        "title": "New Year's Resolutions",
        "url": "/2014/new-years-resolutions",
        "content": "<p>Last year was good. I think I resolved to take programming seriously. I went to The Flatiron School and now I’m working at CipherHealth. I’ve learned a shit load and had a lot of fun.</p>\n\n<h2 id=\"things-i-want-to-learn-in-2014\">Things I want to learn in 2014</h2>\n\n<ul>\n  <li>Objective-C / iOS programming</li>\n  <li>Ember.js</li>\n  <li>Node.js</li>\n  <li>What the fuck a javascript promise is</li>\n  <li>How the hell source maps work</li>\n  <li>BASIC MUSIC PLAYING</li>\n  <li>How the health care industry works</li>\n  <li>VimScript</li>\n</ul>\n\n<h2 id=\"things-i-want-to-make-in-2014\">Things I want to make in 2014</h2>\n\n<ul>\n  <li>A <a href=\"http://fountain.io\">Fountain</a> parser in Ruby (WIP <a href=\"https://github.com/maxjacobson/smashcut\">maxjacobson/smashcut</a>)</li>\n  <li>A country-guessing game (WIP <a href=\"https://github.com/maxjacobson/mapquest/\">maxjacobson/mapquest</a>)</li>\n  <li>A contribution to <a href=\"https://github.com/prawnpdf/prawn\">prawnpdf/prawn</a></li>\n</ul>\n\n<h2 id=\"things-i-want-to-do-in-2014\">Things I want to do in 2014</h2>\n\n<ul>\n  <li>Move back to NYC</li>\n  <li>Write a god damn poem</li>\n</ul>\n\n<h2 id=\"things-i-want-to-read-in-2014\">Things I want to read (in 2014)</h2>\n\n<ul>\n  <li>Less Twitter</li>\n  <li>Infinite Jest I guess?</li>\n</ul>\n"
      }
      
        ,
      
    
      {
        "date": "27 Dec 2013",
        "title": "sidenotes",
        "url": "/2013/sidenotes",
        "content": "<p><strong>EDIT April 2015</strong>: I took it off the site because it was kind of bad :smile:</p>\n\n<h3 id=\"background\">background</h3>\n\n<p>There’s a hubbub<sup id=\"fnref:hubbub\"><a href=\"#fn:hubbub\" class=\"footnote\">1</a></sup> going around about a fun plugin for popover footnotes called Bigfoot.</p>\n\n<p>I think it’s cool. I definitely prefer that reading experience.</p>\n\n<h3 id=\"this-new-thing\">this new thing</h3>\n\n<p>Some people on Twitter said they prefer Grantland’s sidenotes, except for their behavior on mobile, where they basically don’t work. They imagined a solution that involves swiping/dragging, and <a href=\"https://twitter.com/RagingTBolt/statuses/416606618197843969\">enlisted me</a> to work on it.</p>\n\n<p>I’m not sure how to capture that kind of touch event and I’m curious to find out I guess.</p>\n\n<p>I’m starting by recreating Grantland’s sidenotes, and then I’m going to go watch The Hobbit with my dad.</p>\n\n<p>One thing that’s cool about the popular plugin is that it’s easy to drop in and use. What I’ve added to my site isn’t, because it makes assumptions about the structure of your HTML layout. I bet it could be abstracted in a way that’s broadly usable but I’m not sure how. Happy to take input on that!<sup id=\"fnref:opensource\"><a href=\"#fn:opensource\" class=\"footnote\">2</a></sup></p>\n\n<h3 id=\"assumptions-it-makes\">assumptions it makes</h3>\n\n<p>Here are the assumptions I’m currently making:</p>\n\n<p>That your HTML layout looks something like this:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"post\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"body\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"sidenotes\"</span><span class=\"nt\">&gt;&lt;ol&gt;&lt;/ol&gt;&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"clearfix\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</code></pre>\n</div>\n\n<p>And your CSS (<a href=\"http://sass-lang.com/\">Sass</a> here) looks something like this:</p>\n\n<div class=\"language-sass highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nc\">.post</span>\n  <span class=\"nc\">.body</span>\n    <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">70%</span>\n    <span class=\"nl\">float</span><span class=\"p\">:</span> <span class=\"nb\">left</span>\n  <span class=\"nc\">.sidenotes</span>\n    <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">25%</span>\n    <span class=\"nl\">float</span><span class=\"p\">:</span> <span class=\"nb\">left</span>\n  <span class=\"nc\">.clearfix</span>\n    <span class=\"nl\">clear</span><span class=\"p\">:</span> <span class=\"nb\">both</span>\n</code></pre>\n</div>\n\n<p>I’m also assuming that your footnotes look a lot like the ones generated by my favored markdown-to-html processor, <a href=\"http://kramdown.gettalong.org/\">kramdown</a>, which … I have <em>no</em> idea if that’ll be a dealbreaker for interoperablity.</p>\n\n<p>Here’s what the code looks like<sup id=\"fnref:nostalgia\"><a href=\"#fn:nostalgia\" class=\"footnote\">3</a></sup>:</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">$</span> <span class=\"o\">-&gt;</span>\n  <span class=\"c1\"># grab the sidenotes divs</span>\n  <span class=\"nx\">$sidenotes_container</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s\">\".sidenotes\"</span><span class=\"p\">)</span>\n\n  <span class=\"c1\"># grab the sidenotes list</span>\n  <span class=\"nx\">$sidenotes</span> <span class=\"o\">=</span> <span class=\"nx\">$sidenotes_container</span><span class=\"p\">.</span><span class=\"na\">find</span> <span class=\"s\">\"ol\"</span>\n\n  <span class=\"c1\"># iterate over the footnotes at the bottom of the post</span>\n  <span class=\"c1\"># and work some magic on them</span>\n  <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s\">\".footnotes li\"</span><span class=\"p\">).</span><span class=\"na\">each</span> <span class=\"p\">(</span><span class=\"nx\">index</span><span class=\"p\">,</span> <span class=\"nx\">item</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span>\n    <span class=\"c1\"># wrap the footnote in a jQuery object</span>\n    <span class=\"nx\">$footnote</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">item</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># move the footnote from the bottom to the right</span>\n    <span class=\"nx\">$footnote</span><span class=\"p\">.</span><span class=\"na\">remove</span><span class=\"p\">().</span><span class=\"na\">appendTo</span> <span class=\"nx\">$sidenotes</span>\n\n    <span class=\"c1\"># remove the little arrow that links back to the source</span>\n    <span class=\"nx\">$footnote</span><span class=\"p\">.</span><span class=\"na\">find</span><span class=\"p\">(</span><span class=\"s\">\".reversefootnote\"</span><span class=\"p\">).</span><span class=\"na\">remove</span><span class=\"p\">()</span>\n\n    <span class=\"c1\"># find the source link from within the body of the post</span>\n    <span class=\"nx\">$source</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s\">\".footnote\"</span><span class=\"p\">).</span><span class=\"na\">eq</span><span class=\"p\">(</span><span class=\"nx\">index</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># grab the previous sidenote, if there is one</span>\n    <span class=\"nx\">$previous_sidenote</span> <span class=\"o\">=</span> <span class=\"nx\">$footnote</span><span class=\"p\">.</span><span class=\"na\">prev</span><span class=\"p\">()</span>\n    <span class=\"nx\">$previous_sidenote</span> <span class=\"o\">=</span> <span class=\"k\">if</span> <span class=\"nx\">$previous_sidenote</span><span class=\"p\">.</span><span class=\"na\">length</span> <span class=\"k\">then</span> <span class=\"nx\">$previous_sidenote</span> <span class=\"k\">else</span> <span class=\"no\">undefined</span>\n\n    <span class=\"c1\"># let's set the vertical position of the current sidenote</span>\n    <span class=\"c1\"># if the previous one is kind of long, we need to push this one down</span>\n    <span class=\"c1\"># if not, it should be aligned with the source link</span>\n    <span class=\"nx\">$footnote</span><span class=\"p\">.</span><span class=\"na\">offset</span> <span class=\"o\">-&gt;</span>\n      <span class=\"nx\">aligned_top</span> <span class=\"o\">=</span> <span class=\"nx\">$source</span><span class=\"p\">.</span><span class=\"na\">offset</span><span class=\"p\">().</span><span class=\"na\">top</span>\n      <span class=\"k\">if</span> <span class=\"nx\">$previous_sidenote</span><span class=\"o\">?</span> <span class=\"o\">and</span> <span class=\"nx\">$previous_sidenote</span><span class=\"p\">.</span><span class=\"na\">offset</span><span class=\"p\">().</span><span class=\"na\">top</span> <span class=\"o\">+</span> <span class=\"nx\">$previous_sidenote</span><span class=\"p\">.</span><span class=\"na\">height</span><span class=\"p\">()</span> <span class=\"o\">&gt;=</span> <span class=\"nx\">aligned_top</span>\n        <span class=\"na\">top</span><span class=\"o\">:</span> <span class=\"nx\">$previous_sidenote</span><span class=\"p\">.</span><span class=\"na\">offset</span><span class=\"p\">().</span><span class=\"na\">top</span> <span class=\"o\">+</span> <span class=\"nx\">$previous_sidenote</span><span class=\"p\">.</span><span class=\"na\">height</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"mi\">5</span>\n      <span class=\"k\">else</span>\n        <span class=\"na\">top</span><span class=\"o\">:</span> <span class=\"nx\">aligned_top</span>\n</code></pre>\n</div>\n\n<h3 id=\"gripes--todos\">gripes / todos</h3>\n\n<ul>\n  <li>looks bad on mobile, and when resizing the windows. Should have some responsiveness, possibly including that swiping thing @smarterbits imagined</li>\n  <li>when you click a footnote link, nothing seems to happen. maybe the related sidenote should pulse briefly to attract the eye</li>\n  <li>I don’t like how posts without sidenotes kind of look unbalanced now. This makes me want to have at least one footnote per post? Weird.</li>\n  <li>vertical positions are screwed up when a post includes an embedded tweet, because the tweet’s height grows as Twitter’s JavaScript reformats the HTML from a vanilla blockquote to a whole thing, by which time my code has already set a height for all the sidenotes</li>\n</ul>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:hubbub\">\n      <p>I noticed it linked by <a href=\"http://www.leancrew.com/all-this/2013/12/tweaking-bigfoot-footnotes/\">Dr. Drang</a>, who praised it for being “webby”, and <a href=\"http://www.marco.org/2013/12/15/bigfoot\">Marco Arment</a> who praised it for being like Instapaper. <a href=\"#fnref:hubbub\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:opensource\">\n      <p>truthfully I’m eager to make some kind of open source thing that people use and collaboratively improve. <a href=\"#fnref:opensource\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:nostalgia\">\n      <p>I’m archiving it and not linking to the source either here or on GitHub because it’s very liable to change and I want to archive its current state for reference or more likely nostalgia. Actually, I <em>could</em> link to the sidenotes.coffee file as it was at <em>this specific commit</em>, but I haven’t pushed it yet. I was planning to push the footnotes changes <em>and</em> this post, together, but now I want to push the changes first. OK I did. If you prefer GitHub’s syntax highlighting, the file is <a href=\"https://github.com/hardscrabble/hardscrabble.github.io/blob/aba3d7fe860880cf9bd1ae93b16652b11b5d5177/_coffee/sidenotes.coffee\">here</a>. If you prefer the compiled JavaScript, it’s <a href=\"https://github.com/hardscrabble/hardscrabble.github.io/blob/aba3d7fe860880cf9bd1ae93b16652b11b5d5177/js/sidenotes.js\">here</a>. OK, now I can safely remove this sidenotes nonsense later on when I grow tired of it. <a href=\"#fnref:nostalgia\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "09 Dec 2013",
        "title": "iBooks for Mavericks",
        "url": "/2013/ibooks-for-mavericks",
        "content": "<p>OS X 10.9 Mavericks brought us an awesome eBook reader for the desktop in iBooks. Since updating, I’ve gotten into the idea of keeping and managing a library of digital books on my computer, mostly in the open ePub format. I get these books from the excellent <a href=\"http://www.gutenberg.org/ebooks/search/%3Fsort_order%3Ddownloads\">Project Gutenberg</a> and publishers like <a href=\"http://manning.com\">Manning Publications</a> (which has taken a bunch of my money recently due to its generous holiday sales).</p>\n\n<p>I really love being able to keep and read books on my desktop. And it’s cool that they sync to iOS devices, pretty similarly to how iTunes syncs your music. This was possible before Mavericks, but it was all baked into iTunes, and it’s much better as a standalone app. I’d like to see Apple move further in this direction of breaking iTunes down into modules, maybe even introducing some kind of standalone syncing app so iTunes can really just be for managing and playing music, as it semantically desires to be.</p>\n\n<p>Though it introduces the major, terrific feature of ePub rendering, iBooks unfortunately removed several features that its iTunes-embedded predecessor had, such as the ability to edit metadata and also, peevishly, the ability to right click and reveal the files on disk.</p>\n\n<p>Another unfortunate negative to the app is it’s kind of terrible at organizing your books in any way except one flat list, sorted by most-recently-read or title. It offers these categories by default “Purchased”, which refers only to books purchased through Apple’s iBooks store and not the several books I purchased from other sellers, “Books” which refers to files in the ePub format exclusively with no regard to whether they even are books, and “PDFs” which refers to files in the PDF format even if they’re books.</p>\n\n<p>There is some preliminary support for categorization in the ability to add files to “collections”, which removes them from their default category of “Books” or “PDFs”, as though they stop being those things.</p>\n\n<p>A file can only be in one collection.</p>\n\n<p>I think it’s impossible to delete collections, which is kind of too bad because I just clicked the lower-left “+” button 10 times.</p>\n\n<p><img src=\"/img/2013-12-09-ibooks-collections.png\" alt=\"My many iBooks collections\" /></p>\n\n<p>Once a book is in a collection, right clicking it gives you the option to “Delete” it, which actually doesn’t delete it, it returns it from the collection into either “Books” or “PDFs” (from where they can be removed from the app entirely). Books which you’ve purchased from the iBooks Store but haven’t downloaded don’t have the “Delete” option, but they <em>do</em> have the “Add to Collection” option, so I don’t think I can move this back out of my collections:</p>\n\n<p><img src=\"/img/2013-12-09-forever-collected.png\" alt=\"This books is forevermore collected\" /></p>\n\n<p>Actually it’s only true that you can (easily) remove books from “Books” and “PDFs” if they weren’t purchased from the iBooks store. Good luck deleting a book you bought from the iBooks store. It’s kind of possible but not really.</p>\n\n<p>Moving a PDF and an ePub into the same collection seems to be the only way to get them to mix, which is the only reason I can think of to use collections. Unfortunately PDFs are second-class citizens because reading them kicks you over to Preview, which means you have to wait for Preview to open.</p>\n\n<p>Right clicking a book also offers “Share”, an empty dropright menu.</p>\n\n<p>Those filtering buttons along the top are permanently grey and unclickable for me?</p>\n\n<p>Anyway I really like iBooks because I’m excited about reading ePubs on my Mac.</p>\n"
      }
      
        ,
      
    
      {
        "date": "08 Dec 2013",
        "title": "Has Chris Pratt Been Enchanted?",
        "url": "/2013/has-chris-pratt-been-enchanted",
        "content": "<p>I can’t think of Chris Pratt, the very funny actor who plays Andy on <em>Parks and Rec</em>, without thinking about this tweet, by that show’s creator, Mike Schur:</p>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>If <a href=\"https://twitter.com/prattprattpratt\">@prattprattpratt</a> were a stock, he&#39;d be Apple in 2002.</p>&mdash; Ken Tremendous (@KenTremendous) <a href=\"https://twitter.com/KenTremendous/statuses/298898520969207808\">February 5, 2013</a></blockquote>\n\n<p>This tweet accompanied the news that Pratt was cast in the lead role of Marvel’s upcoming, probably huge superhero movie <a href=\"http://en.wikipedia.org/wiki/Guardians_of_the_Galaxy_%28film%29\"><em>Guardians of the Galaxy</em></a>. Obviously Schur has some bias, being friends and colleagues with the guy, but I can’t help but agree. I think Chris Pratt has been enchanted.</p>\n\n<p>Andy wasn’t supposed to be a regular on <em>Parks and Rec</em> but they kept him.</p>\n\n<p>He’s like, really funny on Twitter.</p>\n\n<p>He’s married to Anna Farris and they seem really happy.</p>\n\n<p>He apparently has <a href=\"http://www.youtube.com/watch?v=koJeoS6pPyM\">no</a> <a href=\"http://instagram.com/p/bdD2lCDHHx/#\">trouble</a> losing weight and becoming muscular in a cinematic way.</p>\n\n<p>No like, really, Hollywood is happy to cast him as the funny guy, one of the guys in Oscar-bait like <em>Zero Dark Thirty</em>.</p>\n\n<p>Who is Chris Pratt? There seems to be no undercurrent of anxiety like drives some artists, he’s too busy soliciting his fans to tell him the best moment in their life, and dishing out positive affirmations:</p>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/NateMalicious\">@NateMalicious</a>: The first time my niece gave me an unwarranted hug and told me she loved me.” Love that!</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408871478638026752\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/derrecknoteric\">@derrecknoteric</a>: <a href=\"https://twitter.com/prattprattpratt\">@prattprattpratt</a> Graduating high school in 2011 and celebrating with my cousins and family” Nice. Good luck to you bud.</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408871673849319424\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/SooperSte\">@SooperSte</a>: Finally coming out to my family and wondering what the hell I was so afraid of.” Wow. That&#39;s intense. Good on ya.</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408873944288985088\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/djbeanlee\">@djbeanlee</a>: Finding my biological family after 18 years.” Damn. What&#39;s that like? Close with them now? Adopted? Fostered? Close to them?</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408875069167792128\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/JCervantezzz\">@JCervantezzz</a>: <a href=\"https://twitter.com/prattprattpratt\">@prattprattpratt</a> Being the first person in my family to graduate from college.” Not the last wise man. The world is yours.</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408875510559539200\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/SkyBrum\">@SkyBrum</a>: <a href=\"https://twitter.com/prattprattpratt\">@prattprattpratt</a> Telling the first girl I ever loved exactly that.”weak knees. I get it!</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408876026379247616\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/ClassyInCrisis\">@ClassyInCrisis</a>: <a href=\"https://twitter.com/prattprattpratt\">@prattprattpratt</a> Getting my first save as an EMT.” Whoa. Damn. That&#39;s awesome. Thanks!!!</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408877061155987456\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/DaPsAndPound\">@DaPsAndPound</a>: <a href=\"https://twitter.com/prattprattpratt\">@prattprattpratt</a> Hugging my brother when he came back from the military.” Enough said</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408878434228518912\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/kmrush82\">@kmrush82</a>: holding my newborn son after suffering a stillborn 11 months prior.  ❤️” Good God. I can&#39;t imagine. Bless that sweet boy</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408878824865013760\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/halludba4\">@halludba4</a>: I&#39;m living it now. I&#39;m in my prime (20) and I can do anything.” YES!!!  You will change the world friend.</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408879555177635840\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/Mummzydoodler\">@Mummzydoodler</a>:  Taking a 911 call and talking a suicidal man out of trying to be killed by suicide by cop.” Intense. My God. Good job.</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408880592009175040\">December 6, 2013</a></blockquote>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p>“<a href=\"https://twitter.com/SimonRagoonanan\">@SimonRagoonanan</a>: <a href=\"https://twitter.com/prattprattpratt\">@prattprattpratt</a> Cuddling my daughter for her first hour on earth. A long and glorious moment...” I want a girl!</p>&mdash; chris pratt (@prattprattpratt) <a href=\"https://twitter.com/prattprattpratt/statuses/408880663018762240\">December 6, 2013</a></blockquote>\n\n<p>His simple positivity almost reminds me of artists like <a href=\"http://gawker.com/something-about-how-steve-roggenbucks-poetry-will-save-1456424675\">Steve Roggenbuck</a> or <a href=\"https://twitter.com/avocadoe\">Ryland Maserang</a> without the poetry?</p>\n\n<p>He’s charming, politically neutral, and probably, I think, enchanted. I’d buy that stock.</p>\n"
      }
      
        ,
      
    
      {
        "date": "30 Nov 2013",
        "title": "this is my suitcase",
        "url": "/2013/this-is-my-suitcase",
        "content": "<blockquote>\n  <p>We are not “breaking up”, because we all still love each other. Mary Lynn writes great music. I still write music all over. We all still exist and we all still create. We are simply putting a lid on This Is My Suitcase to capture everything we’ve done; We are merely writing a really good ending to our own wild story.</p>\n</blockquote>\n\n<p>– <a href=\"https://www.facebook.com/notes/this-is-my-suitcase/this-is-my-suitcase-what-a-time-we-had/10152043499749612\">Joseph Anthony Camerlengo</a></p>\n\n<p>I don’t remember where I first heard of This Is My Suitcase, but I think it was on the absolute punk forums, probably in some thread for links to <code class=\"highlighter-rouge\">zip</code>s of weird albums from bands no one has heard of, many of which I downloaded and sifted through and deleted. One of them was “Missent to Thailand”. I have a vague memory of listening to it in an airport and being shocked by how much I liked this weird out of tune pop about being in love. I subscribed to the RSS feed of their Myspace blog (!?) and watched their careers as they almost went mainstream (I think Fall Out Boy were fans and tried to help them out, but it didn’t go anywhere) but they never quite left Ohio, where I think they’re local hometown hero types.</p>\n\n<p>But of course, this is the internet, so this weirdo in New York got to become quite a fan of theirs. I had a few other bands or filmmakers or artists whose careers I casually followed through various feeds, who I never would have known about without the internet. Some I forgot about, and some I lost the bead on<sup id=\"fnref:isa\"><a href=\"#fn:isa\" class=\"footnote\">1</a></sup>, others. And I’m really grateful for all of that, because it’s got some of that magic of what I imagine earlier generations found in digging through crates of records or whatever.</p>\n\n<p>I’m bummed I never saw them live, but they kind of only existed on the internet anyway? To me.</p>\n\n<p>When I made my short film <a href=\"https://vimeo.com/11394296\">“I’m So Happy I’m Ecstatic”</a> I knew I needed to include one of their songs. I’m really glad it’s in there.</p>\n\n<blockquote class=\"twitter-tweet\" lang=\"en\"><p><a href=\"https://twitter.com/maxjacobson\">@maxjacobson</a> go ahead!  send us the video when you&#39;re done if you can!  and you can hear songs from keys this friday on our myspace!</p>&mdash; this is my suitcase (@suitcaseband) <a href=\"https://twitter.com/suitcaseband/statuses/3391561631\">August 18, 2009</a></blockquote>\n\n<p>I don’t remember exactly when I started, but I guess I’ve been listening to them a while. (myspace rears again in that tweet)</p>\n\n<p>Their last album, “In The Wake Of Atrophy: a poignant album for heartsick humans”, came out yesterday. It’s available to stream or buy <a href=\"http://thisismysuitcase.bandcamp.com/album/in-the-wake-of-atrophy-a-poignant-album-for-heartsick-humans-2\">on bandcamp</a>. The first music video for <a href=\"http://www.youtube.com/watch?v=0Wlku3eTXOU\">My Organs Are Our Organs</a> just came out too.</p>\n\n<p>If you’re a heartsick human (and you are) then you know what to do.</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:isa\">\n      <p>the memory of one myspace band called “isa” continues to haunt / elude me <a href=\"#fnref:isa\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "30 Nov 2013",
        "title": "Synchronize Our Dictionaries",
        "url": "/2013/synchronize-our-dictionaries",
        "content": "<p>Recently I’ve been melting the butter stick of my brain against the griddle of Reginald Braithwaite, whose twin books on JavaScript and CoffeeScript as functional programming languages, <em>JavaScript Allonge</em> and <em>CoffeeScript Ristretto</em> have been tripping me out hard.</p>\n\n<p>I bought them yesterday for their Black Friday half-off prices and loaded them into iBooks on my Mac and iPad (so glad to have a good ePub reader for Mac) after having their full-text-for-free web pages open for weeks in my browser, teasing me to read them while I do Ruby stuff all day.</p>\n\n<blockquote>\n  <p>In order to talk about how this works, we should agree on a few terms (you may already know them, but let’s check-in together and “synchronize our dictionaries”). The first <code class=\"highlighter-rouge\">x</code>, the one in <code class=\"highlighter-rouge\">(x) -&gt;</code>, is an <em>argument</em>. The <code class=\"highlighter-rouge\">y</code> in <code class=\"highlighter-rouge\">(y) -&gt;</code> is another argument. The second <code class=\"highlighter-rouge\">x</code>, the one in <code class=\"highlighter-rouge\">-&gt; x</code>, is not an argument, it’s <em>an expression referring to a variable</em>. Arguments and variables work the same way whether we’re talking about <code class=\"highlighter-rouge\">(x) -&gt; (y) -&gt; x</code> or just plain <code class=\"highlighter-rouge\">(x) -&gt; x</code>.</p>\n</blockquote>\n\n<p>The particulars of this passage aren’t as important as that one phrase I plucked as the title of the blog post which I just really like a lot. Any kind of writing is basically just that. It’s as much about synchronizing your minds as it is synchronizing your language but that’s kind of the same thing.</p>\n"
      }
      
        ,
      
    
      {
        "date": "24 Nov 2013",
        "title": "open blog",
        "url": "/2013/open-blog",
        "content": "<p>This blog is open for business. Also it’s open like, it’s on <a href=\"https://github.com/hardscrabble/hardscrabble.github.io\">on github</a>, which means you can fork it, read the drafts, submit pull requests, etc.</p>\n\n<p>This isn’t a big deal. It’s true of all jekyll blogs on github. While reading about “open companies” like <a href=\"https://www.balancedpayments.com/open\">Balanced</a> and <a href=\"http://blog.gittip.com/post/26350459746/the-first-open-company\">Gittip</a>, I thought that this is also true of my blog.</p>\n\n<p>I kind of want to be a better blogger. I’m pretty proud of how I put together this new blog. It feels sturdy, with well-organized source code.</p>\n\n<p>Today I bought a hoodie at American Apparel and the guy ringing me up asked for my email address because “we’re kind of going green and sending by receipts via email” and I told him it’s <a href=\"&#109;&#097;&#105;&#108;&#116;&#111;:&#109;&#097;&#120;&#064;&#104;&#097;&#114;&#100;&#115;&#099;&#114;&#097;&#098;&#098;&#108;&#101;&#046;&#110;&#101;&#116;\">&#109;&#097;&#120;&#064;&#104;&#097;&#114;&#100;&#115;&#099;&#114;&#097;&#098;&#098;&#108;&#101;&#046;&#110;&#101;&#116;</a> and he asked me to spell it. I said, “it’s max at hard, like difficult, and scrabble, like the game” and the other cashier laughed like, what kind of email address is that? I said, “I just think it’s a fun word” and got the hell out of there.</p>\n\n<hr />\n\n<p><strong>edit November 2014</strong>: I edited a link to point to the new home of the blog’s\ngithub repo, which moved from my user to a new organization called hardscrabble</p>\n"
      }
      
        ,
      
    
      {
        "date": "01 Sep 2013",
        "title": "learning ember.js: day two",
        "url": "/2013/learning-ember-day-two",
        "content": "<blockquote class=\"twitter-tweet\"><p>Ok I’m going to try <a href=\"https://twitter.com/steveklabnik\">@steveklabnik</a></p>&mdash; Max Jacobson (@maxjacobson) <a href=\"https://twitter.com/maxjacobson/statuses/374223697340796928\">September 1, 2013</a></blockquote>\n\n<p>OK. Back to work.</p>\n\n<p><a href=\"http://www.hardscrabble.net/2013/learning-ember-js-day-one/\">Yesterday</a> I stretched out my head and fell asleep. I was glad to see that while I was sleeping, the team made good and <a href=\"http://emberjs.com/blog/2013/08/31/ember-1-0-released.html\">released Ember 1.0</a></p>\n\n<p>I made some small progress since then.</p>\n\n<p>At <a href=\"http://mendelk.github.io/\">Mendel’s</a> recommendation I changed the first line of my CoffeeScript program from:</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">App</span> <span class=\"o\">=</span> <span class=\"nx\">Ember</span><span class=\"p\">.</span><span class=\"na\">Application</span><span class=\"p\">.</span><span class=\"na\">create</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n\n<p>to</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">window</span><span class=\"p\">.</span><span class=\"na\">App</span> <span class=\"o\">=</span> <span class=\"nx\">Ember</span><span class=\"p\">.</span><span class=\"na\">Application</span><span class=\"p\">.</span><span class=\"na\">create</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n\n<p>which insists on <code class=\"highlighter-rouge\">App</code> being a global variable, and avoids CoffeeScript’s usually helpful behavior of prepending all variable declarations with <code class=\"highlighter-rouge\">var</code>.</p>\n\n<p>I added some additional routes. I decided I’m making a homepage/blog thing. Very much inspired by / half-following-along the 30 minute video blitz of an introduction Tom Dale gives on <a href=\"http://emberjs.com/guides/\">http://emberjs.com/guides/</a>.</p>\n\n<p>So now there is an about page and a posts page, and also an individual page for each post. The posts data is still hardcoded into the CoffeeScript, not fetched from some external API. That will come later.</p>\n\n<p>It’s cool to see the ways this is different from and similar to rails. It feels weird to have so few files. I’m sure there’s a way to separate your code into many files but it isn’t introduced in that video.</p>\n\n<p>Here’s another example, straight from the video, that surprised me. This is in my route for an individual blog post. It’s like a <code class=\"highlighter-rouge\">post#show</code> action in rails:</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">App</span><span class=\"p\">.</span><span class=\"na\">PostRoute</span> <span class=\"o\">=</span> <span class=\"nx\">Ember</span><span class=\"p\">.</span><span class=\"na\">Route</span><span class=\"p\">.</span><span class=\"na\">extend</span>\n  <span class=\"na\">model</span><span class=\"o\">:</span> <span class=\"p\">(</span><span class=\"nx\">params</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span>\n    <span class=\"nx\">posts</span><span class=\"p\">.</span><span class=\"na\">findBy</span> <span class=\"s\">'id'</span><span class=\"p\">,</span> <span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"na\">post_id</span>\n</code></pre>\n</div>\n\n<p>This was working in the video but wasn’t working for me. I logged the params object and saw that the post_id attribute, which is set by the URL (eg when visiting <code class=\"highlighter-rouge\">/posts/3</code>, the params object would look like <code class=\"highlighter-rouge\"><span class=\"p\">{</span><span class=\"err\">post_id:</span><span class=\"w\"> </span><span class=\"nt\">\"3\"</span><span class=\"err\">}</span></code>), was showing up as a string, not a number. So I tried this:</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">App</span><span class=\"p\">.</span><span class=\"na\">PostRoute</span> <span class=\"o\">=</span> <span class=\"nx\">Ember</span><span class=\"p\">.</span><span class=\"na\">Route</span><span class=\"p\">.</span><span class=\"na\">extend</span>\n  <span class=\"na\">model</span><span class=\"o\">:</span> <span class=\"p\">(</span><span class=\"nx\">params</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span>\n    <span class=\"nx\">posts</span><span class=\"p\">.</span><span class=\"na\">findBy</span> <span class=\"s\">'id'</span><span class=\"p\">,</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">params</span><span class=\"p\">.</span><span class=\"na\">post_id</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n\n<p>which totally worked.</p>\n\n<p>Rails has a very similar pattern but its find method anticipates looking up records based on ids from params hashes, and doesn’t care if the id is a string or integer.</p>\n\n<p>Anyway I have barely scratched the surface of Ember so please forgive me if I’m missing something. Goodnight!</p>\n\n<p>My progress as of today is here: <a href=\"http://maxjacobson.github.io/js_ember_day_two/\">demo</a> / <a href=\"https://github.com/maxjacobson/js_ember_day_two\">source</a></p>\n\n"
      }
      
        ,
      
    
      {
        "date": "31 Aug 2013",
        "title": "learning ember.js: day one",
        "url": "/2013/learning-ember-js-day-one",
        "content": "<h2 id=\"the-realization\">the realization</h2>\n\n<p>OK I want to learn <a href=\"http://emberjs.com/\">ember.js</a>.</p>\n\n<p>Ember has been in development for years and the 1.0 version is meant to be released this weekend. There have been <a href=\"http://emberjs.com/blog/2013/08/29/ember-1-0-rc8.html\">eight</a> release candidates. They’re ready.</p>\n\n<p>But… <em>am I?</em> This release feels like an exciting and right time to dig in. I’ve looked at it before and it hasn’t clicked. But, having just finished my semester at The Flatiron School, I should have time to make it click. And I must keep learning!</p>\n\n<h2 id=\"rooting-around-in-the-mud\">rooting around in the mud</h2>\n\n<p>Ember provides a starter kit which demonstrates a basic usage. It’s a static HTML page that includes all the necessary JavaScript libraries (jQuery, Handlebars, and Ember) and then an <code class=\"highlighter-rouge\">app.js</code> file for us to do our work in. It starts off looking like this:</p>\n\n<div class=\"language-javascript highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">App</span> <span class=\"o\">=</span> <span class=\"nx\">Ember</span><span class=\"p\">.</span><span class=\"nx\">Application</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">();</span>\n\n<span class=\"nx\">App</span><span class=\"p\">.</span><span class=\"nx\">Router</span><span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// put your routes here</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">App</span><span class=\"p\">.</span><span class=\"nx\">IndexRoute</span> <span class=\"o\">=</span> <span class=\"nx\">Ember</span><span class=\"p\">.</span><span class=\"nx\">Route</span><span class=\"p\">.</span><span class=\"nx\">extend</span><span class=\"p\">({</span>\n  <span class=\"na\">model</span><span class=\"p\">:</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"p\">[</span><span class=\"s1\">'red'</span><span class=\"p\">,</span> <span class=\"s1\">'yellow'</span><span class=\"p\">,</span> <span class=\"s1\">'blue'</span><span class=\"p\">];</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n</code></pre>\n</div>\n\n<p>ember starter kit app.js</p>\n\n<p>When you open <code class=\"highlighter-rouge\">index.html</code> in your browser, you can see those three colors have shown up in a bulleted list. The relevant part of that file looks like this:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code>\n<span class=\"nt\">&lt;script </span><span class=\"na\">type=</span><span class=\"s\">\"text/x-handlebars\"</span> <span class=\"na\">data-template-name=</span><span class=\"s\">\"index\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"nx\">ul</span><span class=\"o\">&gt;</span>\n  <span class=\"p\">{{</span><span class=\"err\">#</span><span class=\"nx\">each</span> <span class=\"nx\">item</span> <span class=\"k\">in</span> <span class=\"nx\">model</span><span class=\"p\">}}</span>\n    <span class=\"o\">&lt;</span><span class=\"nx\">li</span><span class=\"o\">&gt;</span><span class=\"p\">{{</span><span class=\"nx\">item</span><span class=\"p\">}}</span><span class=\"o\">&lt;</span><span class=\"sr\">/li</span><span class=\"err\">&gt;\n</span>  <span class=\"p\">{{</span><span class=\"o\">/</span><span class=\"nx\">each</span><span class=\"p\">}}</span>\n  <span class=\"o\">&lt;</span><span class=\"sr\">/ul</span><span class=\"err\">&gt;\n</span><span class=\"nt\">&lt;/script&gt;</span>\n\n</code></pre>\n</div>\n\n<p>template for displaying colors</p>\n\n<p>Cool. I can kinda see how the data shows up here.</p>\n\n<h2 id=\"making-it-mine\">making it mine</h2>\n\n<p>I just rewrote that <code class=\"highlighter-rouge\">app.js</code> as <code class=\"highlighter-rouge\">app.coffee</code> because I’m that guy:</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">App</span> <span class=\"o\">=</span> <span class=\"nx\">Ember</span><span class=\"p\">.</span><span class=\"na\">Application</span><span class=\"p\">.</span><span class=\"na\">create</span><span class=\"p\">()</span>\n\n<span class=\"nx\">App</span><span class=\"p\">.</span><span class=\"na\">Router</span><span class=\"p\">.</span><span class=\"na\">map</span> <span class=\"o\">-&gt;</span>\n  <span class=\"c1\"># put your routes here</span>\n\n<span class=\"nx\">App</span><span class=\"p\">.</span><span class=\"na\">IndexRoute</span> <span class=\"o\">=</span> <span class=\"nx\">Ember</span><span class=\"p\">.</span><span class=\"na\">Route</span><span class=\"p\">.</span><span class=\"na\">extend</span>\n  <span class=\"na\">model</span><span class=\"o\">:</span> <span class=\"o\">-&gt;</span>\n    <span class=\"p\">[</span><span class=\"s\">'red'</span><span class=\"p\">,</span> <span class=\"s\">'yellow'</span><span class=\"p\">,</span> <span class=\"s\">'blue'</span><span class=\"p\">,</span> <span class=\"s\">'green'</span><span class=\"p\">]</span>\n</code></pre>\n</div>\n\n<p>coffeescript rewrite (i added a color too)</p>\n\n<p>And now I’m running <code class=\"highlighter-rouge\">coffee -cw js/app.coffee</code> <sup id=\"fnref:cw\"><a href=\"#fn:cw\" class=\"footnote\">1</a></sup> and it is compiling it for me and the site still displays that nice list. Rails auto-compiles coffeescript for you so this is kind of an extra hassle of a step but that is the life we lead.</p>\n\n<h2 id=\"next-steps\">next steps</h2>\n\n<p>My next step as always is to google around and open 175 tabs and then feel overwhelmed and drink some tea and relax for a while.</p>\n\n<p>Did I read this: <a href=\"http://net.tutsplus.com/tutorials/javascript-ajax/getting-into-ember-js-part-2/\">http://net.tutsplus.com/tutorials/javascript-ajax/getting-into-ember-js-part-2/</a>? Yes I did and it did not hit that sweet spot.</p>\n\n<p>I closed all my tabs. I want to just play around. I decided to ditch that array of colors and try using slightly richer data. Here’s what I came up with:</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">App</span> <span class=\"o\">=</span> <span class=\"nx\">Ember</span><span class=\"p\">.</span><span class=\"na\">Application</span><span class=\"p\">.</span><span class=\"na\">create</span><span class=\"p\">()</span>\n\n<span class=\"nx\">App</span><span class=\"p\">.</span><span class=\"na\">Router</span><span class=\"p\">.</span><span class=\"na\">map</span> <span class=\"o\">-&gt;</span>\n  <span class=\"c1\"># put your routes here</span>\n\n<span class=\"nx\">App</span><span class=\"p\">.</span><span class=\"na\">IndexRoute</span> <span class=\"o\">=</span> <span class=\"nx\">Ember</span><span class=\"p\">.</span><span class=\"na\">Route</span><span class=\"p\">.</span><span class=\"na\">extend</span>\n  <span class=\"na\">model</span><span class=\"o\">:</span> <span class=\"o\">-&gt;</span>\n    <span class=\"na\">firstName</span><span class=\"o\">:</span> <span class=\"s\">\"Max\"</span>\n    <span class=\"na\">lastName</span><span class=\"o\">:</span> <span class=\"s\">\"Jacobson\"</span>\n    <span class=\"na\">posts</span><span class=\"o\">:</span>\n      <span class=\"p\">[</span>\n        <span class=\"na\">title</span><span class=\"o\">:</span> <span class=\"s\">\"Finished School\"</span>\n        <span class=\"na\">date</span><span class=\"o\">:</span>  <span class=\"s\">\"2013-08-23\"</span>\n        <span class=\"na\">body</span><span class=\"o\">:</span> <span class=\"s\">\"Wow that was fun!\"</span>\n      <span class=\"p\">,</span>\n        <span class=\"na\">title</span><span class=\"o\">:</span> <span class=\"s\">\"Starting school\"</span>\n        <span class=\"na\">date</span><span class=\"o\">:</span>  <span class=\"s\">\"2013-06-03\"</span>\n        <span class=\"na\">body</span><span class=\"o\">:</span> <span class=\"s\">\"Can't wait to start school!\"</span>\n      <span class=\"p\">]</span>\n</code></pre>\n</div>\n\n<p>app.coffee</p>\n\n<p>and</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code>\n<span class=\"nt\">&lt;script </span><span class=\"na\">type=</span><span class=\"s\">\"text/x-handlebars\"</span> <span class=\"na\">data-template-name=</span><span class=\"s\">\"index\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"nx\">h2</span><span class=\"o\">&gt;</span>\n    <span class=\"p\">{{</span><span class=\"nx\">model</span><span class=\"p\">.</span><span class=\"nx\">firstName</span><span class=\"p\">}}</span> <span class=\"p\">{{</span><span class=\"nx\">model</span><span class=\"p\">.</span><span class=\"nx\">lastName</span><span class=\"p\">}}</span><span class=\"o\">&amp;</span><span class=\"nx\">rsquo</span><span class=\"p\">;</span><span class=\"nx\">s</span> <span class=\"nx\">Blog</span>\n  <span class=\"o\">&lt;</span><span class=\"sr\">/h2</span><span class=\"err\">&gt;\n</span>  <span class=\"p\">{{</span><span class=\"err\">#</span><span class=\"nx\">each</span> <span class=\"nx\">post</span> <span class=\"k\">in</span> <span class=\"nx\">model</span><span class=\"p\">.</span><span class=\"nx\">posts</span><span class=\"p\">}}</span>\n    <span class=\"o\">&lt;</span><span class=\"nx\">h2</span><span class=\"o\">&gt;</span><span class=\"p\">{{</span><span class=\"nx\">post</span><span class=\"p\">.</span><span class=\"nx\">title</span><span class=\"p\">}}</span><span class=\"o\">&lt;</span><span class=\"sr\">/h2</span><span class=\"err\">&gt;\n</span>    <span class=\"o\">&lt;</span><span class=\"nx\">p</span><span class=\"o\">&gt;</span><span class=\"p\">{{</span><span class=\"nx\">post</span><span class=\"p\">.</span><span class=\"nx\">date</span><span class=\"p\">}}</span><span class=\"o\">&lt;</span><span class=\"sr\">/p</span><span class=\"err\">&gt;\n</span>    <span class=\"o\">&lt;</span><span class=\"nx\">p</span><span class=\"o\">&gt;</span><span class=\"p\">{{</span><span class=\"nx\">post</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">}}</span><span class=\"o\">&lt;</span><span class=\"sr\">/p</span><span class=\"err\">&gt;\n</span>  <span class=\"p\">{{</span><span class=\"o\">/</span><span class=\"nx\">each</span><span class=\"p\">}}</span>\n  <span class=\"o\">&lt;</span><span class=\"sr\">/ul</span><span class=\"err\">&gt;\n</span><span class=\"nt\">&lt;/script&gt;</span>\n\n</code></pre>\n</div>\n\n<p>part of index.html</p>\n\n<p>And that takes that data from the CoffeeScript and puts it on the page. Which took a lot of trial and error actually.</p>\n\n<p>Making that and writing this post was like a cup of coffee. My brain is now attenuated to learn it better tomorrow, to receive knowledge, perhaps via a lengthy article or book I’ll find and read. More posts to come as I dig deeper.</p>\n\n<p>Here’s what I described in this post: <a href=\"http://codepen.io/maxjacobson/pen/uckIL\">http://codepen.io/maxjacobson/pen/uckIL</a></p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:cw\">\n      <p>the “c” flag means “compile” and the “w” flag means “watch” so together those will watch for new changes and re-compile <a href=\"#fnref:cw\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "16 Aug 2013",
        "title": "javascript resources",
        "url": "/2013/javascript-resources",
        "content": "<p>Here are some links to free, online resources I found helpful while learning JavaScript.</p>\n\n<p>Start with some introductory materials. My favorite is <a href=\"http://jqfundamentals.com/\">jQuery Fundamentals</a>. It’s an awesome, brief book by Rebecca Murphey. It starts with the fundamentals of JavaScript and then covers the fundamentals of jQuery. It’s really awesome. Murphey and some friends used to do a video podcast about jQuery called <a href=\"http://vimeo.com/yayquery/videos\">yayQuery</a> which is a cute as hell name. I haven’t really watched any of those though. Focus on the book/site. Try to follow along in the built-in editor / sandbox environment.</p>\n\n<p>Try to understand everything she covers in that guide because it’s all … fundamental … haha.</p>\n\n<p>Check out Airbnb’s JavaScript style guide on github at <a href=\"https://github.com/airbnb/javascript\">airbnb/javascript</a>. Beyond (interesting) style-related-stuff like how they recommend you indent your code, it’s also super instructive for learning the language itself because it covers the conventions they recommend for pretty much every aspect of the language, so if there’s something you haven’t been exposed to yet, you’ll find out and learn about the concept in a way that has been thought about carefully.</p>\n\n<p>I liked this recommendation of theirs:</p>\n\n<div class=\"language-javascript highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\">// bad</span>\n<span class=\"kd\">var</span> <span class=\"nx\">sidebar</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'.sidebar'</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// good</span>\n<span class=\"kd\">var</span> <span class=\"nx\">$sidebar</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'.sidebar'</span><span class=\"p\">);</span>\n</code></pre>\n</div>\n\n<p>because, <em>yeah</em>, totally, if you’re caching a jQuery object why not prefix it with a dollar sign so you remember that’s what it is? There’s a lot of good stuff like that.</p>\n\n<p>This is a funny video about jQuery: <a href=\"http://vimeo.com/12529436\">Paul Irish : 10 Things I Learned from the jQuery Source</a>. I mean it’s insightful too. It’s just this guy reading the source code and explaining how jQuery works. It makes you feel like you could just read and understand the source code of any major library or framework.</p>\n\n<p>The next thing to do is try making some static sites with jQuery and maybe put them on <a href=\"https://help.github.com/articles/what-are-github-pages\">GitHub Pages</a>. Just create a repo and do your work on a branch called <code class=\"highlighter-rouge\">gh-pages</code>. You can just delete your master branch. When you’re ready to show off your work you can push it to GitHub and people can look at the actual site as well as the source code. It’s really cool, <a href=\"https://github.com/maxjacobson/js_calc\">this</a> becomes <a href=\"http://maxjacobson.github.io/js_calc/\">this</a> just because of the branch name. Btw the location of the page is always <code class=\"highlighter-rouge\">http://YOUR_GITHUB_USERNAME.github.io/REPO_NAME</code>.</p>\n\n<p>Some things to make:</p>\n\n<ul>\n  <li>a calculator</li>\n  <li>a todo list</li>\n  <li>a page that pulls in JSON data from some API and renders it on a page. maybe make a page where you can enter a github handle and it will fetch the JSON at, eg, <code class=\"highlighter-rouge\">https://github.com/maxjacobson.json</code> and print some of the data to the page. Or any other API. Maybe one from a web app you made.</li>\n</ul>\n\n<p>Maybe also install node. Just <code class=\"highlighter-rouge\">brew install node</code> and then you have node. Now you can run JavaScript programs from your command line with just like <code class=\"highlighter-rouge\">node whatever.js</code>. They don’t even have to be web apps. Just little programs! Maybe <a href=\"http://projecteuler.net/problems\">Project Euler problems</a>. Definitely solve some of those problems. Do as many as you can. I should do more of those. Damn. Just write some out in JavaScript. Use <code class=\"highlighter-rouge\">console.log</code> wherever you would use <code class=\"highlighter-rouge\">puts</code> in Ruby.</p>\n\n<p>By this point in the blog post you should feel like you’re pretty good at JavaScript. I feel like you are. Maybe take Rebecca Murphey’s <a href=\"https://github.com/rmurphey/js-assessment\">JS Assessment</a> which is kind of like a less meditative version of Ruby Koans used in job interviews to assess your level of JavaScript knowledge. I found this super hard and educational. I got less than halfway through. I want to revisit this.</p>\n\n<p>Take a detour into <a href=\"http://coffeescript.org/\">CoffeeScript</a> with me. The main reason I like JavaScript is CoffeeScript. I like it a lot. Install it with <code class=\"highlighter-rouge\">sudo npm install -g coffee-script</code> (npm is “node package manager” and it’s a lot like RubyGems. The main difference is that by default, without the <code class=\"highlighter-rouge\">-g</code> flag, it doesn’t install globally on your computer, it installs into the current directory in a subdirectory called “node_modules”). If the syntax appeals to you, try rewriting an earlier project or program from JavaScript to CoffeeScript. You can run it with <code class=\"highlighter-rouge\">coffee whatever.coffee</code> or compile it into JavaScript by running <code class=\"highlighter-rouge\">coffee -c whatever.coffee</code> which will create <code class=\"highlighter-rouge\">whatever.js</code> for you.</p>\n\n<p>CoffeeScript is kind of confusing at first but I really like it. It’s like, why use this. It took me a while to figure out how to use CoffeeScript with jQuery but it’s actually super simple, here’s a basic example:</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"na\">ready</span> <span class=\"o\">-&gt;</span>\n  <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s\">\"#shout\"</span><span class=\"p\">).</span><span class=\"na\">on</span> <span class=\"s\">\"click\"</span><span class=\"p\">,</span> <span class=\"o\">-&gt;</span>\n    <span class=\"nx\">alert</span> <span class=\"s\">\"YO WHAT UP\"</span>\n</code></pre>\n</div>\n\n<p>Which could be written even more compactly as:</p>\n\n<div class=\"language-coffee highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">$</span> <span class=\"o\">-&gt;</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s\">\"#shout\"</span><span class=\"p\">).</span><span class=\"na\">on</span> <span class=\"s\">\"click\"</span><span class=\"p\">,</span> <span class=\"o\">-&gt;</span> <span class=\"nx\">alert</span> <span class=\"s\">\"YO WHAT UP\"</span>\n</code></pre>\n</div>\n\n<p>Which is kind of ridiculous and unreadable but cool that <a href=\"http://codepen.io/maxjacobson/pen/oisJp\">it’s valid</a>?</p>\n\n<p>I guess all that’s left is to keep going and start learning how to build complicated software in this cool language. I want to learn a JS framework next and can’t figure out where to start. But that… is a tale for another blog post.</p>\n"
      }
      
        ,
      
    
      {
        "date": "22 Jul 2013",
        "title": "the woods",
        "url": "/2013/the-woods",
        "content": "<p><img src=\"/img/2013-07-22-kings_of_summer.jpg\" alt=\"Kings of Summer\" /></p>\n\n<p>A few months ago I saw a newish movie called <a href=\"http://www.youtube.com/watch?v=cLnAiVI4R2Q\">“The Kings of Summer”</a>, which is about a trio of teenage boys who get fed up with their loving parents, move into the woods, build a ramshackle house, and live in it. They’re trying to make a statement. I think it’s something like, “<strong>We’re men</strong>. Stop treating us like kids; we can live off the land.”</p>\n\n<h2 id=\"programmers-drawn-to-the-woods\">programmers, drawn to the woods</h2>\n\n<p>As I’ve been learning to program within the Ruby on Rails web application framework I’ve, at times, felt like those kids suffocated by their loving parents:</p>\n\n<p><img src=\"/img/2013-07-22-kings_of_summer_rails.gif\" alt=\"Rails Mom\" /></p>\n\n<p>And drawn to that ugly pile of sticks in that clearing in the woods. Not because it’s better, but because it’s <em>more mine</em>.</p>\n\n<p>I’m drawn to the woods when I read <a href=\"http://words.steveklabnik.com/returning-to-free-software-a-guide\">blog posts like this</a> and want to replace OS X with Linux and Sublime Text 2 with Vim.</p>\n\n<p>I was drawn to the woods when I got <a href=\"http://www.elitekeyboards.com/products.php?sub=leopold,tenkeyless&amp;pid=fc200rrawn\">this eyebrow-raising keyboard</a> I type fast as hell on.</p>\n\n<p>I’m drawn to the woods when I read about Node JS even though I’m in the middle of a program learning Rails.</p>\n\n<p><em>Summer</em> is a pretty good movie. I like the way it pokes fun at these kids’ naïve concept of what it means to be an adult. At one point the protagonist is proud to grow a mustache. But in the end, they go home to their parents, and it’s the <strong>most grown-up thing they do all movie</strong>.</p>\n\n<p>I’m slowly coming around to the Rails idea of “convention over configuration”. Not that I was opposed to it or anything, but I didn’t immediately appreciate or understand it. Learning and using Rails still feels a little like moving into a fully-furnished apartment where the previous tenant and I wouldn’t have <em>necessarily</em> hung out. But it’s got AC and a well-stocked fridge and who am I to complain?</p>\n\n<p>Going to the woods is fine. You might find and bring something amazing back with you, like Rails or <em>For Emma, Forever Ago</em>. I really don’t mean to bolster any societal hegemony. Just try not to get lost.</p>\n"
      }
      
        ,
      
    
      {
        "date": "03 Jul 2013",
        "title": "all the thoughts that went through my head while trying to pass the first test in the test suite of a warm up exercise this morning before coffee and then again this evening after painkillers",
        "url": "/2013/problem-solving",
        "content": "<p>Recently at school we’ve been doing code exercises to warm up in the morning. We’re given contained problems to solve with code. Problems that would be possible to solve without code but tedious or prohibitively time-consuming. Sometimes we move on to lecture before I can solve one and it haunts me all day.</p>\n\n<p>Here’s this morning’s:</p>\n\n<blockquote>\n  <h3 id=\"palindrome-product\">Palindrome Product</h3>\n\n  <p>A palindromic number reads the same both ways.</p>\n\n  <p>The largest palindrome made from the product of two 2-digit numbers is 9009 = 91 x 99.</p>\n\n  <p>Write a program that can detect palindrome products in a given range.</p>\n</blockquote>\n\n<p>The specifics of what this means were ostensibly made more clear by a provided test-suite.</p>\n\n<p>I’ve done a problem like this before at a coding meetup and I remembered how I’d wrestled with it for minutes and got it working and then seen someone else’s impossibly elegant solution and felt inspired.</p>\n\n<p>Mine was probably something like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">is_palindrome?</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n  <span class=\"n\">digits</span> <span class=\"o\">=</span> <span class=\"n\">num</span><span class=\"p\">.</span><span class=\"nf\">to_s</span><span class=\"p\">.</span><span class=\"nf\">split</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n  <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n  <span class=\"k\">while</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"n\">digits</span><span class=\"p\">.</span><span class=\"nf\">length</span>\n    <span class=\"k\">if</span> <span class=\"n\">digits</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">!=</span> <span class=\"n\">digits</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"n\">i</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n      <span class=\"k\">return</span> <span class=\"kp\">false</span>\n    <span class=\"k\">end</span>\n    <span class=\"n\">i</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n  <span class=\"k\">end</span>\n  <span class=\"k\">return</span> <span class=\"kp\">true</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n<p>ugh</p>\n\n<p>And hers was something like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">is_palindrome?</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n  <span class=\"n\">num</span><span class=\"p\">.</span><span class=\"nf\">to_s</span> <span class=\"o\">==</span> <span class=\"n\">num</span><span class=\"p\">.</span><span class=\"nf\">to_s</span><span class=\"p\">.</span><span class=\"nf\">reverse</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>And I was just like <em>oh</em>.</p>\n\n<p>So this morning I had a moment of thinking I already knew the hard part of this problem, and then I looked at the tests. Here’s the first one:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">test</span> <span class=\"s1\">'largest_palindrome_from_single_digit_factors'</span> <span class=\"k\">do</span>\n  <span class=\"n\">palindromes</span> <span class=\"o\">=</span> <span class=\"no\">Palindromes</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">max_factor: </span><span class=\"mi\">9</span><span class=\"p\">)</span>\n  <span class=\"n\">palindromes</span><span class=\"p\">.</span><span class=\"nf\">generate</span>\n  <span class=\"n\">largest</span> <span class=\"o\">=</span> <span class=\"n\">palindromes</span><span class=\"p\">.</span><span class=\"nf\">largest</span>\n  <span class=\"n\">assert_equal</span> <span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"n\">largest</span><span class=\"p\">.</span><span class=\"nf\">value</span>\n  <span class=\"n\">assert</span> <span class=\"p\">[[[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">]],</span> <span class=\"p\">[[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]]].</span><span class=\"nf\">include?</span> <span class=\"n\">largest</span><span class=\"p\">.</span><span class=\"nf\">factors</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>first test</p>\n\n<p>Oh there’s a lot more going on there.</p>\n\n<p><em>But that’s fine</em>, I think, <em>I’ll make a <code class=\"highlighter-rouge\">Palindromes</code> class, give it a few methods, that’s fine, let’s do it.</em> So I started with something like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">Palindromes</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">options</span><span class=\"p\">)</span>\n    <span class=\"n\">max</span> <span class=\"o\">=</span> <span class=\"n\">options</span><span class=\"p\">[</span><span class=\"ss\">:max_factor</span><span class=\"p\">]</span>\n    <span class=\"c1\"># then I decided the range would begin at 1 mainly because it has to start somewhere and the test's assertion seemed to suggest 1</span>\n    <span class=\"n\">min</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n    <span class=\"vi\">@range</span> <span class=\"o\">=</span> <span class=\"n\">min</span><span class=\"p\">.</span><span class=\"nf\">.</span><span class=\"n\">max</span>\n\n    <span class=\"c1\"># At this point I sort of paused to think about what to do next and Kristen noticed I stopped typing and said something about how I should host a show called \"Max Factor\" and I laughed.</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"c1\"># this felt as good a place as any to write that ace method I had in my back pocket</span>\n  <span class=\"k\">def</span> <span class=\"nf\">is_palindrome?</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n    <span class=\"n\">num</span><span class=\"p\">.</span><span class=\"nf\">to_s</span> <span class=\"o\">==</span> <span class=\"n\">num</span><span class=\"p\">.</span><span class=\"nf\">to_s</span><span class=\"p\">.</span><span class=\"nf\">reverse</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"c1\"># then I was like uhh I guess I need a generate method</span>\n  <span class=\"c1\"># what does that even mean though</span>\n  <span class=\"k\">def</span> <span class=\"nf\">generate</span>\n    <span class=\"vi\">@range</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">num1</span><span class=\"o\">|</span>\n      <span class=\"vi\">@range</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">num2</span><span class=\"o\">|</span>\n        <span class=\"c1\"># what if I like... iterate over the range twice nested like this</span>\n        <span class=\"c1\"># this looks too ugly to be right but I think maybe...</span>\n        <span class=\"k\">if</span> <span class=\"n\">is_palindrome?</span><span class=\"p\">(</span><span class=\"n\">num1</span> <span class=\"o\">*</span> <span class=\"n\">num2</span><span class=\"p\">)</span>\n          <span class=\"p\">[</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">]</span> <span class=\"c1\"># I know I have to do something with this array</span>\n          <span class=\"n\">num1</span> <span class=\"o\">*</span> <span class=\"n\">num2</span>  <span class=\"c1\"># And also their product maybe?</span>\n          <span class=\"c1\"># but what</span>\n        <span class=\"k\">end</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>first draft</p>\n\n<p>At this point something about the test bubbled to the surface of my mind.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">largest</span> <span class=\"o\">=</span> <span class=\"n\">palindromes</span><span class=\"p\">.</span><span class=\"nf\">largest</span>\n<span class=\"n\">assert_equal</span> <span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"n\">largest</span><span class=\"p\">.</span><span class=\"nf\">value</span>\n</code></pre>\n</div>\n\n<p>wait what?</p>\n\n<p>Wait, <em>what the what</em> is the <code class=\"highlighter-rouge\">largest</code> method returning that it has a <code class=\"highlighter-rouge\">value</code> method?</p>\n\n<p>Damnit Jeff do we have to create another class?</p>\n\n<p>OK fine I <em>guess</em> palindrome factors are a sufficiently interesting thing that they should be their own class. I kind of reached a point in the <code class=\"highlighter-rouge\">generate</code> method where I had some data I didn’t know what to do with, and that makes some sense as a place to put it, so I started rewriting… and ran out of time.</p>\n\n<p>I’m going to finish it now, I have to. It’s very late. I used to stay up this late. Jeez.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">PalindromeFactors</span>\n  <span class=\"kp\">attr_accessor</span> <span class=\"ss\">:value</span><span class=\"p\">,</span> <span class=\"ss\">:factors</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">)</span>\n    <span class=\"vi\">@value</span> <span class=\"o\">=</span> <span class=\"n\">num1</span> <span class=\"o\">*</span> <span class=\"n\">num2</span>\n    <span class=\"vi\">@factors</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">]</span>\n  <span class=\"k\">end</span>\n  <span class=\"c1\"># that should maybe be enough for now?</span>\n  <span class=\"c1\"># the value will be a palindrome</span>\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Palindromes</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">options</span><span class=\"p\">)</span>\n    <span class=\"n\">max</span> <span class=\"o\">=</span> <span class=\"n\">options</span><span class=\"p\">[</span><span class=\"ss\">:max_factor</span><span class=\"p\">]</span>\n    <span class=\"n\">min</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n    <span class=\"vi\">@range</span> <span class=\"o\">=</span> <span class=\"n\">min</span><span class=\"p\">.</span><span class=\"nf\">.</span><span class=\"n\">max</span>\n    <span class=\"c1\"># so let's keep track of the factors whose product is a palindrome</span>\n    <span class=\"vi\">@palindrome_factors</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">is_palindrome?</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n    <span class=\"n\">num</span><span class=\"p\">.</span><span class=\"nf\">to_s</span> <span class=\"o\">==</span> <span class=\"n\">num</span><span class=\"p\">.</span><span class=\"nf\">to_s</span><span class=\"p\">.</span><span class=\"nf\">reverse</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">generate</span>\n    <span class=\"vi\">@range</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">num1</span><span class=\"o\">|</span>\n      <span class=\"vi\">@range</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">num2</span><span class=\"o\">|</span>\n        <span class=\"k\">if</span> <span class=\"n\">is_palindrome?</span><span class=\"p\">(</span><span class=\"n\">num1</span> <span class=\"o\">*</span> <span class=\"n\">num2</span><span class=\"p\">)</span>\n          <span class=\"c1\"># create the new object and shovel it into the array</span>\n          <span class=\"vi\">@palindrome_factors</span> <span class=\"o\">&lt;&lt;</span> <span class=\"no\">PalindromeFactors</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">)</span>\n        <span class=\"k\">end</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">largest</span>\n    <span class=\"vi\">@palindrome_factors</span><span class=\"p\">.</span><span class=\"nf\">sort_by</span><span class=\"p\">{</span> <span class=\"o\">|</span><span class=\"n\">pf</span><span class=\"o\">|</span> <span class=\"n\">pf</span><span class=\"p\">.</span><span class=\"nf\">value</span> <span class=\"p\">}.</span><span class=\"nf\">last</span>\n  <span class=\"k\">end</span>\n\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>second draft</p>\n\n<p>Up until this point, running the tests hasn’t felt worth doing, because I didn’t even have the methods it’s trying to call. But now I do. <em>And maybe it’ll even pass.</em></p>\n\n<p>It doesn’t make them pass.</p>\n\n<p>Before I knew about proper test-driven development, I did a sort of shake-and-bake version where I manually tested things, and my favorite tool for that is <a href=\"http://krillapps.com/coderunner/\">CodeRunner</a> which lets me just run little bits of code and see what happens. Kind of like irb/pry but with a GUI. So I copy my code into there without the tests and add this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"n\">palindromes</span> <span class=\"o\">=</span> <span class=\"no\">Palindromes</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"ss\">max_factor: </span><span class=\"mi\">9</span><span class=\"p\">)</span>\n<span class=\"n\">palindromes</span><span class=\"p\">.</span><span class=\"nf\">generate</span>\n<span class=\"n\">largest</span> <span class=\"o\">=</span> <span class=\"n\">palindromes</span><span class=\"p\">.</span><span class=\"nf\">largest</span>\n<span class=\"nb\">puts</span> <span class=\"n\">palindromes</span><span class=\"p\">.</span><span class=\"nf\">inspect</span>\n</code></pre>\n</div>\n\n<p>poking at it</p>\n\n<p>And this is what it printed:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\">#&lt;Palindromes:0x007f902a10a100 @range=1..9, @palindrome_factors=[#&lt;PalindromeFactors:0x007f902a10a010 @value=1, @factors=[1, 1]&gt;, #&lt;PalindromeFactors:0x007f902a109f48 @value=2, @factors=[1, 2]&gt;, #&lt;PalindromeFactors:0x007f902a109e80 @value=3, @factors=[1, 3]&gt;, #&lt;PalindromeFactors:0x007f902a109db8 @value=4, @factors=[1, 4]&gt;, #&lt;PalindromeFactors:0x007f902a109cf0 @value=5, @factors=[1, 5]&gt;, #&lt;PalindromeFactors:0x007f902a109c28 @value=6, @factors=[1, 6]&gt;, #&lt;PalindromeFactors:0x007f902a109b60 @value=7, @factors=[1, 7]&gt;, #&lt;PalindromeFactors:0x007f902a109a98 @value=8, @factors=[1, 8]&gt;, #&lt;PalindromeFactors:0x007f902a1099d0 @value=9, @factors=[1, 9]&gt;, #&lt;PalindromeFactors:0x007f902a109908 @value=2, @factors=[2, 1]&gt;, #&lt;PalindromeFactors:0x007f902a109840 @value=4, @factors=[2, 2]&gt;, #&lt;PalindromeFactors:0x007f902a109778 @value=6, @factors=[2, 3]&gt;, #&lt;PalindromeFactors:0x007f902a1096b0 @value=8, @factors=[2, 4]&gt;, #&lt;PalindromeFactors:0x007f902a109390 @value=3, @factors=[3, 1]&gt;, #&lt;PalindromeFactors:0x007f902a1092c8 @value=6, @factors=[3, 2]&gt;, #&lt;PalindromeFactors:0x007f902a109200 @value=9, @factors=[3, 3]&gt;, #&lt;PalindromeFactors:0x007f902a04c100 @value=4, @factors=[4, 1]&gt;, #&lt;PalindromeFactors:0x007f902a04be08 @value=8, @factors=[4, 2]&gt;, #&lt;PalindromeFactors:0x007f902a04b098 @value=5, @factors=[5, 1]&gt;, #&lt;PalindromeFactors:0x007f902a04a210 @value=6, @factors=[6, 1]&gt;, #&lt;PalindromeFactors:0x007f902a0494a0 @value=7, @factors=[7, 1]&gt;, #&lt;PalindromeFactors:0x007f902a048708 @value=8, @factors=[8, 1]&gt;, #&lt;PalindromeFactors:0x007f902a112cb0 @value=9, @factors=[9, 1]&gt;]&gt;</span>\n</code></pre>\n</div>\n\n<p>whoa nelly</p>\n\n<p>I’m <em>always</em> surprised by the dumbest things, but that seems really long to me. That’s not even <em>every</em> permutation of <code class=\"highlighter-rouge\">1..9</code>, it’s just the ones whose product is a palindrome.</p>\n\n<p>Even though it surprised me, I still don’t really see why it’s wrong. So I take a look at the first assertion and try to test it</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"c1\"># the assertion:</span>\n<span class=\"c1\"># largest = palindromes.largest</span>\n<span class=\"c1\"># assert_equal 9, largest.value</span>\n<span class=\"nb\">puts</span> <span class=\"n\">largest</span><span class=\"p\">.</span><span class=\"nf\">value</span>\n</code></pre>\n</div>\n\n<p>testing first assertion</p>\n\n<p>And it printed: <code class=\"highlighter-rouge\">9</code>. Hey! That probably passed! Shouldn’t it turn like half green or something?</p>\n\n<p>OK fun’s over let’s look at the next test.\n<code class=\"highlighter-rouge\">ruby\npalindromes = Palindromes.new(max_factor: 9)\npalindromes.generate\nlargest = palindromes.largest\n# assert [[[3, 3], [1, 9]], [[1, 9], [3, 3]]].include? largest.factors\nputs largest.factors.inspect\n</code></p>\n\n<p>testing second assertion</p>\n\n<p>And it printed: <code class=\"highlighter-rouge\">[9, 1]</code>.</p>\n\n<p>For a moment my nose flares because I think this is a bad test and it’s not my fault. Of course it’s not my fault my <code class=\"highlighter-rouge\">largest</code> method returns the two digits in one order and the test is expecting them in the other order! The way multiplication works, the order doesn’t matter! It should just include <code class=\"highlighter-rouge\">[9,1]</code> in that list so my answer will be right! I want to just edit my answer into to the list of acceptable answers.</p>\n\n<p>I want to be clear that at the time of the writing of this sentence I still don’t <em>really</em> know what’s wrong with it but I kind of have a hunch. I’m noticing there are actually way more brackets in that array than I was mentally doing anything with. It’s not an array of arrays, it’s an array of arrays of arrays! But why? I’m going to just look at it for a moment here:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"p\">[</span>\n  <span class=\"p\">[</span>\n    <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">],</span>\n    <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">]</span>\n  <span class=\"p\">],</span>\n  <span class=\"p\">[</span>\n    <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">],</span>\n    <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">]</span>\n</code></pre>\n</div>\n\n<p>what’s the deal with arrays</p>\n\n<p>So maybe the order of nine and one matters later, but it’s <em>not</em> why I failed this test.</p>\n\n<p>The test asserts that this array includes the largest palindrome’s factors. The largest value is nine – I got that part! – but there are two in-range pairs of numbers that multiply to form nine, and I’m not currently doing anything to group those together. The test is accounting for those two sets of pairs to be grouped in either order, but it wants <em>both</em>. Okay. Now I know.</p>\n\n<p>I made some changes that felt right. I didn’t really <em>think</em> a lot so much as I just vibed out to the new A Great Big Pile Of Leaves album (which has played through maybe three times in full as I write this post) and typed stuff.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">PalindromeFactors</span>\n  <span class=\"kp\">attr_accessor</span> <span class=\"ss\">:value</span><span class=\"p\">,</span> <span class=\"ss\">:factors</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">)</span>\n    <span class=\"vi\">@value</span> <span class=\"o\">=</span> <span class=\"n\">num1</span> <span class=\"o\">*</span> <span class=\"n\">num2</span>\n    <span class=\"c1\"># let's wrap our factors array in an envelope array in case there are multiple ways to arrive at this palindrome</span>\n    <span class=\"vi\">@factors</span> <span class=\"o\">=</span> <span class=\"p\">[[</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">]]</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"c1\"># and make a method to allow these objects to be updated post hoc</span>\n  <span class=\"k\">def</span> <span class=\"nf\">add_factor</span><span class=\"p\">(</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">)</span>\n    <span class=\"vi\">@factors</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">[</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">]</span>\n  <span class=\"k\">end</span>\n\n<span class=\"k\">end</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Palindromes</span>\n  <span class=\"k\">def</span> <span class=\"nf\">initialize</span><span class=\"p\">(</span><span class=\"n\">options</span><span class=\"p\">)</span>\n    <span class=\"n\">max</span> <span class=\"o\">=</span> <span class=\"n\">options</span><span class=\"p\">[</span><span class=\"ss\">:max_factor</span><span class=\"p\">]</span>\n    <span class=\"n\">min</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n    <span class=\"vi\">@range</span> <span class=\"o\">=</span> <span class=\"n\">min</span><span class=\"p\">.</span><span class=\"nf\">.</span><span class=\"n\">max</span>\n    <span class=\"c1\"># so let's keep track of the factors whose product is a palindrome</span>\n    <span class=\"vi\">@palindrome_factors</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">is_palindrome?</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"p\">)</span>\n    <span class=\"n\">num</span><span class=\"p\">.</span><span class=\"nf\">to_s</span> <span class=\"o\">==</span> <span class=\"n\">num</span><span class=\"p\">.</span><span class=\"nf\">to_s</span><span class=\"p\">.</span><span class=\"nf\">reverse</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">generate</span>\n    <span class=\"vi\">@range</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">num1</span><span class=\"o\">|</span>\n      <span class=\"vi\">@range</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">num2</span><span class=\"o\">|</span>\n        <span class=\"c1\"># let's stash this product in a variable because we'll be using it a few times</span>\n        <span class=\"n\">product</span> <span class=\"o\">=</span> <span class=\"n\">num1</span> <span class=\"o\">*</span> <span class=\"n\">num2</span>\n        <span class=\"k\">if</span> <span class=\"n\">is_palindrome?</span><span class=\"p\">(</span><span class=\"n\">product</span><span class=\"p\">)</span>\n          <span class=\"c1\"># let's check if we've already found this palindrome</span>\n          <span class=\"n\">already_found</span> <span class=\"o\">=</span> <span class=\"vi\">@palindrome_factors</span><span class=\"p\">.</span><span class=\"nf\">find</span><span class=\"p\">{</span> <span class=\"o\">|</span><span class=\"n\">pf</span><span class=\"o\">|</span> <span class=\"n\">pf</span><span class=\"p\">.</span><span class=\"nf\">value</span> <span class=\"o\">==</span> <span class=\"n\">product</span> <span class=\"p\">}</span>\n          <span class=\"k\">if</span> <span class=\"n\">already_found</span>\n            <span class=\"n\">already_found</span><span class=\"p\">.</span><span class=\"nf\">add_factor</span><span class=\"p\">(</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">)</span>\n          <span class=\"k\">else</span>\n            <span class=\"vi\">@palindrome_factors</span> <span class=\"o\">&lt;&lt;</span> <span class=\"no\">PalindromeFactors</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">)</span>\n          <span class=\"k\">end</span>\n        <span class=\"k\">end</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">largest</span>\n    <span class=\"vi\">@palindrome_factors</span><span class=\"p\">.</span><span class=\"nf\">sort_by</span><span class=\"p\">{</span> <span class=\"o\">|</span><span class=\"n\">pf</span><span class=\"o\">|</span> <span class=\"n\">pf</span><span class=\"p\">.</span><span class=\"nf\">value</span> <span class=\"p\">}.</span><span class=\"nf\">last</span>\n  <span class=\"k\">end</span>\n\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>third draft</p>\n\n<p>Allow me to be absolutely clear: this still does not pass the tests but I’m starting to feel a momentum and a full glass of milk happiness in my head because mysteries are unraveling before me.</p>\n\n<p>When I go back to CodeRunner, where I used to see merely <code class=\"highlighter-rouge\">[9, 1]</code> I now see: <code class=\"highlighter-rouge\">[[1, 9], [3, 3], [9, 1]]</code> and I know what to do.</p>\n\n<p>I change lines 10-13 of the previous example to:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">add_factor</span><span class=\"p\">(</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">)</span>\n  <span class=\"vi\">@factors</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">[</span><span class=\"n\">num1</span><span class=\"p\">,</span> <span class=\"n\">num2</span><span class=\"p\">]</span> <span class=\"k\">unless</span> <span class=\"vi\">@factors</span><span class=\"p\">.</span><span class=\"nf\">include?</span> <span class=\"p\">[</span><span class=\"n\">num2</span><span class=\"p\">,</span> <span class=\"n\">num1</span><span class=\"p\">]</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>aha</p>\n\n<p>and run the tests and it passes and I should be weeping happily right now.</p>\n\n<p>After passing the first test it only takes about 30 seconds to get the rest to pass. <a href=\"https://gist.github.com/maxjacobson/5916168\">Here’s my final solution on gist</a>. It’s out of the scope of this post.</p>\n\n<hr />\n\n<p>Later in the day, Carlos remarked that he sometimes leaves his body while doing yoga. I asked if the same is true for programming but I think I already knew how I felt about that.</p>\n\n<p>I find problems like this very satisfying in that same disassociative, mind-clearing way. When I first start, my mind is moving too fast and I make too many assumptions and just start doing things and that’s probably fine because that’s how I find out what shape it is. I’m reminded of this Steven King quote on writing from <em>On Writing</em> (<a href=\"http://www.jmreep.com/juvenilia/?p=315\">via</a>):</p>\n\n<blockquote>\n  <p>Stories are found things, like fossils in the ground. . . . Stories aren’t souvenir tee-shirts or GameBoys. Stories are relics, part of an undiscovered pre-existing world. The writer’s job is to use the tools in his or her toolbox to get as much of each one out of the ground intact as possible. Sometimes the fossil you uncover is small; a seashell. Sometimes it’s enormous, a Tyrannosaurus Rex with all those gigantic ribs and grinning teeth. Either way, short story or thousand-page whopper of a novel, the techniques of excavation remain basically the same.</p>\n\n  <p>No matter how good you are, no matter how much experience you have, it’s probably impossible to get the entire fossil out of the ground without a few breaks and losses. To get even most of it, the shovel must give way to more delicate tools: airhose, palm-pick, perhaps even a toothbrush.</p>\n</blockquote>\n\n<p><em>Right??</em> What a beautiful, humble reframing of what makes great creative work: no, you’re not some genius coming up with profound, original ideas; you’re just digging, and gently, and hoping that if you just keep trying stuff, you’ll find something.</p>\n"
      }
      
        ,
      
    
      {
        "date": "18 Jun 2013",
        "title": "blogs... how do they work?",
        "url": "/2013/octopress-and-jekyll",
        "content": "<p>I’ve been using this Octopress blog for a couple weeks and I’m compelled to figure out how it works and came to be. Let’s spelunk now.</p>\n\n<p>In October 2008, in a blog post called <a href=\"http://tom.preston-werner.com/2008/11/17/blogging-like-a-hacker.html\">“Blogging Like a Hacker”</a> Tom Preston-Werner (GitHub co-founder) announced Jekyll, a new website generator for his personal blog. He sought to answer the question: <em>“What would happen if I approached blogging from a software development perspective? What would that look like?”</em> <a href=\"http://web.archive.org/web/20081220103916/http://tom.preston-werner.com/2008/11/17/blogging-like-a-hacker.html\">Here’s</a> the wayback machine archive of that post which is remarkable mainly for looking pretty much the same.</p>\n\n<p>A scant two months later, in December 2008, GitHub <a href=\"https://github.com/blog/272-github-pages\">announced</a> Pages, a new way to host static sites on GitHub, each of which is processed by Jekyll, regardless of whether the programmer took advantage of its features. (Sidebar: it would be fun to work at a company where I could have an idea for a personal project and then find a home for it in a place that others will find and get use from it.)</p>\n\n<p>At that time, Jekyll was at <a href=\"https://github.com/mojombo/jekyll/tree/v0.2.1\">v0.2.1</a>. In order to time travel and try that version of Jekyll on my local machine I ran these commands:</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code>git clone https://github.com/mojombo/jekyll.git\n<span class=\"nb\">cd </span>jekyll\ngit checkout v0.2.1\ngem build jekyll.gemspec\ngem install jekyll-0.2.1.gem\njekyll --version\n</code></pre>\n</div>\n\n<p>And got a bunch of error messages. Ok. I don’t know what’s up with these. Let me fast-forward to April 2009 when <a href=\"https://github.com/blog/402-github-pages-upgraded-to-jekyll-0-5-0\">they announced</a> that GitHub pages was upgraded to use Jekyll v0.5.0. The marquee feature of v0.5.0 is a configuration file.</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code>git checkout v0.5.0\ngem build jekyll.gemspec\ngem install jekyll-0.5.0.gem\njekyll --version\n<span class=\"c\">#=&gt; Jekyll 0.5.0</span>\n</code></pre>\n</div>\n\n<p>OK nice. I’m close to arriving at a point. Imagine being a programmer wanting to start a blog at this point in time and wanting to write in Markdown or Textile and wanting to manage your source files in Git and compile a static site and deploy it on GitHub and encountering this upon running <code class=\"highlighter-rouge\">jekyll --help</code>:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>\nJekyll is a blog-aware, static site generator.\n\nBasic Command Line Usage:\n  jekyll                                                   # . -&gt; ./_site\n  jekyll &lt;path to write generated site&gt;                    # . -&gt; &lt;path&gt;\n  jekyll &lt;path to source&gt; &lt;path to write generated site&gt;   # &lt;path&gt; -&gt; &lt;path&gt;\n\n  Configuration is read from '&lt;source&gt;/_config.yaml' but can be overriden\n  using the following options:\n\n        --auto                       Auto-regenerate\n        --no-auto                    No auto-regenerate\n        --server [PORT]              Start web server (default port 4000)\n        --lsi                        Use LSI for better related posts\n        --pygments                   Use pygments to highlight code\n        --rdiscount                  Use rdiscount gem for Markdown\n        --permalink [TYPE]           Use 'date' (default) for YYYY/MM/DD\n        --version                    Display current version\n\n</code></pre>\n</div>\n\n<p>Alright, cool. Yeah. Ok. Wait where do I start?</p>\n\n<p><strong>Real blog agenda confession:</strong> I was planning to get stumped here to make a point but actually the README pretty clearly recommends cloning a “proto-site repo” at <a href=\"https://github.com/mojombo/tpw\">https://github.com/mojombo/tpw</a> and going from there so that’s what I’ll do now and see where this takes me.</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code>git clone https://github.com/mojombo/tpw.git\n<span class=\"nb\">cd </span>tpw\ngit checkout b107ffb6e44fe4f2398b219e254426d3ec302142\njekyll --server\n</code></pre>\n</div>\n\n<p>(That SHA is the last commit to that repo as of April 2009 and I feel like a time traveler with secret codez).</p>\n\n<p>What this gives you is a blog that looks very much like Preston-Werner’s and a pattern to follow: replace his posts with your posts; replace his name with your name; commit and push. Now you have a stark, white blog just like that cool guy.</p>\n\n<p>Later in 2009, in October, Brandon Mathis released Octopress, a framework for Jekyll. In what must be an homage to that original blog post, its tagline is “A blogging framework for hackers”. Since then he’s built an ecosystem for plugins and themes around this framework. Where Jekyll is “blog aware”, Octopress is blog obsessed. Where Jekyll gives you just enough to get started, Octopress gives you a super sturdy, robust design and toolset.</p>\n\n<h3 id=\"some-key-differences-between-octopress-and-pure-jekyll\">Some key differences between Octopress and pure Jekyll</h3>\n\n<ul>\n  <li>When deploying an Octopress blog to GitHub Pages, you compile the static files <em>before</em> pushing; when deploying a pure Jekyll blog to GitHub Pages, you push the uncompiled source files, with unrendered markup files and templates, and it compiles the assets upon receiving the push. If you want to use plugins, Octopress is a better choice because their effects can be wraught during the compilation but not in the post-receive hook (on GitHub anyway; you can set up your own server if you need all that).</li>\n  <li>That also means you only need one branch for a pure Jekyll blog, where you need two (“source” and “master”) for Octopress.</li>\n  <li>It also means the commit log on your master branch is full of auto-generated, non-semantic commit messages (<em>boo</em> right?)</li>\n  <li>There are <em>way</em> more source files in an Octopress blog, which can feel somewhat constrictive, at least to this young blogger.</li>\n  <li>Octopress’s <code class=\"highlighter-rouge\">rake preview</code> command watches for changes, including those made to the sass files, and compiles those into CSS. It would be cool if it compiled CoffeeScript too.</li>\n  <li>Octopress has this kind of confusing relationship with Git branches where its root directory stays on branch “source” and is updated by the blogger, and contains a directory called <code class=\"highlighter-rouge\">_deploy</code> which contains a second instance of the same repo, which is meant to stay on branch “master” and be auto-generated by the framework. It’s a clever solution to the situation constraints but not immediately intuitive or adequately explained (including by me just now, I’m sure).</li>\n</ul>\n\n<p>Because Jekyll is distributed as a gem and has a simpler, smaller file structure and a normal git repo, I’m tempted to suggest it’s a better place to start for someone interested in getting their feet wet with this kind of “hacker” blogging. It’s easy to discard Preston-Werner’s theme and start from scratch, and if your site is ugly then, as we’ve learned, you’re <a href=\"http://www.w3.org/People/Berners-Lee/\">in</a> <a href=\"http://www.python.org/~guido/\">good</a> <a href=\"http://www.wall.org/~larry/\">hacker</a> <a href=\"http://www.aviflombaum.com/\">company</a>.</p>\n\n<p>This is probably more true than ever since, in May 2013, just last month, Jekyll 1.0 <a href=\"https://github.com/blog/1502-jekyll-turns-1-0\">was released</a> and with it a magical, long-overdue command: <code class=\"highlighter-rouge\">jekyll new</code> which – you guessed it – instantiates a plain white blog for you on your filesystem.</p>\n\n<p>Also new is <a href=\"http://jekyllrb.com\">http://jekyllrb.com</a>, some great (and beautifully designed) documentation to reference as you extend your site.</p>\n\n<h3 id=\"what-even-is-jekyll\">what even is jekyll</h3>\n\n<p>The Jekyll program itself is written in Ruby, but you don’t need to know Ruby to work with Jekyll. You just need to be okay with the idea of Ruby code generating your blog. In fact, if you go in knowing some Ruby, you might find yourself confused by some things like I was.</p>\n\n<p>Jekyll looks at each markup file (HTML, Markdown, Textile) in your project and looks at the file extension to know how to convert to HTML, if it needs to. It’s smart enough to know that some people use <code class=\"highlighter-rouge\">.md</code> and others use <code class=\"highlighter-rouge\">.markdown</code> and to just be chill about it. It reads the <a href=\"http://jekyllrb.com/docs/frontmatter/\">“YAML frontmatter”</a> to look for instructions for what to do with these files, like if it should look like a post, with the date and maybe comments or if it’s just some generic page. You can stash arbitrary values in their to use in your layouts too, like putting <code class=\"highlighter-rouge\">mood: happy</code> at the top of fun posts and then referencing <code class=\"highlighter-rouge\">page.mood</code> in your posts layout.</p>\n\n<p>So let’s talk about that templating system briefly. Knowing Jekyll is a Ruby project, and having dabbled with Ruby web development, I made the mistake of assuming Jekyll would follow Ruby conventions that I was familiar with (something like Haml or ERB or Slim), but it kind of doesn’t. What it uses is <a href=\"https://github.com/Shopify/liquid/\">Liquid</a>, a templating system developed by Shopify. Like Jekyll, it’s written in Ruby and distributed as a gem, so it bundles along well. Once I adjusted my expectations, I found it easy to work with. When you initialize a new Jekyll site (with <code class=\"highlighter-rouge\">jekyll new my_great_blog</code>), it gives you this <code class=\"highlighter-rouge\">index.html</code> file to be your barebones homepage:</p>\n\n<noscript><pre>400: Invalid request\n</pre></noscript>\n<script src=\"https://gist.github.com/5692225.js\"> </script>\n\n<p>(note: I think I <em>have</em> to use a GitHub Gist to host that code snippet because if I embed it in this post, Jekyll will interpet the Liquid tags)</p>\n\n<p>Alright so clearly it’s mostly HTML, and the file extension is <code class=\"highlighter-rouge\">.html</code>, but there’s a lot in there that’s not valid HTML and would confuse your browser if opened directly. Which is fine, because that’s not what you do. This is what a Liquid template looks like. If you’re looking for Ruby, you’ll be rebuffed by this. I have no idea where <code class=\"highlighter-rouge\">endfor</code> comes from and the double curly braces and dot notation are <a href=\"http://handlebarsjs.com/\">very JavaScript-y</a>. So learn to love Liquid, I guess.</p>\n\n<p>This file is not a complete web page. It has no doctype or <code class=\"highlighter-rouge\">&lt;head&gt;</code> or <code class=\"highlighter-rouge\">&lt;body&gt;</code> tags. It’s a partial. The file that has the rest of it is in <code class=\"highlighter-rouge\">_layouts/default.html</code> and the line <code class=\"highlighter-rouge\">layout: default</code> in this file tells Jekyll to compile this, then insert it into that. You can define more layouts but you may not have to. The other layout that comes with Jekyll is <code class=\"highlighter-rouge\">_layouts/post.html</code> which is actually also a partial. When you write a blog post, it has <code class=\"highlighter-rouge\">layout: post</code> in the YAML, so the compiled post is sent to <code class=\"highlighter-rouge\">_layouts/post.html</code>, which has <code class=\"highlighter-rouge\">layout: default</code> in the header, so it does a few things then passes the ball along to its final stop. It’s like a cheap Russian nesting doll with only three dolls.</p>\n\n<h3 id=\"unspelunk\">unspelunk</h3>\n\n<p>Honestly both are great. Octopress feels like rocket powered training wheels, but that’s a fun visual so</p>\n"
      }
      
        ,
      
    
      {
        "date": "17 Jun 2013",
        "title": "rubí dos",
        "url": "/2013/dos",
        "content": "<p>The Ruby Core Team <a href=\"http://www.ruby-lang.org/en/news/2011/10/06/plans-for-1-8-7/\">wrote</a> this in October 2011:</p>\n\n<blockquote>\n  <p>Schedule:</p>\n\n  <ul>\n    <li>\n      <p>We continue to provide normal maintenance for 1.8.7 as usual, until June 2012. You can safely assume we provide bugfixes and no incompatibility shall be introduced.</p>\n    </li>\n    <li>\n      <p>After that we stop bugfixes. We still provide security fixes until June 2013, in case you are still using 1.8.7.</p>\n    </li>\n    <li>\n      <p>We will no longer support 1.8.7 in all senses after June 2013.</p>\n    </li>\n  </ul>\n</blockquote>\n\n<p>It’s June 2013.</p>\n\n<p>One of the things that is keeping people using Ruby 1.8.7 must be that it comes with Macs as the default Ruby, and installing newer versions isn’t as easy as it could be. Well this is kind of cool:</p>\n\n<blockquote class=\"twitter-tweet\"><p>OS X Mavericks has <a href=\"https://twitter.com/search?q=%23ruby&amp;src=hash\">#ruby</a> 2.0.0-p195 installed as default system version of ruby.</p>&mdash; Wes Oldenbeuving (@Narnach) <a href=\"https://twitter.com/Narnach/statuses/344368814802227201\">June 11, 2013</a></blockquote>\n<script async=\"\" src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n<p>Ruby developers will go through the process of installing rvm, rbenv, or chruby to manage multiple Ruby versions so this might not immediately affect the work they do on their personal computers <em>but</em> I think it’s a huge win because it encourages people to casually try Ruby and have a modern experience, be they newbies or experts in other languages. It also makes it easier to require newer versions of Ruby when releasing RubyGems.</p>\n\n<p>I had this in mind while reading <a href=\"https://speakerdeck.com/geeforr/whats-new-in-ruby-2-dot-0\">What’s new in Ruby 2.0</a> by Gabriel Fortuna, a speakerdeck I’ll embed here:</p>\n\n<script async=\"\" class=\"speakerdeck-embed\" data-id=\"f080c130744c01306b5122000a1c8083\" data-ratio=\"1.33333333333333\" src=\"//speakerdeck.com/assets/embed.js\"></script>\n\n<p>Fortuna shows off some of the cool new features Ruby 2.0 offers. Some of them have to do with how the interpreter works more efficiently, which honestly goes over my head right now. But I’m pretty interested in new syntactic features like keyword arguments.</p>\n\n<p>Before Ruby 2.0, if you have a method that has several arguments, you just have to remember their order and which means what or wrap them in a hash. With keyword arguments you can label your arguments for greater clarity. <a href=\"http://brainspec.com/blog/2012/10/08/keyword-arguments-ruby-2-0/\">This blog post</a> has a great overview.</p>\n\n<p>Another change is “Refinements” which aims to be a more elegant way to modify class behaviors in lieue of monkey patching. You can still crack open and modify classes in crazy ways, but this lets you localize those changes to contexts, for the sake of being a little safe about it.</p>\n\n<p>I’d love to use these features, the others Fortuna covers, and what I’m sure are plenty of more little cool changes. Fortuna mentions that the next major version of Ruby on Rails, Rails 4, is designed for Ruby 2.0. That’s exciting. I wonder how fast the community will adopt these as the new de facto standard.</p>\n"
      }
      
        ,
      
    
      {
        "date": "13 Jun 2013",
        "title": "random emoji in prompt",
        "url": "/2013/random-emoji-in-prompt",
        "content": "<p>So this is fun. Most of us at school have some symbol or emoji in our bash prompts. I’ve had a little piggie emoji for a few weeks which has served me fine but I’d like to introduce some… <em>chance</em> into my life. I want to have a random emoji in my prompt. Originally I wanted a new icon on a per-terminal-session basis but then I decided I wanted a new one <em>after every command</em>.</p>\n\n<p>Here’s a simple Ruby script to print a random emoji from a nice subset of positive ones (no murder weapons or pills or bills)<sup id=\"fnref:encodingmakesmesad\"><a href=\"#fn:encodingmakesmesad\" class=\"footnote\">1</a></sup>:</p>\n\n<noscript><pre>400: Invalid request\n</pre></noscript>\n<script src=\"https://gist.github.com/5779455.js\"> </script>\n\n<p>I have this exact file saved in my home directory. It’s a dotfile (hidden file) because for the most part I don’t want to see it. Maybe there’s a better place to put it.</p>\n\n<p>In order to get the output of that script into my prompt, I need to udpate my <code class=\"highlighter-rouge\">PS1</code> bash variable. In order to refresh it after every command I need to do this weird thing I’ve never done before (this goes in my bash profile):</p>\n\n<noscript><pre>400: Invalid request\n</pre></noscript>\n<script src=\"https://gist.github.com/5779447.js\"> </script>\n\n<p>The <code class=\"highlighter-rouge\">PROMPT_COMMAND</code> variable can be assigned some shell script code to run before every drawing of the prompt. In this case, it’s calling a function called <code class=\"highlighter-rouge\">set_prompt</code>, which runs the Ruby program and interpolates its response into the <code class=\"highlighter-rouge\">PS1</code> variable, so it’s different each time.</p>\n\n<p>In order for the Ruby script to be executable by other code, we need to adjust its permissions. If you don’t do this, you get an error instead of a pig. You can run <code class=\"highlighter-rouge\">chmod a+x ~/.emoji.rb</code>.</p>\n\n<p>I’m happy. I’m gonna keep adding / removing / futzing with my emoji set. The code should work with any number of items in there, so I may go wild. The easiest way to get at them on a Mac is, from any text field, the <strong>Edit</strong> menu, then <strong>Special Characters</strong> (tip <a href=\"http://blog.samantharadocchia.com/post/52272246893/heres-how-customize-the-command-line-by-adding-emoji\">via classmate Samantha Radocchia’s blog</a>).</p>\n\n<p>If you try this and get it working, let me know on twitter at <a href=\"http://twitter.com/maxjacobson\">@maxjacobson</a> #sleaze</p>\n\n<hr />\n\n<h2 id=\"edit-on-july-4\">EDIT on July 4</h2>\n\n<p>Actually this code totally sucks. It’s not at all necessary to use <code class=\"highlighter-rouge\">PROMPT_COMMAND</code>. You can change this:</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">function </span>set_prompt <span class=\"o\">{</span>\n  <span class=\"nb\">export </span><span class=\"nv\">PS1</span><span class=\"o\">=</span><span class=\"s2\">\"[</span><span class=\"se\">\\@</span><span class=\"s2\">] [</span><span class=\"se\">\\W</span><span class=\"s2\">]</span><span class=\"se\">\\n</span><span class=\"k\">$(</span>~/.emoji.rb<span class=\"k\">)</span><span class=\"s2\"> \"</span>\n<span class=\"o\">}</span>\n<span class=\"nb\">export </span><span class=\"nv\">PROMPT_COMMAND</span><span class=\"o\">=</span>set_prompt\n</code></pre>\n</div>\n\n<p>to:</p>\n\n<div class=\"language-bash highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">export </span><span class=\"nv\">PS1</span><span class=\"o\">=</span><span class=\"s2\">\"[</span><span class=\"se\">\\@</span><span class=\"s2\">] [</span><span class=\"se\">\\W</span><span class=\"s2\">]</span><span class=\"se\">\\n\\$</span><span class=\"s2\">(~/.emoji.rb) \"</span>\n</code></pre>\n</div>\n\n<p>The only breakthrough I had is that <code class=\"highlighter-rouge\">\\$(function_name)</code> runs the function over and over where <code class=\"highlighter-rouge\">$(function_name)</code> only runs it once. No idea why.</p>\n\n<p>This fixes the bug where the Terminal wasn’t remembering my current working directory and auto-cd-ing into it when I open a new tab.</p>\n\n<p>It should also be easier to drop this into your current prompt. Just add <code class=\"highlighter-rouge\">\\$(~/.emoji.rb)</code> wherever in your <code class=\"highlighter-rouge\">PS1</code> you want it.</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:encodingmakesmesad\">\n      <p>Note: I’m painfully aware that most of those emoji are probably not showing up for you in your browser right now. I don’t understand what exactly emoji are or how they work enough to try to fix that. If you want to do this you will probably need to re-populate that line with your favorite picks. <a href=\"#fnref:encodingmakesmesad\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "09 Jun 2013",
        "title": "reroute",
        "url": "/2013/reroute",
        "content": "<p>I don’t know how you’re supposed to redirect from old sites to new ones but I\ndid it with a simple Sinatra app. I disconnected the previous sinatra app from\nmy domain and connected this and it kinda works!</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">require</span> <span class=\"s1\">'sinatra'</span>\n\n<span class=\"n\">get</span> <span class=\"s1\">'/'</span> <span class=\"k\">do</span>\n  <span class=\"n\">redirect</span> <span class=\"s2\">\"http://maxjacobson.github.io\"</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">get</span> <span class=\"s1\">'/feed'</span> <span class=\"k\">do</span>\n  <span class=\"n\">redirect</span> <span class=\"s2\">\"http://maxjacobson.github.io/atom.xml\"</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">get</span> <span class=\"s1\">'/~about'</span> <span class=\"k\">do</span>\n  <span class=\"n\">redirect</span> <span class=\"s2\">\"http://maxjacobson.github.io/blog/about\"</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">get</span> <span class=\"s1\">'/~projects'</span> <span class=\"k\">do</span>\n  <span class=\"n\">redirect</span> <span class=\"s2\">\"http://maxjacobson.github.io/blog/about\"</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">get</span> <span class=\"s1\">'/:anything'</span> <span class=\"k\">do</span>\n  <span class=\"n\">redirect</span> <span class=\"s2\">\"http://maxjacobson.github.io\"</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<hr />\n\n<p><strong>edit November 2014</strong>: I <a href=\"https://github.com/maxjacobson/maxjacobson.net\">open sourced</a> the app and made a few small tweaks\nto reflect my current internet home.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "09 Jun 2013",
        "title": "welcome",
        "url": "/2013/welcome",
        "content": "<p>I deleted my old blog. I set up some redirects from there to here. I took those old posts offline. <em>Valar blog morghulis</em>.</p>\n\n<p>This one is on <a href=\"http://octopress.org\">Octopress</a>. It is with some small regret that I am killing off <a href=\"http://github.com/maxjacobson/beefsteak\">Beefsteak</a>.</p>\n"
      }
      
        ,
      
    
      {
        "date": "02 Jun 2013",
        "title": "Doing my prework",
        "url": "/2013/prework",
        "content": "<p>School starts soon, so I’m cramming my <a href=\"http://prework.flatironschool.com\">homework</a> in.</p>\n\n<h2 id=\"internet-basics\">Internet Basics</h2>\n\n<h3 id=\"the-web\">The Web</h3>\n\n<ul>\n  <li><a href=\"http://teamtreehouse.com/library/websites/website-basics/website-basics\">Website Basics: 1.5 Hours</a> – 6/6</li>\n  <li><a href=\"http://teamtreehouse.com/library/websites/technology-foundations/graphic-basics\">Graphic Basics: 2 Hour</a> – 4/4</li>\n  <li><a href=\"http://teamtreehouse.com/library/websites/aesthetic-foundations\">Aesthetic Foundations: 2.5 Hours</a> – 13/13</li>\n</ul>\n\n<h3 id=\"the-command-line\">The Command Line</h3>\n\n<ul>\n  <li><a href=\"http://cli.learncodethehardway.org/book/\">Learn the Command Line the Hard Way</a> – 24/24</li>\n  <li><a href=\"http://blog.teamtreehouse.com/command-line-basics\">Command Line Basics</a> – 1/1</li>\n  <li><a href=\"https://gist.github.com/a8a7ca963e37e0b108b9\">Bash Basics</a> – 1/1</li>\n</ul>\n\n<h3 id=\"sql-and-databases\">SQL and Databases</h3>\n\n<ul>\n  <li><a href=\"http://sql.learncodethehardway.org/book/\">Learn SQL the Hard Way</a> – 8/33</li>\n</ul>\n\n<h3 id=\"hypertext-markup-language\">Hypertext Markup Language</h3>\n\n<ul>\n  <li><a href=\"http://learn.shayhowe.com/html-css/\">HTML &amp; CSS Tutorial</a> – 10/10</li>\n  <li><a href=\"http://teamtreehouse.com/library/websites/html\">Treehouse HTML Basics</a> – 33/33</li>\n  <li><a href=\"http://www.codeschool.com/courses/functional-html5-css3\">Advanced HTML5 &amp; CSS3</a> – 44/44</li>\n</ul>\n\n<h3 id=\"cascading-style-sheets\">Cascading Style Sheets</h3>\n\n<ul>\n  <li><a href=\"http://teamtreehouse.com/library/websites/css-foundations-2\">CSS Foundations on Treehouse</a> (a chapter on animation was added this week but the challenges don’t have submit buttons?) – 100/100</li>\n  <li><a href=\"http://www.codeschool.com/courses/css-cross-country\">CSS Cross Country on Code School</a> – 43/43</li>\n  <li><a href=\"http://teamtreehouse.com/library/websites/build-a-responsive-website/\">Responsive Websites on Treehouse</a> – 36/36</li>\n</ul>\n\n<h3 id=\"git-version-control\">Git: Version Control</h3>\n\n<ul>\n  <li>\n    <p><a href=\"http://www.codeschool.com/courses/try-git\">Try Git</a> – 25/25</p>\n  </li>\n  <li><a href=\"http://www.codeschool.com/courses/git-real\">Git Real on Code School</a> – 64/64</li>\n  <li><a href=\"http://gitimmersion.com/\">Git Immersion</a> – 53/53</li>\n  <li><a href=\"http://git-scm.com/book\">The Git Book</a> – 61/61</li>\n  <li><a href=\"http://git-scm.com/videos\">Git Videos</a> – 4/4</li>\n</ul>\n\n<h2 id=\"programming\">Programming</h2>\n\n<h3 id=\"basics\">Basics</h3>\n\n<ul>\n  <li><a href=\"http://www.codeschool.com/courses/try-ruby\">Try Ruby</a> – 8/8</li>\n  <li><a href=\"http://teamtreehouse.com/library/programming-2/introduction-to-programming\">Introduction to Programming</a> – 13/13</li>\n</ul>\n\n<h3 id=\"javascript\">JavaScript</h3>\n\n<ul>\n  <li><a href=\"http://teamtreehouse.com/library/websites/javascript-foundations\">JavaScript Foundations</a> – 38/38</li>\n  <li><a href=\"http://www.codeschool.com/courses/jquery-air-first-flight\">jQuery Air, First Flight</a> – 92/92</li>\n  <li><a href=\"http://www.codeschool.com/courses/jquery-air-captains-log\">jQuery Air, Captain’s Log</a> – 43/43</li>\n</ul>\n\n<h3 id=\"ruby\">Ruby</h3>\n\n<ul>\n  <li><a href=\"http://pine.fm/LearnToProgram/\">Learn to Program</a> – 12/12</li>\n  <li><a href=\"http://teamtreehouse.com/library/programming-2/ruby-foundations\">Ruby Foundations on treehouse</a> – 74/74</li>\n  <li><a href=\"http://www.codeschool.com/courses/ruby-bits\">Ruby Bits</a> – 50/50</li>\n</ul>\n\n<h3 id=\"rails\">Rails</h3>\n\n<ul>\n  <li><a href=\"http://guides.rubyonrails.org/getting_started.html\">Getting Started with Rails Guide</a> – 0/14</li>\n  <li><a href=\"http://www.codeschool.com/courses/rails-for-zombies-redux\">Rails for Zombies on codeschool</a> – 0/27</li>\n  <li><a href=\"http://www.codeschool.com/courses/rails-for-zombies-2\">Rails for Zombies 2 on codeschool</a> – 0/57</li>\n  <li><a href=\"http://teamtreehouse.com/library/programming-2/build-a-simple-version-of-facebook\">Building Facebook on treehouse</a> – 40/91</li>\n</ul>\n\n<h2 id=\"advanced-topics\">Advanced Topics</h2>\n\n<h3 id=\"testing\">Testing</h3>\n\n<ul>\n  <li><a href=\"http://www.codeschool.com/courses/testing-with-rspec\">Testing with RSpec on codeschool</a> – 0/44</li>\n  <li><a href=\"http://www.codeschool.com/courses/rails-testing-for-zombies\">Rails Testing for Zombies on codeschool</a> – 0/47</li>\n</ul>\n\n<h3 id=\"best-practices\">Best Practices</h3>\n\n<ul>\n  <li><a href=\"http://www.codeschool.com/courses/rails-best-practices\">Rails Best Practices on codeschool</a> – 0/37</li>\n</ul>\n"
      }
      
        ,
      
    
      {
        "date": "22 Apr 2013",
        "title": "loving websites",
        "url": "/2013/loving-websites",
        "content": "<p>I was sad when I read that Google Reader was ending and I want to examine that emotion. I love Google Reader. I also love Twitter and I’d be sad if Twitter stopped existing.</p>\n\n<p>Except I don’t love either, really. I love the people I follow on Twitter. I’m grateful for Twitter <strong>connecting</strong> them to me the same way I’m grateful for Google Reader making it possible for me to keep track of the feeds that matter to me. Unlike the people they connect me to, neither service is wholly original or irreplaceable.</p>\n\n<p>I’m ambivalent about Twitter, Inc. but I do love twitter.</p>\n\n<p>I think this happened yesterday but I was very exhausted and I’m not sure: I had brunch with, among others, <a href=\"http://curiousrat.com\">Harry Marks</a> and <a href=\"http://alpha.app.net/dalton\">Dalton Caldwell</a>. Ostensibly, it was an <a href=\"https://alpha.app.net/hcmarks/post/4775098\">open ADN meetup</a>, but as one of only six guys around a table, I felt a bit like I was eavesdropping. Today Marks wrote a post about why he prefers ADN to Twitter, and it touches on some of the things we discussed yesterday. It’s a better post than the one that inspired it, which made a similar but poorly elucidated point. In that one, Ben Brooks <a href=\"http://brooksreview.net/2013/04/first-class-baby/\">champions ADN’s exclusivity</a> and compares it to being a member of a private golf course, where “you can play several holes without seeing another soul.” As nice as that may be, it’s an ugly and ridiculous thing to want from a social network. Marks <a href=\"http://curiousrat.com/are-you-the-customer\">reframes this idea</a>:</p>\n\n<blockquote>\n  <p>App.net is as inclusive as you can get because it puts users and developers first, not big-name companies and celebrities. App.net treats its user base as more than just one big antenna for ads and there are actual support channels that don’t end in .py. That means a lot to me.<sup id=\"fnref:py\"><a href=\"#fn:py\" class=\"footnote\">1</a></sup></p>\n</blockquote>\n\n<p>While I’m sure ADN would actually be thrilled if some celebrities used it, I think Marks has a good point that the only people who are being willfully excluded from the network are advertisers and spammers<sup id=\"fnref:ohsnap\"><a href=\"#fn:ohsnap\" class=\"footnote\">2</a></sup>, and that’s a good thing. I’m not yet sure that I love ADN but I get the sense that <em>it</em> loves <em>me</em><sup id=\"fnref:ridiculous\"><a href=\"#fn:ridiculous\" class=\"footnote\">3</a></sup>, at least more than Twitter does. And not just me; it’s got a crush on <em>people</em>, and like most of my crushes, people don’t even know ADN exists.</p>\n\n<iframe width=\"425\" height=\"239\" src=\"http://www.youtube.com/embed/FOjdXSrtUxA\" frameborder=\"0\" allowfullscreen=\"\"></iframe>\n\n<iframe width=\"425\" height=\"239\" src=\"http://www.youtube.com/embed/VuNIsY6JdUw\" frameborder=\"0\" allowfullscreen=\"\"></iframe>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:py\">\n      <p>Does Twitter offer support channels that are python scripts…? <a href=\"#fnref:py\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:ohsnap\">\n      <p>same thing? lol snap, makes you think <a href=\"#fnref:ohsnap\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:ridiculous\">\n      <p>That’s a very ridiculous thing to say but the founder did pay for my oatmeal yesterday <a href=\"#fnref:ridiculous\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "04 Apr 2013",
        "title": "back to school",
        "url": "/2013/back-to-school",
        "content": "<p>So I’m migrated and making plans for the future. The main part of the plan is to go to <a href=\"http://www.youtube.com/watch?v=QhM8QcS8P9Q\">Flatiron School</a> and get really good at Rails. Other parts include having my tonsils removed to ease my sleep apnea, sclerotherapy to zap the <a href=\"http://en.wikipedia.org/wiki/Arteriovenous_malformation\">knots of veins</a> weighing down my face, and a wisdom tooth out, possibly all in one surgery. It’s been eight years since my last treatment. I remember afterwards, when the swelling was gone, not recognizing myself. It’s been eight years since my last face scrambling and that’s long enough that I hardly recognize myself again. Some guys have the discipline to get a haircut every three weeks; maybe it’s a standing appointment, maybe it’s a reoccuring calendar entry. My hair graph slopes up as I don’t think about it then roller coasters down every few months. Same as my fat lip, which slowly grows over the years and eventually needs dealing with. I’m not afraid of doctors or hospitals but whenever I spend time around them I find myself marveling at, like, the modularity of diagnostics, and whether that’s amazing and weird or just amazing. Each doctor has a specialty they’re real good at fixing, almost like an assembly line worker, and you feel like an elephant bouncing between blind men (neither analogy is fair at all). Learning to write code establishes a context for clarity that I want to fit everything into, but bodies aren’t computers and neither is The Universe. Least clear of all, probably, is this blog post. I’m tired and anxious and it’s the middle of the night and <a href=\"http://www.youtube.com/watch?v=U7-q95zn2gg\">Art Brut</a> is singing, <em>“The record buying public shouldn’t be voting!”</em> and that helps, but only so much. So I’ll try to sleep. I’ll finish <a href=\"https://rubygems.org/gems/smashcut\">smashcut</a>. I’ll eat lentil soup and I’ll tutor people. I’ll go back to school.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "23 Mar 2013",
        "title": "migrations",
        "url": "/2013/migrations",
        "content": "<p>A few days ago on ADN I noticed tech blogger Harry Marks <a href=\"https://alpha.app.net/hcmarks/post/4018261\">complaining</a> about his blog host, Squarespace. For various reasons, he wanted to take his blog elsewhere. What they gave him was as a large xml file with more than sixty-thousand lines of bracketed stuff amounting to 5.5mb, which is kind of humongous for a text file.</p>\n\n<p>I get uncomfortable when people are upset and I want to help them so I can relax again, so I offered to help convert that xml file into the format he wanted, which is a markdown file for each blog post with the metadata at the top in the YAML front-matter syntax. I felt pretty comfortable that I could help because some of the projects I’ve done recently involved xml interpretation<sup id=\"fnref:souffle\"><a href=\"#fn:souffle\" class=\"footnote\">1</a></sup>, markdown<sup id=\"fnref:beef\"><a href=\"#fn:beef\" class=\"footnote\">2</a></sup>, and general string manipulation, and was like <em>mad bored</em> and jonesing for a project just like this, to do like my mom does Sudoku (which I’m terrible at).</p>\n\n<p>On ADN it’s customary to join conversations uninvited. People go to the global feed and just reply to things. Some apps de-prioritize the global feed, to the ire of these people. My instinct is to give people space, but when in Rome, … write unsolicited programs … ?</p>\n\n<p>So I made this thing and I think it was useful. Marks seems to have successfully migrated his site to a markdowny platform. I felt proud to get <a href=\"http://curiousrat.com/curious-rat-new-home-new-feeds-same-snark\">a shout out</a> in his anouncement post. I put the converter on GitHub in case other people want to use it: <a href=\"https://github.com/maxjacobson/flee_to_md\">flee to md</a>. But my mind is preoccupied with another migration. I’m moving at the end of the month. I’ve lived in this apartment in Washington Heights for two years now and now I’m going to find out what’s next. Today I crossed a river to New Jersey to tutor a stranger in JavaScript and jQuery and got some cash out of it. It’s hard to know if you’re spending your time well. I don’t find it helpful to think about the cosmos. Yes, life is insanely short and we should cherish every moment. Yes, yes, yes. Of course. And yes, you’re allowed to have hobbies. And yes, it’s counter-productive to become paralyzed by the pressure of cherishing moments, and yes</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:souffle\">\n      <p>like <a href=\"http://souffle.herokuapp.com/\">souffle</a> which either is way less relevant now that google reader is shutting down, or way more so? not sure. <a href=\"#fnref:souffle\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:beef\">\n      <p>like, w/r/t <a href=\"https://github.com/maxjacobson/beefsteak\">this blog engine</a>. <a href=\"#fnref:beef\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "19 Mar 2013",
        "title": "devblog",
        "url": "/2013/devblog",
        "content": "<p><strong>Note:</strong> When I was first learning Ruby in late 2012, I made a small web app called “beefsteak” to act as my blog.\nI wrote several posts on that blog while I was exploring and adding features.\nI’ve since migrated my personal blog away from beefsteak and to Octopress, and then Jekyll.\nI decided to collapse those posts into one post because I think they’re kind of confusing now that they’re on a Jekyll site.\nI’m writing this note on July 10th, 2016.\nBy the time you’re reading this, who knows what the blog is running on…</p>\n\n<h2 id=\"testing-this-little-devblog-thing\">testing this little devblog thing</h2>\n\n<p><em>Originally posted December 1, 2012</em></p>\n\n<p>So it’s like 6am and I guess I just made my first mini markdown blog engine.</p>\n\n<p>I’m almost certainly too quick to congratulate myself. It has approximately zero features but it’s succeeding at putting HTML on the screen and I call that a win.</p>\n\n<p>This is pretty much the whole app:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nb\">require</span> <span class=\"s1\">'sinatra'</span>\n<span class=\"nb\">require</span> <span class=\"s1\">'kramdown'</span>\n\n<span class=\"n\">get</span> <span class=\"s1\">'/'</span> <span class=\"k\">do</span>\n  <span class=\"vi\">@title</span> <span class=\"o\">=</span> <span class=\"s2\">\"devblog - max jacobson\"</span>\n  <span class=\"n\">the_html</span> <span class=\"o\">=</span> <span class=\"no\">String</span><span class=\"p\">.</span><span class=\"nf\">new</span>\n  <span class=\"n\">the_html</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s2\">\"&lt;h1&gt;</span><span class=\"si\">#{</span><span class=\"vi\">@title</span><span class=\"si\">}</span><span class=\"s2\">&lt;/h1&gt;</span><span class=\"se\">\\n\\n</span><span class=\"s2\">&lt;hr /&gt;\"</span>\n  <span class=\"n\">posts</span> <span class=\"o\">=</span> <span class=\"no\">Dir</span><span class=\"p\">.</span><span class=\"nf\">entries</span><span class=\"p\">(</span><span class=\"s2\">\"posts\"</span><span class=\"p\">)</span>\n  <span class=\"n\">posts</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">filename</span><span class=\"o\">|</span>\n    <span class=\"k\">if</span> <span class=\"n\">filename</span> <span class=\"o\">=~</span> <span class=\"sr\">/.md/</span>\n      <span class=\"n\">the_text</span> <span class=\"o\">=</span> <span class=\"no\">File</span><span class=\"p\">.</span><span class=\"nf\">read</span><span class=\"p\">(</span><span class=\"s2\">\"posts/\"</span> <span class=\"o\">+</span> <span class=\"n\">filename</span><span class=\"p\">)</span>\n      <span class=\"n\">the_html</span> <span class=\"o\">&lt;&lt;</span> <span class=\"no\">Kramdown</span><span class=\"o\">::</span><span class=\"no\">Document</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"n\">the_text</span><span class=\"p\">).</span><span class=\"nf\">to_html</span> <span class=\"o\">+</span> <span class=\"s2\">\"&lt;hr /&gt;\"</span>\n    <span class=\"k\">end</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">erb</span> <span class=\"n\">the_html</span>\n<span class=\"k\">end</span>\n\n<span class=\"n\">get</span> <span class=\"s1\">'/css/style.css'</span> <span class=\"k\">do</span>\n  <span class=\"n\">scss</span> <span class=\"ss\">:style</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>It just checks all the files in a directory called “posts”, checks all of the ones with the <code class=\"highlighter-rouge\">.md</code> file extension, and then renders them all one after the other. That’s it!</p>\n\n<p>I wrote this in just a minute or two so I’ll be sure to add more blog-like features to this. Maybe design it up a bit. That mention of sass is more or less for show.</p>\n\n<p>I feel smart right now so I’m comfortable admitting that I’d love to use Jekyll but just can’t figure out how the hell it works.</p>\n\n<p>This is <em>not</em> one of those smartly static sites. It generates each page as you load it. Probably pretty fast, but still, not <strong>smart</strong>-smart.</p>\n\n<h2 id=\"already-with-the-updates\">Already with the updates</h2>\n\n<p><em>Originally posted December 1, 2012</em></p>\n\n<p><strong>There are already updates</strong> wow I am good.</p>\n\n<p>Things I’ve added in the last small amount of time:</p>\n\n<ul>\n  <li>a <code class=\"highlighter-rouge\">config.rb</code> file for helper methods that get the blog title and subtitle\n    <ul>\n      <li>so nothing in the main app file, <code class=\"highlighter-rouge\">web.rb</code> is hardcoded and theoretically someone else could use this</li>\n    </ul>\n  </li>\n  <li>permalinks based on the file name</li>\n  <li>option to see the markdown source of any page with a little link at the bottom. (alternately just add the <code class=\"highlighter-rouge\">.md</code> to any page)</li>\n  <li>some <em>small</em> amount of style, mainly to do with displaying codeblocks\n    <ul>\n      <li>incidentally, I’m treating markdown source as “code”</li>\n    </ul>\n  </li>\n</ul>\n\n<p>Here’s what the <code class=\"highlighter-rouge\">tree</code> of my project directory looks like right now:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>[~/Dropbox/Sites/devblog] [maxjacobson] [07:41 AM]\nϡ tree\n.\n├── Gemfile\n├── Gemfile.lock\n├── Procfile\n├── config.rb\n├── posts\n│   ├── 2012-12-01-already-updates.md\n│   ├── 2012-12-01-gem-anxiety.md\n│   └── 2012-12-01-the-first-post.md\n├── views\n│   ├── layout.erb\n│   └── style.scss\n└── web.rb\n\n2 directories, 10 files\n</code></pre>\n</div>\n\n<p>Off topic, but: I learned how to customize my bash prompt earlier today and that’s what it looks like.</p>\n\n<h2 id=\"added-sorting\">added sorting</h2>\n\n<p><em>Originally posted December 1, 2012</em></p>\n\n<p>I have added sorting and so I believe the posts on the homepage will be in the proper order. Kewl.</p>\n\n<h2 id=\"did-i-just-implement-search-in-like-5-minutes\">did i just implement search in like 5 minutes?</h2>\n\n<p><em>Originally posted December 1, 2012</em></p>\n\n<p>I’m not sure but I think I just implemented search like it was no big deal.</p>\n\n<p>It works well and fast but only because there are so few posts, I assume. I’m not searching the whole internet here or anything, but I do kinda feel like <strong>I Am Google</strong> or something.</p>\n\n<p>That’s a theme for this system: it will get worse the more I use it. I’m kinda excited to ruin it.</p>\n\n<h2 id=\"man-sorting-is-hard-when-you-use-the-twelve-hour-clock\">man, sorting is hard when you use the twelve hour clock</h2>\n\n<p><em>Originally posted December 1, 2012</em></p>\n\n<p>I have a <a href=\"http://smilesoftware.com/TextExpander/index.html\">TextExpander</a> snippet for quickly inserting the current time. I write <code class=\"highlighter-rouge\">ttime</code> and it inserts, say, 10:43 PM. In that format. If it were an hour earlier, it would say 9:43 PM. No leading zero.</p>\n\n<p>This is what was screwing up my sorting method.</p>\n\n<p>I want posts to be sorted based on both date and time, so if there are multiple posts in a day they’ll show up in the right order instead of just alphabetically.</p>\n\n<p>I could have just written those leading zeros manually or I could’ve just used a twenty-four hour clock, but I like my snippet how it is and want my code to come to me rather than the other way around.</p>\n\n<p>So I’ll share my method because I’m sure in as little as a month I’ll find it embarrassing and that’s very fun for me, being embarrassed.</p>\n\n<p>The argument for this method, <code class=\"highlighter-rouge\">to_sort</code>, is an array of hashes that stores all of the posts.</p>\n\n<p>Each hash looks like this:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"p\">{</span>\n  <span class=\"ss\">:text</span><span class=\"o\">=&gt;</span><span class=\"s2\">\"the body of the post (in markdown) would go here, but it would be long so I'm leaving it out\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">:title</span><span class=\"o\">=&gt;</span><span class=\"s2\">\"Introducing myself to the command line\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">:date</span><span class=\"o\">=&gt;</span><span class=\"s2\">\"2012-02-26\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">:time</span><span class=\"o\">=&gt;</span><span class=\"s2\">\"12:00 PM\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">:category</span><span class=\"o\">=&gt;</span><span class=\"s2\">\"coding\"</span><span class=\"p\">,</span>\n  <span class=\"ss\">:tags_array</span><span class=\"o\">=&gt;</span><span class=\"p\">[</span><span class=\"s2\">\"command-line\"</span><span class=\"p\">,</span> <span class=\"s2\">\"learning\"</span><span class=\"p\">],</span>\n  <span class=\"ss\">:filename</span><span class=\"o\">=&gt;</span><span class=\"s2\">\"2012-02-26-introducing-myself-to-the-command-line\"</span>\n<span class=\"p\">}</span>\n</code></pre>\n</div>\n\n<p>And the method takes the info, specifically the date and time, and adds an additional parameter, <code class=\"highlighter-rouge\">:sorter</code>, and then sorts the array based on that value of each hash, and returns the sorted array.</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">sort_posts</span> <span class=\"p\">(</span><span class=\"n\">to_sort</span><span class=\"p\">)</span>\n  <span class=\"n\">to_sort</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">post</span><span class=\"o\">|</span>\n    <span class=\"n\">the_date</span> <span class=\"o\">=</span> <span class=\"n\">post</span><span class=\"p\">[</span><span class=\"ss\">:date</span><span class=\"p\">]</span>\n    <span class=\"n\">the_time</span> <span class=\"o\">=</span> <span class=\"n\">post</span><span class=\"p\">[</span><span class=\"ss\">:time</span><span class=\"p\">]</span>\n    <span class=\"k\">if</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/AM|am/</span>\n      <span class=\"k\">if</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/^[0-9]:/</span> <span class=\"c1\"># aka ONE digit before the colon</span>\n        <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"s2\">\"0\"</span> <span class=\"o\">+</span> <span class=\"n\">the_time</span><span class=\"p\">).</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |AM|am/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span>\n      <span class=\"k\">else</span>\n        <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">the_time</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |AM|am/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n    <span class=\"k\">if</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/PM|pm/</span>\n      <span class=\"k\">if</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/12:/</span>\n        <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"p\">((</span><span class=\"n\">the_time</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |PM|pm/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)).</span><span class=\"nf\">to_i</span><span class=\"p\">).</span><span class=\"nf\">to_s</span>\n      <span class=\"k\">else</span>\n        <span class=\"k\">if</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/^[0-9]:/</span> <span class=\"c1\"># aka ONE digit before the colon</span>\n          <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"p\">(((</span><span class=\"s2\">\"0\"</span> <span class=\"o\">+</span> <span class=\"n\">the_time</span><span class=\"p\">).</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |PM|pm/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)).</span><span class=\"nf\">to_i</span> <span class=\"o\">+</span> <span class=\"mi\">1200</span><span class=\"p\">).</span><span class=\"nf\">to_s</span>\n        <span class=\"k\">else</span>\n          <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"p\">((</span><span class=\"n\">the_time</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |PM|pm/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)).</span><span class=\"nf\">to_i</span> <span class=\"o\">+</span> <span class=\"mi\">1200</span><span class=\"p\">).</span><span class=\"nf\">to_s</span>\n        <span class=\"k\">end</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n    <span class=\"n\">post</span><span class=\"p\">[</span><span class=\"ss\">:sorter</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">sorter</span><span class=\"p\">.</span><span class=\"nf\">to_i</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">to_sort</span><span class=\"p\">.</span><span class=\"nf\">sort!</span> <span class=\"p\">{</span> <span class=\"o\">|</span><span class=\"n\">a</span><span class=\"p\">,</span><span class=\"n\">b</span><span class=\"o\">|</span> <span class=\"n\">b</span><span class=\"p\">[</span><span class=\"ss\">:sorter</span><span class=\"p\">]</span> <span class=\"o\">&lt;=&gt;</span> <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"ss\">:sorter</span><span class=\"p\">]}</span>\n  <span class=\"k\">return</span> <span class=\"n\">to_sort</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>So that’s that.</p>\n\n<p><strong>Edit (2012-12-02, 10:58 AM):</strong> There’s a bug in there! posts at 12:15am would sort newer than posts at 1:15am becuase twelve is a higher number than one. So I added some conditioanls to treat 12 like zero. Updated code below:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">def</span> <span class=\"nf\">sort_posts</span> <span class=\"p\">(</span><span class=\"n\">to_sort</span><span class=\"p\">)</span>\n  <span class=\"n\">to_sort</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">post</span><span class=\"o\">|</span>\n    <span class=\"n\">the_date</span> <span class=\"o\">=</span> <span class=\"n\">post</span><span class=\"p\">[</span><span class=\"ss\">:date</span><span class=\"p\">]</span>\n    <span class=\"n\">the_time</span> <span class=\"o\">=</span> <span class=\"n\">post</span><span class=\"p\">[</span><span class=\"ss\">:time</span><span class=\"p\">]</span>\n    <span class=\"k\">if</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/AM|am/</span>\n      <span class=\"k\">if</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/^[0-9]:/</span> <span class=\"c1\"># aka ONE digit before the colon</span>\n        <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"s2\">\"0\"</span> <span class=\"o\">+</span> <span class=\"n\">the_time</span><span class=\"p\">).</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |AM|am/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span>\n      <span class=\"k\">elsif</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/^12:/</span>\n        <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"s2\">\"00\"</span> <span class=\"o\">+</span> <span class=\"n\">the_time</span><span class=\"p\">).</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |AM|am|12/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span>\n      <span class=\"k\">else</span>\n        <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">the_time</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |AM|am/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n    <span class=\"k\">if</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/PM|pm/</span>\n      <span class=\"k\">if</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/12:/</span>\n        <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"p\">((</span><span class=\"n\">the_time</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |PM|pm/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)).</span><span class=\"nf\">to_i</span><span class=\"p\">).</span><span class=\"nf\">to_s</span>\n      <span class=\"k\">else</span>\n        <span class=\"k\">if</span> <span class=\"n\">the_time</span> <span class=\"o\">=~</span> <span class=\"sr\">/^[0-9]:/</span> <span class=\"c1\"># aka ONE digit before the colon</span>\n          <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"p\">(((</span><span class=\"s2\">\"0\"</span> <span class=\"o\">+</span> <span class=\"n\">the_time</span><span class=\"p\">).</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |PM|pm/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)).</span><span class=\"nf\">to_i</span> <span class=\"o\">+</span> <span class=\"mi\">1200</span><span class=\"p\">).</span><span class=\"nf\">to_s</span>\n        <span class=\"k\">else</span>\n          <span class=\"n\">sorter</span> <span class=\"o\">=</span> <span class=\"n\">the_date</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/-/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"p\">((</span><span class=\"n\">the_time</span><span class=\"p\">.</span><span class=\"nf\">gsub</span><span class=\"p\">(</span><span class=\"sr\">/:| |PM|pm/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)).</span><span class=\"nf\">to_i</span> <span class=\"o\">+</span> <span class=\"mi\">1200</span><span class=\"p\">).</span><span class=\"nf\">to_s</span>\n        <span class=\"k\">end</span>\n      <span class=\"k\">end</span>\n    <span class=\"k\">end</span>\n    <span class=\"n\">post</span><span class=\"p\">[</span><span class=\"ss\">:sorter</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">sorter</span><span class=\"p\">.</span><span class=\"nf\">to_i</span>\n  <span class=\"k\">end</span>\n\n  <span class=\"n\">to_sort</span><span class=\"p\">.</span><span class=\"nf\">sort!</span> <span class=\"p\">{</span> <span class=\"o\">|</span><span class=\"n\">a</span><span class=\"p\">,</span><span class=\"n\">b</span><span class=\"o\">|</span> <span class=\"n\">b</span><span class=\"p\">[</span><span class=\"ss\">:sorter</span><span class=\"p\">]</span> <span class=\"o\">&lt;=&gt;</span> <span class=\"n\">a</span><span class=\"p\">[</span><span class=\"ss\">:sorter</span><span class=\"p\">]}</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>SEE?? Embarrassing. I love it. I’m sure there’s an easier way to do this. But it’s interesting, I think, that an idea (“hmm, i want to sort by both date and time, so why don’t I make a <code class=\"highlighter-rouge\">:sorter</code> variable that takes those two strings and combines them into one an integer that represents when it was posted”) morphs and grows into this 28 line mess. I guess it’s time to refactor.</p>\n\n<h2 id=\"categories-and-tags\">categories and tags</h2>\n\n<p><em>Originally posted December 1, 2012</em></p>\n\n<p>I added some functionality for categories and tags. The difference between categories and tags, in my implementation, is that there can only be one category, but there can be a bunch of tags.</p>\n\n<p>So be generous with your tags.</p>\n\n<p>You can use spaces in your categories and tags and they’ll be converted to hyphens. They’re comma-delimited.</p>\n\n<p>You can see the tags at the bottom of this post and you’ll see some hyphens. but if you look at the markdown source, you’ll see some spaces.</p>\n\n<p>(You can see the markdown source by clicking the link at the bottom of each post or by simply replacing the <code class=\"highlighter-rouge\">/</code> with <code class=\"highlighter-rouge\">.md</code> at the end of a post url)</p>\n\n<h2 id=\"rss-is-hard-to-implement-and-irsquom-not-sure-irsquom-doing-it-right\">RSS is hard to implement and I’m not sure I’m doing it right</h2>\n\n<p><em>Originally posted December 1, 2012</em></p>\n\n<p>I’m pretty sure I’m not doing this right but I’ve added an RSS feed so that’s fun, enjoy.</p>\n\n<p>It’s available at <a href=\"/feed\">/feed</a> and ever time that “file” is queried, the sinatra app will generate an up-to-the-minute accurate feed, including all of the posts.</p>\n\n<p>I don’t necessarily recommend subscribing because I might change where it’s located soon. Right now the blog is online at <code class=\"highlighter-rouge\">http://devblog.maxjacobson.net</code> but I may move it to <code class=\"highlighter-rouge\">blog.</code> or <code class=\"highlighter-rouge\">beef.</code> or <code class=\"highlighter-rouge\">beefsteak.</code> or something else entirely.</p>\n\n<h2 id=\"going-open-source\">going open source</h2>\n\n<p><em>Originally posted December 2, 2012</em></p>\n\n<p>Just for fun I’m sharing <a href=\"https://github.com/maxjacobson/beefsteak\">the source code for this blog in full on github</a>. I don’t know if anyone else will or should use this but maybe they’ll want to and I won’t stop them.</p>\n\n<p>It’s surprisingly easy having two remote destinations for this code (heroku, where my blog is hosted, and now github where the source code is hosted). I make changes, commit them, push to one, then push to the other. Easy peasy.</p>\n\n<p>If someone else wants to use it, they’ll have to delete my stuff and replace it with their stuff. I’m not giving them a blank slate. Because I’m not sure how to maintain two separate versions like that. But they’ll figure it out, I think.</p>\n\n<p>I guess I’ve been planning to do this, because I’ve refrained from hardcoding my information (name, blog title, etc) into the code. Instead it’s in a separate <code class=\"highlighter-rouge\">config.rb</code> file (which you can <a href=\"https://github.com/maxjacobson/beefsteak/blob/master/config.rb\">see on github</a>).</p>\n\n<p>I’m cold on this balcony in San Diego. I am proud that I made this in like two days. I will keep working on it. A small part of me just got a tingling urge to hurl my laptop down into the parking lot like it’s my punk rock guitar.</p>\n\n<p>I’m worried that it will be a whole hassle if I ever want to change the address of this blog. I already kinda feel limited by “devblog”.</p>\n\n<p>Right now my Top Level website, <a href=\"http://maxjacobson.net\">http://maxjacobson.net</a> is mostly just a front for my Pinboard public links. maybe I’ll merge that idea into this one and put the whole thing at that address. I glanced over <a href=\"https://rubygems.org/gems/pinboard\">the Pinboard gem</a> and I could probably whip something up myself instead of using the <a href=\"http://pinboard.in/resources/linkroll\">linkroll widget</a>. That would give me some more flexibility to display multimedia stuff, <a href=\"http://layabout.maxjacobson.net\">Layabout</a>-style and do some more color-coding without having to use jquery like I’m currently doing to emphasize posts with the <code class=\"highlighter-rouge\">max_jacobson</code> tag.</p>\n\n<p>I’m just daydreaming here.</p>\n\n<h2 id=\"some-new-features-here\">some new features here</h2>\n\n<p><em>Originally posted December 13, 2012</em></p>\n\n<p>Things I’ve added to beefsteak tonight:</p>\n\n<h3 id=\"more-feeds\">more feeds</h3>\n\n<p>Like, for individual categories, tags, and search queries. Try clicking on a tag/cat or searching something, and you’ll see a link to the feed at the bottom.</p>\n\n<p>A fun one might be: <a href=\"http://devblog.maxjacobson.net/tag/gush/feed\">http://devblog.maxjacobson.net/tag/gush/feed</a> or <a href=\"http://devblog.maxjacobson.net/search/confess/feed\">http://devblog.maxjacobson.net/search/confess/feed</a> if you like me at my gushiest or most confessional.</p>\n\n<h3 id=\"pages\">pages</h3>\n\n<p>My about page is now at <a href=\"http://devblog.maxjacobson.net/~about\">http://devblog.maxjacobson.net/~about</a>. I made another one mostly to test what it looked like with two. It doesn’t look great.</p>\n\n<p>You can view the markdown source of pages the same as posts. Just add the <code class=\"highlighter-rouge\">.md</code> suffix or click the link at the bottom. I don’t know why I offer this. It doesn’t work amazingly. In some posts with code, I see underscores disappear. It’s weird.</p>\n\n<h3 id=\"favicon-and-apple-touch-icon\">favicon and apple touch icon</h3>\n\n<p>I just threw in some all-black-errything squares for now. I figure if anyone else uses this they can replace with something they like.</p>\n\n<hr />\n\n<p>Here’s what the tree for this site looks like right now:</p>\n\n<p>(notice the new pages directory, mostly)</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>[~/Dropbox/Sites/devblog] [max] [08:23 PM]\n ϡ tree\n.\n├── config.rb\n├── Gemfile\n├── Gemfile.lock\n├── helpers.rb\n├── pages\n│   ├── about.md\n│   └── projects.md\n├── posts\n│   ├── 2011-03-12-un-americano.md\n│   ├── 2012-02-26-introducing-myself-to-the-command-line.md\n│   ├── 2012-08-26-favblogging.md\n│   ├── 2012-12-01-added-sorting.md\n│   ├── 2012-12-01-already-updates.md\n│   ├── 2012-12-01-categories-and-tags.md\n│   ├── 2012-12-01-gem-anxiety.md\n│   ├── 2012-12-01-sleep.md\n│   ├── 2012-12-01-sorting.md\n│   ├── 2012-12-01-the-first-post.md\n│   ├── 2012-12-02-erb-and-indendation.md\n│   ├── 2012-12-02-on-an-airplane.md\n│   ├── 2012-12-02-open-source.md\n│   ├── 2012-12-02-RSS-is-hard.md\n│   ├── 2012-12-02-search.md\n│   ├── 2012-12-04-seal-attack.md\n│   └── 2012-12-13-meetups.md\n├── Procfile\n├── public\n│   └── img\n\n│       ├── 2012-12-04-seal-1.jpg\n│       ├── 2012-12-04-seal-2.jpg\n│       ├── 2012-12-04-seal-3.jpg\n│       ├── apple-touch-icon.png\n│       └── favicon.ico\n├── README.md\n├── views\n│   ├── 404.erb\n│   ├── 500.erb\n│   ├── layout.erb\n│   └── style.scss\n└── web.rb\n\n5 directories, 35 files\n</code></pre>\n</div>\n\n<h1 id=\"fuzzy-search\">fuzzy search</h1>\n\n<p><em>Originally posted December 14, 2012</em></p>\n\n<p>I just made the search a little smarter on this blog. I think. I made it so that when you search a multi-word query, it’ll include posts that match any of the words, not just posts that match <em>all</em> of the words. They’re sorted chronologically, not based on relevance.</p>\n\n<p>And you can put a query in quotes if you want it to match all of the words, in that order.</p>\n\n<p>Here’s how I did that (with some stuff paraphrased):</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">if</span> <span class=\"n\">query</span> <span class=\"o\">=~</span> <span class=\"sr\">/^\".+\"$/</span>\n  <span class=\"n\">query_array</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">query</span><span class=\"p\">.</span><span class=\"nf\">gsub!</span><span class=\"p\">(</span><span class=\"sr\">/\"/</span><span class=\"p\">,</span><span class=\"s1\">''</span><span class=\"p\">)]</span>\n<span class=\"k\">else</span>\n  <span class=\"n\">query_array</span> <span class=\"o\">=</span> <span class=\"n\">query</span><span class=\"p\">.</span><span class=\"nf\">split</span><span class=\"p\">(</span><span class=\"s1\">' '</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n<span class=\"c1\"># ... each post |the_text|</span>\n<span class=\"n\">query_array</span><span class=\"p\">.</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">q</span><span class=\"o\">|</span>\n  <span class=\"k\">if</span> <span class=\"n\">the_text</span> <span class=\"o\">=~</span> <span class=\"no\">Regexp</span><span class=\"p\">.</span><span class=\"nf\">new</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">,</span> <span class=\"kp\">true</span><span class=\"p\">)</span>\n    <span class=\"c1\"># then include the post</span>\n    <span class=\"k\">break</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>So, first I check if the query is in quotes (I’m coming to really love using regular expressions), and if so I remove the quotes and put that whole string thru. If it’s not in quotes, I split the string into an array of strings, using a space as the delimeter. Then I go through each post and check it against each item in the array. If the query was in quotes, the array only has one item in it. Once there’s a match, I push it thru. The <code class=\"highlighter-rouge\">break</code> makes it so once a post matches the query, we move on to the next post rather than keep checking other words in the query against it.</p>\n\n<p>I wonder if I should allow single quotes too. Note to self, allow single quotes.</p>\n\n<p>I wonder what new bugs I just introduced.</p>\n\n<h2 id=\"heave-ho\">heave ho</h2>\n\n<p><em>Originally posted December 22, 2012</em></p>\n\n<p>So I am happy enough with beefsteak that I am moving this to my proper homepage, <a href=\"http://www.maxjacobson.net\">http://www.maxjacobson.net</a>.</p>\n\n<p>That space was mainly occupied by my pinboard public links, and I’ve integrated those into beefsteak now.</p>\n\n<p>I considered integrating a pinboard gem but for now I’m sticking with the same old linkroll widget I’ve been using. It’s not super flexible but it has an important feature <a href=\"https://rubygems.org/gems/pinboard\">the main pinboard gem</a> lacks: a distinction between private and public links. It’s not that I have such private stuff in there, it’s just that I have <em>so much</em> stuff in there. As <a href=\"http://www.maxjacobson.net/2012-08-26-favblogging\">previously described</a> I use <a href=\"https://ifttt.com\">IFTTT</a> to send all kinds of stuff automatically, and then I occasionally make a small minority of those links public. And maybe there’s some private stuff in there.</p>\n\n<p>Who is sleepier than I? No one is.</p>\n\n<p>The project is still mostly useable by other people, I think. The only thing is <a href=\"/js/app.js\">the small jquery script</a> that modifies the DOM so that links with the tag <code class=\"highlighter-rouge\">max_jacobson</code> are made red. I tweaked it so it lets you specify what that tag will be, but it’s not working. I’m going to fix that later, <em>maybe</em>.</p>\n\n<p>I create links just to kill them at this point. Old feeds and links have a short shelf life.</p>\n\n<h2 id=\"beefsteak-v2\">beefsteak v2</h2>\n\n<p><em>Originally posted March 19, 2013</em></p>\n\n<p>This version of <a href=\"http://github.com/maxjacobson/beefsteak\">beefsteak</a> is brought to you by Justin Timberlake.</p>\n\n<p>I put his new album on repeat eleven or twelve hours ago and starting working.</p>\n\n<p>I realized people might be looking at my GitHub and realized I was embarrassed of the way this blog worked. In the few months from the last update, I learned a lot. I hope I’ll be embarrassed of this in a few months.</p>\n\n<p>Heck I already kind of am.<sup id=\"fnref:shame\"><a href=\"#fn:shame\" class=\"footnote\">1</a></sup></p>\n\n<p>The first several posts I wrote for this blog were, naturally, about this blog and the process of building it and excitement of discovery. A lot of it is really dumb but I’m leaving it.</p>\n\n<p>So here’s what’s new:</p>\n\n<ul>\n  <li>syntax highlighting for code blocks, using my fav colorscheme, cobalt</li>\n  <li>switched from erb to haml – now writing far less HTML by hand</li>\n  <li>appending <code class=\"highlighter-rouge\">.md</code> to posts or pages takes you to a text file instead of embedding within a page, which displayed poorly (missing underscores for some reason)</li>\n  <li>some (goofy?) animations on page loads. It picks randomly from a list</li>\n  <li>oh, and when you click to see a footnote, the right one will wiggle. see? <sup id=\"fnref:wiggle\"><a href=\"#fn:wiggle\" class=\"footnote\">2</a></sup></li>\n  <li>much better config file; in case anyone besides me uses this system, it should be relatively easy for them to plug in their info and start blogging</li>\n</ul>\n\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:shame\">\n      <p>or will be in the morning, anyway <a href=\"#fnref:shame\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:wiggle\">\n      <p>and now I’ve just made it so the return button makes the source from within the blog wiggle, too. I want to learn to write my own CSS3 animations. Right now I’m leaning heavily on <a href=\"http://daneden.me/animate\">Dan Eden</a>. <a href=\"#fnref:wiggle\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "21 Jan 2013",
        "title": "click to ugh",
        "url": "/2013/click-to-ugh",
        "content": "<p>It’s time for <a href=\"http://www.maxjacobson.net/tag/youre-doing-it-wrong\">You’re Doing it Wrong</a>, my sometimes series where I complain about blogs whose HTML or CSS bugs me!</p>\n\n<p>Today’s offending blog is The AV Club, which I generally really like and read all the time. Here’s an example post: <a href=\"http://www.avclub.com/articles/jonathan-coulton-says-glee-ripped-off-his-cover-of,91305/\">Jonathan Coulton says Glee ripped off his cover of “Baby God Back”</a>.</p>\n\n<p>How the heck did they come up with this embed code for a YouTube video:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;embed</span> <span class=\"na\">width=</span><span class=\"s\">\"425\"</span> <span class=\"na\">height=</span><span class=\"s\">\"344\"</span> <span class=\"na\">type=</span><span class=\"s\">\"application/x-shockwave-flash\"</span> <span class=\"na\">pluginspage=</span><span class=\"s\">\"http://www.macromedia.com/go/getflashplayer\"</span> <span class=\"na\">src=</span><span class=\"s\">\"http://www.youtube.com/v/Yww4BLjReEk%26hl=en%26fs=1%26rel=0\"</span><span class=\"nt\">&gt;</span>\n</code></pre>\n</div>\n\n<p>Had they copied the embed code from beneath the YouTube video, they would have gotten this:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;iframe</span> <span class=\"na\">width=</span><span class=\"s\">\"560\"</span> <span class=\"na\">height=</span><span class=\"s\">\"315\"</span> <span class=\"na\">src=</span><span class=\"s\">\"http://www.youtube.com/embed/Yww4BLjReEk\"</span> <span class=\"na\">frameborder=</span><span class=\"s\">\"0\"</span> <span class=\"na\">allowfullscreen</span><span class=\"nt\">&gt;&lt;/iframe&gt;</span>\n</code></pre>\n</div>\n\n<p>I don’t know where The AV Club got their embed code, but exhibit A for it’s outdatedness is the macromedia reference. Try going to that page. Because Macromedia doesn’t exist anymore, you’ll be redirected to Flash’s new owner, Adobe. This post is from three days ago; Adobe acquired Macromedia seven years ago.</p>\n\n<p>Also: every video they embed is given the dimensions 425x344, without regard to the video’s aspect ratio. YouTube’s provided embed code is dimensions-aware and doesn’t introduce unnecessary letterboxing.</p>\n\n<p>So why do I care? The videos still play and it’s pretty much fine I guess. But it screws up <a href=\"http://hoyois.github.com/safariextensions/clicktoplugin/\">ClickToPlugin</a>.</p>\n\n<p>ClickToPlugin is an awesome Safari Extension that blocks plugins like Flash from running until you click on them. It <em>also</em>, when it can, replaces embedded media with a vanilla HTML5 video player. When I typically encounter a YouTube or Vimeo video embedded on a blog, I don’t see their custom Flash player, I see this:</p>\n\n<p><a href=\"http://d.pr/i/tq6n\"><img src=\"http://d.pr/i/tq6n+\" alt=\"\" /></a></p>\n\n<p>This example is from an AbsolutePunk.net post, <a href=\"http://www.absolutepunk.net/showthread.php?t=3019022\">Beyoncé Performs Star Spangled Banner [Video]</a>. It behaves much like a regular, Flash YouTube embed – it doesn’t play until you click the triangle although you have preferences like autoplay or auto-preload – it uses Safari’s implementation of the HTML5 video player. Among the benefits: YouTube hasn’t yet figured out how to include ads in the HTML5 videos, it feels faster, and on youtube.com, videos don’t autoplay so I can open six tabs of Taylor Swift videos without causing a terrible cacophany.</p>\n\n<p>But when I visit that AV Club article, I see this:</p>\n\n<p><a href=\"http://d.pr/i/Tcpb\"><img src=\"http://d.pr/i/Tcpb+\" alt=\"\" /></a></p>\n\n<p>Which is fine, I guess. It’s what I signed up for, using this extension. But c’mon, don’t overthink things and get all fancy, stuff’ll get broken.</p>\n\n<p>(AbsolutePunk is doing something custom too. Its code looks like this:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;div</span> <span class=\"na\">align=</span><span class=\"s\">\"center\"</span><span class=\"nt\">&gt;&lt;object</span> <span class=\"na\">width=</span><span class=\"s\">\"472\"</span> <span class=\"na\">height=</span><span class=\"s\">\"389\"</span> <span class=\"na\">bgcolor=</span><span class=\"s\">\"#f7f7f7\"</span><span class=\"nt\">&gt;&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">\"movie\"</span> <span class=\"na\">value=</span><span class=\"s\">\"http://www.youtube.com/v/Z-DSFrGnQrk&amp;amp;fs=1\"</span><span class=\"nt\">&gt;&lt;/param&gt;&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">\"allowFullScreen\"</span> <span class=\"na\">value=</span><span class=\"s\">\"true\"</span><span class=\"nt\">&gt;&lt;/param&gt;&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">\"wmode\"</span> <span class=\"na\">value=</span><span class=\"s\">\"transparent\"</span><span class=\"nt\">&gt;&lt;/param&gt;&lt;param</span> <span class=\"na\">name=</span><span class=\"s\">\"allowscriptaccess\"</span> <span class=\"na\">value=</span><span class=\"s\">\"always\"</span><span class=\"nt\">&gt;&lt;/param&gt;&lt;embed</span> <span class=\"na\">src=</span><span class=\"s\">\"http://www.youtube.com/v/Z-DSFrGnQrk&amp;amp;fs=1\"</span> <span class=\"na\">type=</span><span class=\"s\">\"application/x-shockwave-flash\"</span> <span class=\"na\">allowscriptaccess=</span><span class=\"s\">\"always\"</span> <span class=\"na\">allowfullscreen=</span><span class=\"s\">\"true\"</span> <span class=\"na\">width=</span><span class=\"s\">\"472\"</span> <span class=\"na\">height=</span><span class=\"s\">\"389\"</span> <span class=\"na\">bgcolor=</span><span class=\"s\">\"#f7f7f7\"</span> <span class=\"na\">wmode=</span><span class=\"s\">\"transparent\"</span><span class=\"nt\">&gt;&lt;/embed&gt;&lt;/object&gt;&lt;/div&gt;</span>\n</code></pre>\n</div>\n\n<p>I don’t really understand that either, but I don’t need to, because it behaves the way I expect it to. It looks like all AbsolutePunk video embeds use the same aspect ratio (472x389) but at least it works with ClickToPlugin.)</p>\n\n<p>On <a href=\"http://layabout.maxjacobson.net\">Layabout</a>, my web app which is embedding videos all day every day, I see this:</p>\n\n<p><a href=\"http://d.pr/i/XcJU\"><img src=\"http://d.pr/i/XcJU+\" alt=\"\" /></a></p>\n\n<p>Look at that aspect ratio – no black bars! And this is all without manually copying and pasting the embed code from YouTube (or Vimeo in that case). These sites support oEmbed, a protocol for taking a URL and supplying an embed code that works.</p>\n\n<p>Unfortunatley it’s not as well-documented as it could be. <a href=\"https://developer.vimeo.com/apis/oembed\">Vimeo’s oEmbed API</a> is better in that regard and supports the most important feature: <code class=\"highlighter-rouge\">maxwidth</code>. I suspect this is at the root of the hardcoded aspect ratios; designers don’t want videos bursting out of their layouts. Vimeo’s page is very useful and clear. YouTube, as far as I can tell, has only provided <a href=\"http://apiblog.youtube.com/2009/10/oembed-support.html\">one brief blog post</a> on the subject.</p>\n\n<p>Maybe that’s the problem?</p>\n"
      }
      
        ,
      
    
      {
        "date": "15 Jan 2013",
        "title": "using mobile web inspector",
        "url": "/2013/mobile-web-inspector",
        "content": "<p>I’ve just figured out why infinite scrolling wasn’t working on Layabout on my iPod Touch.</p>\n\n<p>I’m using jQuery to detect when the user has reached the bottom of the page. There’s no hardcoded event for that, so you have to do some math using the methods that are given. It goes something like this:</p>\n\n<p>If the user is scrolling, check if the current window height plus the amount of stuff above it is greater than or equal to the total height of the document. This works on the desktop (in the browsers I tested anyway) and on the iPad, but not on my iPod Touch.</p>\n\n<div class=\"language-javascript highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">window</span><span class=\"p\">).</span><span class=\"nx\">scroll</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">window</span><span class=\"p\">).</span><span class=\"nx\">scrollTop</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">window</span><span class=\"p\">).</span><span class=\"nx\">height</span><span class=\"p\">()</span> <span class=\"o\">&gt;=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">height</span><span class=\"p\">())</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// ...</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n</code></pre>\n</div>\n\n<p>On the web, a nice and easy way to figure out problems like these is to use the console and log some variables. So I found myself adding in some stuff like this:</p>\n\n<div class=\"language-javascript highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"kd\">var</span> <span class=\"nx\">scroll_top</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">window</span><span class=\"p\">).</span><span class=\"nx\">scrollTop</span><span class=\"p\">();</span>\n<span class=\"kd\">var</span> <span class=\"nx\">window_height</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">window</span><span class=\"p\">).</span><span class=\"nx\">height</span><span class=\"p\">();</span>\n<span class=\"kd\">var</span> <span class=\"nx\">document_height</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">height</span><span class=\"p\">();</span>\n<span class=\"kd\">var</span> <span class=\"nx\">current_position</span> <span class=\"o\">=</span> <span class=\"nx\">scroll_top</span> <span class=\"o\">+</span> <span class=\"nx\">window_height</span><span class=\"p\">;</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"scroll top: \"</span> <span class=\"o\">+</span> <span class=\"nx\">scroll_top</span><span class=\"p\">);</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"window height: \"</span> <span class=\"o\">+</span> <span class=\"nx\">window_height</span><span class=\"p\">);</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"current position: \"</span> <span class=\"o\">+</span> <span class=\"nx\">current_position</span><span class=\"p\">);</span>\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"document height: \"</span> <span class=\"o\">+</span> <span class=\"nx\">document_height</span><span class=\"p\">);</span>\n</code></pre>\n</div>\n\n<p>But it’s not very easy to access the console on an iOS device, so these messages were getting logged to nowhere.</p>\n\n<p>Long story short I followed <a href=\"http://webdesign.tutsplus.com/tutorials/workflow-tutorials/quick-tip-using-web-inspector-to-debug-mobile-safari/\">these instructions</a> and managed to get access to the info I needed. Here’s what the page logged at the bottom of a page:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>scroll top: 41628\nwindow height: 1360\ncurrent position: 42988\ndocument height: 43173\n</code></pre>\n</div>\n\n<p>Huh! No wonder further pages weren’t loading, we were never (by this logic) truly reaching the end of the page!</p>\n\n<p>So, to fix it, I just changed the logic to add 200 pixels of wiggle room, so now it triggers when you get near the bottom of the page rather than hitting it exactly.</p>\n\n<p>So it works and I’m happy. But before we wrap things up too tightly, let’s try to figure out what’s going on here.</p>\n\n<p>Let’s look at some numbers:</p>\n\n<table>\n  <thead>\n    <tr>\n      <th style=\"text-align: left\">thing</th>\n      <th style=\"text-align: left\">pixels amount</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td style=\"text-align: left\"><a href=\"http://d.pr/i/VZr6\">5th gen iPod Touch screen height</a></td>\n      <td style=\"text-align: left\">1136</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">Window height as logged by Mobile Safari (<code class=\"highlighter-rouge\">$(window).height()</code>)</td>\n      <td style=\"text-align: left\">1360</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">The difference between those two</td>\n      <td style=\"text-align: left\">224</td>\n    </tr>\n  </tbody>\n</table>\n\n<p>What’s the deal with that? Maybe it’s a points-and-pixels thing beyond my comprehension, but this feels kinda wrong to me. Is it possibly a bug in Mobile Safari? Why else would the window height be bigger than the total height of the screen? I expected the opposite; the window height should be less than the screen height, considering that the window doesn’t include browser chrome like the navigation bar along the bottom and sometimes (at the top of pages) the title and address bar.</p>\n\n<p>Let’s revisit the numbers from the earlier log example:</p>\n\n<p>(<em>Note: other than window height, these values would be different on a longer or shorter page</em>)</p>\n\n<table>\n  <thead>\n    <tr>\n      <th style=\"text-align: left\">thing</th>\n      <th style=\"text-align: left\">value</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td style=\"text-align: left\">scroll top</td>\n      <td style=\"text-align: left\">41628</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">window height</td>\n      <td style=\"text-align: left\">1360</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">current position</td>\n      <td style=\"text-align: left\">42988</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">document height</td>\n      <td style=\"text-align: left\">43173</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">difference between those last two</td>\n      <td style=\"text-align: left\">185</td>\n    </tr>\n  </tbody>\n</table>\n\n<p>So if I’m right that Mobile Safari is mis-reporting its height by 224 pixels, how come my earlier logic was falling short by 185 pixels? I think that difference (39 pixels) must be the height of the navigation toolbar?</p>\n\n<p>Maybe!</p>\n"
      }
      
        ,
      
    
      {
        "date": "12 Jan 2013",
        "title": "writing prose with marked",
        "url": "/2013/writing-prose-with-marked",
        "content": "<p>Yesterday I got the urge to write some fiction. This has been a decreasingly frequent urge for me, so I seized on it.</p>\n\n<p>I did write a little but I ended up spending more time creating a <a href=\"http://markedapp.com\">Marked</a> theme to <em>help</em> me write. Ain’t that how it goes. I set up <a href=\"https://github.com/maxjacobson/marked-themes\">a GitHub repo</a> to share the theme and any others I may make down the line.</p>\n\n<p>The goal is for me to be able to write in my programmy, vimmy text editor on one half of the screen and for the other half to look as much like a book as I could manage. Also, it prints out nicely (not that I print things, except to PDF). Some of the design features:</p>\n\n<ul>\n  <li>smart paragraph indenting – follows the physical book’s convention of not unnecessarily indenting the first paragraph in a group of paragraphs</li>\n  <li>kind of musty old book yellow color (but not in printouts)</li>\n  <li>uses google web fonts for a little extra personality</li>\n  <li>classy horizontal rule</li>\n</ul>\n\n<p>A screenshot and the code over <a href=\"https://github.com/maxjacobson/marked-themes\">on GitHub</a>.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "10 Jan 2013",
        "title": "twice",
        "url": "/2013/twice",
        "content": "<p>From a few weeks ago:</p>\n\n<blockquote class=\"twitter-tweet\" data-in-reply-to=\"282391774415179776\"><p>@<a href=\"https://twitter.com/maxjacobson\">maxjacobson</a> LOOK AT YOUR DEAD FISH! UNTIL EVERYTHING GRAY SMELLS LIKE DEAD FISH!!</p>&mdash; So Rowdy (@So_Rowdy) <a href=\"https://twitter.com/So_Rowdy/status/282503835312848896\" data-datetime=\"2012-12-22T15:12:17+00:00\">December 22, 2012</a></blockquote>\n<script async=\"\" src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n<p>I had no idea what he meant. But I should have, because he was making a reference to an essay I had shared with him and which we had then discussed called <a href=\"http://www.robinsloan.com/fish/\">Fish</a>. In the essay, Robin Sloan suggests, among other things, the value of revisiting things we like over constantly checking what’s new. I hadn’t meant to reference it and hadn’t thought much about it since reading it, but that idea must have kept with me.</p>\n\n<p>Earlier tonight I watched this video three times:</p>\n\n<iframe width=\"320\" height=\"180\" src=\"http://www.youtube.com/embed/OVfybacqcTE\" frameborder=\"0\" allowfullscreen=\"\"></iframe>\n\n<p>Do you know that feeling of going to a concert for a band you love, where none of your friends like that band, and you sort of feel like a weirdo for liking them, only to discover that tons of other people like them too and you’re fine? That’s the feeling I got while watching this video, and I didn’t even need to leave the house to get it.</p>\n\n"
      }
      
        ,
      
    
      {
        "date": "31 Dec 2012",
        "title": "the horizontal rule",
        "url": "/2012/the-horizontal-rule",
        "content": "<p>On a sexier and perhaps better blog, this post title would be a euphemism.</p>\n\n<p>Instead, this post is a bit of a follow up to <a href=\"http://www.maxjacobson.net/2012-03-21-indenting-paragraphs-online\">an earlier post</a>, so this second entry might as well mark the beginning of a series.</p>\n\n<p><strong><em>It’s time for <a href=\"http://www.maxjacobson.net/tag/youre-doing-it-wrong\">You’re doing it wrong</a>!</em></strong>, the yearly column where I criticize people’s blog’s CSS even though I’m not an authority on that subject!<sup id=\"fnref:1\"><a href=\"#fn:1\" class=\"footnote\">1</a></sup></p>\n\n<p>Let’s talk about lines.</p>\n\n<p>There aren’t that many HTML tags, and markdown only supports the small subset that are relevant to writers, so it makes sense to make use of them.</p>\n\n<p>Here’s how you make a horizontal rule in markdown: <code class=\"highlighter-rouge\">* * *</code><sup id=\"fnref:2\"><a href=\"#fn:2\" class=\"footnote\">2</a></sup>. This becomes the following HTML:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;hr&gt;</span>\n</code></pre>\n</div>\n\n<p>Which typically comes across as a horizontal line, depending on the CSS, and typically is meant to mark a new section. On this blog, in a browser, at this time of writing, it looks like two thin lines on top of one another. The CSS I used for that looks like this:</p>\n\n<div class=\"language-css highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">hr</span> <span class=\"p\">{</span>\n  <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"nb\">none</span><span class=\"p\">;</span>\n  <span class=\"nl\">border-top</span><span class=\"p\">:</span> <span class=\"nb\">medium</span> <span class=\"nb\">double</span> <span class=\"m\">#333</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre>\n</div>\n\n<p><strong>Edit:</strong> Actually, I’ve already changed it. The horizontal rules outside of the post body are still that, but the ones within post bodies are now stars as described below.</p>\n\n<p>CSS is really flexible. You can even style an hr as an image. The blog post that I’m constantly googling for is <a href=\"http://www.sovavsiti.cz/css/hr.html\">this one</a> by Marek Prokop which gives a great introduction to the different ways you can style hrs. Heres <a href=\"http://css-tricks.com/examples/hrs/\">another</a>, from which I more or less cribbed their last example.</p>\n\n<p>Considering how good hrs are, I don’t understand why bloggers like <a href=\"http://shawnblanc.net/2012/12/inbox-intentions/\">Shawn Blanc</a> and <a href=\"http://512pixels.net/2012/12/learning-curve/\">Stephen Hackett</a> (whom I generally like), don’t use them.</p>\n\n<p>They get the appeal of a nice separating line but instead of using an hr, which is easy to make with markdown, which I think they both use, they do this:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;div</span> <span class=\"na\">align=</span><span class=\"s\">\"center\"</span><span class=\"nt\">&gt;</span>* * *<span class=\"nt\">&lt;/div&gt;</span>\n</code></pre>\n</div>\n\n<p>or:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;p</span> <span class=\"na\">style=</span><span class=\"s\">\"text-align:center\"</span><span class=\"nt\">&gt;</span>* * *<span class=\"nt\">&lt;/p&gt;</span>\n</code></pre>\n</div>\n\n<p>Both commit the cardinal sin of embedding CSS in the middle of an HTML tag. You’re not supposed to do that! Even if you don’t want to use an hr, the correct move would be to <a href=\"http://en.wikipedia.org/wiki/Separation_of_presentation_and_content\">separate content and presentation</a> by assigning a class and then selecting that class with the CSS, like so:</p>\n\n<p>The HTML:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"separator\"</span><span class=\"nt\">&gt;</span>* * *<span class=\"nt\">&lt;/div&gt;</span>\n</code></pre>\n</div>\n\n<p>The CSS:</p>\n\n<div class=\"language-css highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nc\">.separator</span> <span class=\"p\">{</span>\n  <span class=\"py\">align</span><span class=\"p\">:</span> <span class=\"nb\">center</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre>\n</div>\n\n<p>I <em>assume</em> they do it this way with the hope that it will be more portable. These days, people often read blog posts in their RSS reader or read later app, far out of reach of their blog’s CSS. In these contexts, the post is subject to the reader app’s CSS, and a div with a class will be treated as unstyled text, but a div with inline CSS might still be styled.</p>\n\n<p>Sometimes.</p>\n\n<p>If I’m reading a post outside of a browser, it’s probably in Reeder or Instapaper (links unnecessary, right?). In Reeder, the rat tactic works and the stars are centered and more or less convey what the authors want them to. In Instapaper, the CSS is totally overridden and <a href=\"http://d.pr/i/yP1Y\">it’s just a couple of asterisks</a>. Same for Safari Reader, Readability, probably others.</p>\n\n<p>Had they used an hr, each individual reader would style it as they see fit, but they would understand what it is and work to convey your meaning.</p>\n\n<p>Besides, it’s not that <a href=\"http://stackoverflow.com/questions/1294493/what-does-semantically-correct-mean\">semantic</a> is it?</p>\n\n<p>Blanc’s p tag is most egregious in this regard, because p means <em>paragraph</em>, which this is not. It may have been chosen because the blog’s CSS properties for paragraphs <em>also</em> applied to separators, but that does not make this a paragraph.</p>\n\n<h3 id=\"styling-the-hr-with-an-image\">styling the hr with an image</h3>\n\n<p>Here’s the rub: as flexible as CSS is, I have no idea how to style an hr so that it looks the way these guys seem to want it to look without embedding a small image at every hr, which introduces its own set of problems.</p>\n\n<ul>\n  <li>According to <a href=\"http://www.sovavsiti.cz/css/hr.html\">Prokop</a>, an image hr has visual bugs in IE and Opera, so he resorts to a bit of a hack, namely wrapping the hr in a div with some additional rules, which is a bit of a nonstarter for markdown users – we need something that automatically expands from <code class=\"highlighter-rouge\">* * *</code> and looks right.</li>\n  <li>I’ve tried this in the past and it looked kind of lo-res and not great on a retina display</li>\n</ul>\n\n<p>I think these problems are surmountable by:</p>\n\n<ol>\n  <li>just ignoring those browsers</li>\n  <li>researching hi-res images and how to do it right (on my to do list)</li>\n</ol>\n\n<p>So what would that look like?</p>\n\n<p>The HTML:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;hr&gt;</span>\n</code></pre>\n</div>\n\n<p>The CSS:</p>\n\n<div class=\"language-css highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">hr</span> <span class=\"p\">{</span>\n  <span class=\"nl\">height</span><span class=\"p\">:</span> <span class=\"m\">13px</span><span class=\"p\">;</span>\n  <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"sx\">url(hr.png)</span> <span class=\"nb\">no-repeat</span> <span class=\"nb\">scroll</span> <span class=\"nb\">center</span><span class=\"p\">;</span>\n  <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre>\n</div>\n\n<p>The image could be anything but <a href=\"http://d.pr/i/AoSz\">here’s one</a> I just whipped up in pixelmator with a transparent background to play nice with various sites. Keep in mind: the height property corresponds to the image’s height, so if you use a different image, adjust accordingly.</p>\n\n<h3 id=\"edit-styling-the-hr-with-pseudo-elements\">Edit: styling the hr with pseudo-elements</h3>\n\n<p><strong>Edit 2:</strong> I love writing posts like this because I end up learning a lot. I especially love realizing how little I understood it at the beginning. I’ve removed the image-based-stars and replaced them with something different, something better.</p>\n\n<p>Now no images are required at all! I realized while loading the dishes that I had cited an example earlier that used the <code class=\"highlighter-rouge\">:after</code> pseudo-element to insert a glyph into an hr, so why couldn’t we do the same with Hackett and Blanc’s beloved asterisks? We can! It looks like this:</p>\n\n<p>The HTML:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;hr&gt;</span>\n</code></pre>\n</div>\n\n<p>The CSS:</p>\n\n<div class=\"language-css highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">hr</span> <span class=\"p\">{</span>\n  <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">margin</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"nb\">none</span><span class=\"p\">;</span>\n  <span class=\"nl\">text-align</span><span class=\"p\">:</span> <span class=\"nb\">center</span><span class=\"p\">;</span>\n  <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n<span class=\"nt\">hr</span><span class=\"nd\">:after</span> <span class=\"p\">{</span>\n  <span class=\"nl\">content</span><span class=\"p\">:</span> <span class=\"s1\">\"* * *\"</span><span class=\"p\">;</span>\n  <span class=\"nl\">position</span><span class=\"p\">:</span> <span class=\"nb\">relative</span><span class=\"p\">;</span>\n  <span class=\"nl\">top</span><span class=\"p\">:</span> <span class=\"m\">-0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre>\n</div>\n\n<p>This is a thinly-modified take on Harry Robert’s Glyph style from that <a href=\"http://css-tricks.com/examples/hrs/\">earlier link (example eight)</a>.</p>\n\n<p>Isn’t that great! You can use a standard markdown (or HTML or anything) hr to make some centered asterisks show up automatically.</p>\n\n<p>Of course I wanted to experiment and try inserting some other characters in there. This is my first experience with the <code class=\"highlighter-rouge\">:after</code> CSS rule and unsurprisingly it’s a can of worms. I attempted to replace <code class=\"highlighter-rouge\">content: \"* * *\";</code> with <code class=\"highlighter-rouge\">content: \"✿\";</code>, pasting the unicode black florette character directly into the CSS, and there were bonkers errors. The sass compiler just freaked out and killed the whole stylesheet. So, looking at <a href=\"http://www.danshort.com/HTMLentities/index.php?w=dingb\">this terriffic HTML entity reference</a>, I went for the familiar-looking code decimal correspondent, <code class=\"highlighter-rouge\">&amp;#10047;</code>, wearing those comfy ampersand-semicolon mittens (etsy, get on that). That totally didn’t work either so I ignored the third column and went googling. I came upon <a href=\"http://stackoverflow.com/a/8595802\">this great stack overflow answer</a> which set me straight.</p>\n\n<p>Now my CSS looks like this (and I promise to walk away and stop changing it for a day or two):</p>\n\n<div class=\"language-css highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">hr</span> <span class=\"p\">{</span>\n  <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">margin</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"nb\">none</span><span class=\"p\">;</span>\n  <span class=\"nl\">text-align</span><span class=\"p\">:</span> <span class=\"nb\">center</span><span class=\"p\">;</span>\n  <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n<span class=\"nt\">hr</span><span class=\"nd\">:after</span> <span class=\"p\">{</span>\n  <span class=\"nl\">content</span><span class=\"p\">:</span> <span class=\"s1\">\"\\273F\\a0 \\273F\\a0 \\273F\"</span><span class=\"p\">;</span>\n  <span class=\"nl\">position</span><span class=\"p\">:</span> <span class=\"nb\">relative</span><span class=\"p\">;</span>\n  <span class=\"nl\">top</span><span class=\"p\">:</span> <span class=\"m\">-0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre>\n</div>\n\n<p>If you’re like me you’re like the fuck is that.</p>\n\n<p>That’s the third column I ignored, hex code! <code class=\"highlighter-rouge\">\\273F</code> corresponds to that black florette and <code class=\"highlighter-rouge\">\\a0 </code> corresponds to a space. Isn’t that terrifically fussy?? You must pull out the hex number and add a leading <code class=\"highlighter-rouge\">\\</code> as an escape to avoid errors.</p>\n\n<p>Regarding using CSS to insert content into an hr, Chris Coyier <a href=\"http://css-tricks.com/simple-styles-for-horizontal-rules/\">writes</a>:</p>\n\n<blockquote>\n  <p>Note that in some of these examples, generated content is used (:before/:after). This isn’t supposed to work, as far as I know, because &lt;hr&gt;s are no-content style elements (they have no closing tag). But as you can see, it does. If you are concerned about uber-long-term design fidelity, stay away from those.</p>\n</blockquote>\n\n<p>To which I say: <em>kewl bruh whatever tho</em>.</p>\n\n<p>Here’s an hr with this style:</p>\n\n<hr />\n\n<p>This opens you up to use actual stars (or any other unicode character) instead of asterisks! I call that an upgrade. And if you turn CSS off or Instapaper it, it degrades nicely to a plain old horizontal rule<sup id=\"fnref:3\"><a href=\"#fn:3\" class=\"footnote\">3</a></sup>, which isn’t really so bad. It’s good enough for <a href=\"http://daringfireball.net/2012/12/google_maps_iphone\">John Gruber</a> anyway. His horizontal rule looks like three pale centered dots.</p>\n\n<p>His CSS:</p>\n\n<div class=\"language-css highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">hr</span> <span class=\"p\">{</span>\n  <span class=\"nl\">height</span><span class=\"p\">:</span> <span class=\"m\">1px</span><span class=\"p\">;</span>\n  <span class=\"nl\">margin</span><span class=\"p\">:</span> <span class=\"m\">2em</span> <span class=\"m\">1em</span> <span class=\"m\">4em</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">text-align</span><span class=\"p\">:</span> <span class=\"nb\">center</span><span class=\"p\">;</span>\n  <span class=\"nl\">border-color</span><span class=\"p\">:</span> <span class=\"m\">#777</span><span class=\"p\">;</span>\n  <span class=\"nl\">border-width</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n  <span class=\"nl\">border-style</span><span class=\"p\">:</span> <span class=\"nb\">dotted</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n</code></pre>\n</div>\n\n<p>I don’t really understand how that becomes three pale dots but then I don’t really understand CSS.</p>\n\n<h3 id=\"edit-3-i-was-wrong-about-instapaper\">Edit 3: I was wrong about instapaper</h3>\n\n<p><em>Completely</em> wrong! I made some bad assumptions and now I’m really confused.</p>\n\n<p>In the first draft of this post, I had this scattered throughout my paragraphs anywhere you see “hr” or “hrs” above:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;code&gt;</span><span class=\"ni\">&amp;lt;</span>hr /<span class=\"ni\">&amp;gt;</span><span class=\"nt\">&lt;/code&gt;</span>\n</code></pre>\n</div>\n\n<p>Which is what my markdown processor, Kramdown, generates when I write this:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>`&lt;hr /&gt;`\n</code></pre>\n</div>\n\n<p>It wraps it in the code tags <em>and</em> replaces the angle brackets with their HTML entities, with the goal to make sure it’s not recognized as a horizontal rule, but as anonymous, quoted code. Despite these precautions, Instapaper rendered those as horizontal rules, <a href=\"http://d.pr/i/4wEm\">awkwardly breaking up paragraphs</a> instead of displaying the code’s text inline.</p>\n\n<p>That behavior may make sense in some contexts, but not really in this one. So I went through and removed the brackets, despite it looking kind of goofy without them. But this post was ostensibly about writing blog posts with things like Instapaper in mind, and I wanted it to be readable in there.</p>\n\n<p>What’s even more baffling is that hrs that <em>weren’t</em> inline with paragraphs wouldn’t display at all. Just regular plain old hrs. Not on Daring Fireball and not on here. For a parser that is so aggressive as to forcibly render hrs that don’t want to be, it’s bizarre that it ignores the ones with their hand raised.</p>\n\n<p>So, I dunno. I’m pleased that I managed to find a CSS replacement for Blanc and Hackett’s vibe, but now I’m not sure if they were doing it wrong at all. At least theirs show up.</p>\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:1\">\n      <p>I’m inspired in part by the dear, departed podcast <a href=\"http://5by5.tv/hypercritical\">Hypercritical</a>, which good-naturedly criticized all kinds of stuff with the hopes that things might improve. I miss that show! <a href=\"http://davidgalletly.com/blog/2012/11/21/hypercritical-ends.html\">This drawing</a> is sweet as hell. <a href=\"#fnref:1\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:2\">\n      <p>or <code class=\"highlighter-rouge\">- - -</code> or <code class=\"highlighter-rouge\">***</code> etc <a href=\"#fnref:2\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:3\">\n      <p>Edit: or maybe not? Keep reading… <a href=\"#fnref:3\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
        ,
      
    
      {
        "date": "29 Dec 2012",
        "title": "rdoc is magic",
        "url": "/2012/rdoc",
        "content": "<p>I keep learning new things as I slowly make this ruby gem. I had sent a copy to a friend and wondered if he would be able to unpack it and see the source code, and that led me to the command <code class=\"highlighter-rouge\">gem server</code> which starts up a local server so you can go to <localhost:8808> in your browser and read about all of the gems installed on your machine, including the included documentation.</localhost:8808></p>\n\n<p>Now, writing some documentation has been on my to do list. I ain’t done that yet. In fact I hadn’t gotten around to adding it to my to do list. But I was <strong>delighted</strong> to see that my gem is listed along with all the others, and – magically – there’s some documentation there.</p>\n\n<p>What!?</p>\n\n<p>It pulls out all of your class methods presents them as a collapsed excerpt. In some instances it pulled out my comments. Those were functioning as notes-to-self but now I know to groom them for others to read by the time I’m close to sharing.</p>\n\n<p>This is cool as shit.</p>\n"
      }
      
        ,
      
    
      {
        "date": "20 Dec 2012",
        "title": "my first gem",
        "url": "/2012/my-first-gem",
        "content": "<p>One of the projects I’ve been intermittently working on is called smashcut. I’ve been keeping it sort of vague and secret because I’m imagining tickling a wild beast of an audience that isn’t <em>necessarily</em> real and that tickles me.</p>\n\n<p>I’m planning to release it as a gem soon enough. I’ve just learned how to do that and it was shockingly easy. A real delight. It’s even quite easy for the gem to be a command line tool. I am using it locally by running smashcut and it is doing things. I am thrilled.</p>\n\n<p>I learned this from the first google result for the query “how to make a gem” (<a href=\"http://guides.rubygems.org/make-your-own-gem/\">http://guides.rubygems.org/make-your-own-gem/</a>) which I’m sure you could just as easily have found.</p>\n\n<p>I need to learn more about testing and also sleep more.</p>\n"
      }
      
        ,
      
    
      {
        "date": "14 Dec 2012",
        "title": "i gave myself a hair cut",
        "url": "/2012/haircut",
        "content": "<p>It was something like five or six months and I needed one anyway. I’ve always had hair and I’ve always threatened to get rid of it. It was just a matter of getting bored enough, and <a href=\"http://instagram.com/p/TKqIEjocvv/\">now it’s gone</a>.</p>\n\n<p>It’s already growing back.</p>\n\n<p>If I weren’t pretty sure it’s a kind of racist thing to think, I’d be more comfortable admitting that my motivation is to look like a buddhist monk. A lot of western people, myself included, have a shallow appreciation of buddhism. I don’t meditate, but I feel like I <em>would</em> meditate. I aspire toward being zen but don’t really know what that means. I took one class in eastern religion in college, to fulfill a requirement, and ended up loving it mainly because the professor had a great sense of humor.</p>\n\n<p>So now my hair is short and I clog less the shower drain. I feel very self-conscious. I feel like I look weird or creepy. I’m nervous to take a Christmas photo with my sisters. <em>Who’s the scary baby?</em></p>\n\n<p>I’m glad I did it. I feel like a male GI Jane.</p>\n\n<p>I was thinking it would imbue me with a seriousness and I would be able to think more clearly. Is there a fog surrounding your head? It may or may not be your hair.</p>\n"
      }
      
        ,
      
    
      {
        "date": "04 Dec 2012",
        "title": "seal attack",
        "url": "/2012/seal-attack",
        "content": "<p>a video from my travels:</p>\n\n<iframe class=\"vimeo\" src=\"http://player.vimeo.com/video/54916902?byline=0&amp;portrait=0&amp;badge=0&amp;color=c9ff23\" width=\"320\" height=\"569\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n<p><a href=\"http://vimeo.com/54916902\">SEAL ATTACK.MOV</a> from <a href=\"http://vimeo.com/maxjacobson\">Max Jacobson</a> on <a href=\"http://vimeo.com\">Vimeo</a>.</p>\n\n<p>Some additional photos via my instagram (<a href=\"http://instagram.com/maxjacobson\">http://instagram.com/maxjacobson</a>):</p>\n\n<p><img src=\"/img/2012-12-04-seal-3.jpg\" alt=\"Seal swims near old lady\" /></p>\n\n<p><img src=\"/img/2012-12-04-seal-2.jpg\" alt=\"Guy jumps by seal\" /></p>\n\n<p><img src=\"/img/2012-12-04-seal-1.jpg\" alt=\"Stoic seal\" /></p>\n"
      }
      
        ,
      
    
      {
        "date": "02 Dec 2012",
        "title": "erb and indendation",
        "url": "/2012/erb-and-indendation",
        "content": "<p>Earlier while sleeping on the plane I had an idea for a method that I want to write.</p>\n\n<p>I use erb, not haml, because haml is confusing, and erb looks like HTML which isn’t really confusing anymore.</p>\n\n<p>What I do is I have a <code class=\"highlighter-rouge\">layout.erb</code> file which is the template for the entire site. All the pages look the same because they all use the same template. The only three things that change are the title, subtitle, and yield.</p>\n\n<p>So whenever you try to go to a page, the code runs and figures out what the HTML should be, which I typically put into a String variable called <code class=\"highlighter-rouge\">the_html</code>. Then, depending on what you’re doing, I set the title and subtitle in two global variables, <code class=\"highlighter-rouge\">@title</code> and <code class=\"highlighter-rouge\">@subtitle</code>. These will fill out the <code class=\"highlighter-rouge\">&lt;h1&gt;</code> and <code class=\"highlighter-rouge\">&lt;h2&gt;</code> header tags.</p>\n\n<p>Then the last thing I do in the code is run <code class=\"highlighter-rouge\">erb the_html</code> which sends the freshly-tossed-together html into the “yield” aka the body of the page.</p>\n\n<p>Here I’ll just share what my template looks like right now:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"cp\">&lt;!DOCTYPE HTML&gt;</span>\n<span class=\"nt\">&lt;html</span> <span class=\"na\">lang=</span><span class=\"s\">\"en-US\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;head&gt;</span>\n  <span class=\"nt\">&lt;meta</span> <span class=\"na\">charset=</span><span class=\"s\">\"UTF-8\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;title&gt;</span><span class=\"err\">&lt;</span>%= @title.downcase %&gt; - <span class=\"err\">&lt;</span>%= @subtitle.downcase %&gt;<span class=\"nt\">&lt;/title&gt;</span>\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">href=</span><span class=\"s\">\"/css/style.css\"</span> <span class=\"na\">rel=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">rel=</span><span class=\"s\">\"alternate\"</span> <span class=\"na\">type=</span><span class=\"s\">\"application/atom+xml\"</span> <span class=\"na\">href=</span><span class=\"s\">\"/feed\"</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;meta</span> <span class=\"na\">name=</span><span class=\"s\">\"author\"</span> <span class=\"na\">content=</span><span class=\"s\">\"&lt;%= get_author_name %&gt;\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;meta</span> <span class=\"na\">name=</span><span class=\"s\">\"viewport\"</span> <span class=\"na\">content=</span><span class=\"s\">\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\"</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;meta</span> <span class=\"na\">name=</span><span class=\"s\">\"HandheldFriendly\"</span> <span class=\"na\">content=</span><span class=\"s\">\"true\"</span> <span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/head&gt;</span>\n<span class=\"nt\">&lt;body&gt;</span>\n<span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">\"container\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;h1</span> <span class=\"na\">id=</span><span class=\"s\">\"title\"</span><span class=\"nt\">&gt;&lt;a</span> <span class=\"na\">href =</span><span class=\"s\">\"/\"</span><span class=\"nt\">&gt;</span><span class=\"err\">&lt;</span>%= @title.downcase %&gt;<span class=\"nt\">&lt;/a&gt;&lt;/h1&gt;</span>\n<span class=\"nt\">&lt;h1</span> <span class=\"na\">id=</span><span class=\"s\">\"author\"</span><span class=\"nt\">&gt;</span>by <span class=\"err\">&lt;</span>%= get_author_name.downcase %&gt;<span class=\"nt\">&lt;/h1&gt;</span>\n<span class=\"nt\">&lt;h2</span> <span class=\"na\">class=</span><span class=\"s\">\"instapaper_title\"</span><span class=\"nt\">&gt;</span><span class=\"err\">&lt;</span>%= @subtitle.downcase %&gt;<span class=\"nt\">&lt;/h2&gt;</span>\n<span class=\"err\">&lt;</span>%= yield %&gt;\n<span class=\"nt\">&lt;hr</span> <span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;form</span> <span class=\"na\">action=</span><span class=\"s\">\"/search\"</span> <span class=\"na\">id=</span><span class=\"s\">\"searchbox\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">name=</span><span class=\"s\">\"q\"</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"Search...\"</span><span class=\"nt\">&gt;</span> <span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">value=</span><span class=\"s\">\"search\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;/form&gt;</span>\n<span class=\"nt\">&lt;p&gt;&lt;small&gt;</span>This blog running on an as-yet-untitled and unfinished blogging engine created by <span class=\"nt\">&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"http://maxjacobson.net\"</span><span class=\"nt\">&gt;</span>Max Jacobson<span class=\"nt\">&lt;/a&gt;</span> on the morning of December 1, 2012. It uses Ruby, Sinatra, and Heroku.<span class=\"nt\">&lt;/small&gt;&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"/feed\"</span><span class=\"nt\">&gt;</span>RSS Feed<span class=\"nt\">&lt;/a&gt;&lt;/p&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/body&gt;</span>\n<span class=\"nt\">&lt;/html&gt;</span>\n</code></pre>\n</div>\n\n<p>And I’m pretty happy with this! I have <strong>no</strong> idea if I’m doing things in any kind of best-practice way but it makes sense to me and I can do a couple things with it and I’m pretty happy.</p>\n\n<p>But the one thing I’m kind of not happy with is the problem of indendation. When I’m assembling <code class=\"highlighter-rouge\">the_html</code>, it’s all going into one String. Here’s a typical chunk of code:</p>\n\n<div class=\"language-ruby highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"k\">if</span> <span class=\"n\">post_info</span><span class=\"p\">[</span><span class=\"ss\">:tags_array</span><span class=\"p\">].</span><span class=\"nf\">length</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span>\n  <span class=\"n\">the_html</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s2\">\"&lt;p&gt;Tags:&lt;/p&gt;</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span>\n  <span class=\"n\">the_html</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s2\">\"&lt;ul id=</span><span class=\"se\">\\\"</span><span class=\"s2\">the-tags</span><span class=\"se\">\\\"</span><span class=\"s2\">&gt;</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span>\n  <span class=\"n\">post_info</span><span class=\"p\">[</span><span class=\"ss\">:tags_array</span><span class=\"p\">].</span><span class=\"nf\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">tag</span><span class=\"o\">|</span>\n    <span class=\"n\">the_html</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s2\">\"  &lt;li&gt;&lt;a href=</span><span class=\"se\">\\\"</span><span class=\"s2\">/tag/</span><span class=\"si\">#{</span><span class=\"n\">tag</span><span class=\"si\">}</span><span class=\"se\">\\\"</span><span class=\"s2\">&gt;</span><span class=\"si\">#{</span><span class=\"n\">tag</span><span class=\"si\">}</span><span class=\"s2\">&lt;/a&gt;&lt;/li&gt;</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span>\n  <span class=\"k\">end</span>\n  <span class=\"n\">the_html</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s2\">\"&lt;/ul&gt;</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span>\n<span class=\"k\">end</span>\n</code></pre>\n</div>\n\n<p>See how I’m manually inserting spaces and new lines (<code class=\"highlighter-rouge\">\\n</code>)? I feel like this is not how it’s meant to be.</p>\n\n<p>So the idea i had earlier today is to not bother with new lines or spaces at all, just throw it all into one flat string, and then pass it through a method at the end for, essentially, “prettifying” it and indenting it properly, and then running erb on that. I don’t know if I want to bite off that problem to solve just yet but I’m starting to want to. But I’m <em>sure</em> there’s an easier way to be doing this.</p>\n"
      }
      
        ,
      
    
      {
        "date": "02 Dec 2012",
        "title": "I am on an airplane",
        "url": "/2012/on-an-airplane",
        "content": "<p>I am flying to California with my sister and my dad and we’re going to look at some schools that she has applied to. I’m grateful I was invited on this trip. I’m not sure I’m strictly necessary.</p>\n\n<p>I went to California as a kid as part of a “Teen Tour” summer camp. It was a bunch of kids (I was twelve, most of the rest were around fifteen, sixteen) crammed on a bus and shuttled down the coast. My memories of it are all, weirdly, from the hotels we stayed in and the bus itself. I don’t recall LA, for example. But I’m excited to see it in part because up until fairly recently my main goal in life was to write for the movies and / or television shows. It’s been fun and weird <em>transitioning life goals</em>. There’s a sort of sadness to it? Not on my end, but a perceived one on theirs. I perceive that they’re sad for me. Which is fine, and kind, but not necessary.</p>\n\n<p>Gaby wants to study linguistics because she loves learning and learning about languages. I support that very much. She’ll expand her brain like crazy studying this stuff.</p>\n\n<p>I am a stalk of grass bending in the wind, growing toward the sun. I hope she will be too.</p>\n\n<p>She just caught me writing this and laughed at me. Namaste.</p>\n"
      }
      
        ,
      
    
      {
        "date": "01 Dec 2012",
        "title": "I can&rsquo;t sleep right",
        "url": "/2012/sleep",
        "content": "<p>I sleep so weird. I don’t think it’s ideal. I gotta get my tonsils cut out, maybe.</p>\n\n<p>Who has time for that?</p>\n"
      }
      
        ,
      
    
      {
        "date": "01 Dec 2012",
        "title": "gem anxiety",
        "url": "/2012/gem-anxiety",
        "content": "<p>I read somewhere that when you install a gem you shouldn’t use <code class=\"highlighter-rouge\">sudo</code> which stresses me out because I can’t figure out how to do it <em>without</em> <code class=\"highlighter-rouge\">sudo</code> so what does that make me? Some kind of rude-ass strongarm? I shudder at the thought.</p>\n"
      }
      
        ,
      
    
      {
        "date": "26 Aug 2012",
        "title": "Favblogging with pinboard, ifttt, and the rest of the internet",
        "url": "/2012/favblogging",
        "content": "<h2 id=\"my-fav-stuff\">MY FAV STUFF</h2>\n\n<p>I’m not Daring Fireball but I still like linking to stuff. This is something I’ve always struggled with. Many years ago my friends wrote a song about me and the lyrics mention all those links I’m copyin’ and pastin’.</p>\n\n<p>We used to do all that on AIM. I’d read something, share it, talk about it (if I was lucky). Now I post it to Pinboard, which is mirrored on my homepage. I don’t think a lot of people look at it but I still do it. It scratches a fun little itch.</p>\n\n<p>All my favorite stuff has to go somewhere I won’t lose track of it, and that’s Pinboard.</p>\n\n<h2 id=\"how-fav\">HOW FAV?</h2>\n\n<p>So Pinboard has a bookmarklet you can use to send pages to it and it’s fine but I rarely use it. It’s a bit too manual don’t you think? Instead I use <a href=\"http://ifttt.com\">ifttt.com</a> to automatically send anything I love to Pinboard as a private bookmark.</p>\n\n<ul>\n  <li>Whenever I fav a tweet, it goes to Pinboard</li>\n  <li>Whenever I favorite a YouTube video, it goes to Pinboard</li>\n  <li>Whenever I Like a Vimeo video, it goes to Pinboard</li>\n  <li>Whenever I Heart something in Instapaper, it goes to Pinboard (Instapaper supports this natively, so I don’t use ifttt for this one)</li>\n  <li>Whenever I Heart an Instagram, it goes to Pinboard</li>\n  <li>Whenever I like a Flickr photo, it goes to Pinboard</li>\n</ul>\n\n<p>Then I use the <a href=\"http://pinboard.in/resources/linkroll\">linkroll widget</a> to display this on my homepage.</p>\n\n<p>Jason Kottke made a web app called <a href=\"http://stellar.io\">Stellar</a> for aggregating your favorites across various social media. It wasn’t until I used this that I started <em>reflecting</em> on the whole purpose of Like/Fav/Hearting across the web. Stellar is really great. I wish more people I knew were on it. The idea is that I can follow you, and instead of seeing <em>what you post</em> like on every other site, I see <em>what you like</em> on every other site. It’s a bizarre and appealing premise. It’s frustratingly limited to just a few social media networks (Twitter, Youtube, Vimeo, Flickr) and doesn’t seem like it’s being actively developed, but it’s great. Part of what’s great about it is that it works passively. Even though I haven’t checked Stellar in months, <a href=\"http://stellar.io/maxjacobson\">my page</a> has been kept up-to-date due to my remaining active on those four networks.</p>\n\n<p>Alas, no one I know uses Stellar (or Pinboard for that matter), which is why I’ve been copying the same kind of content elsewhere, where someone someday <em>may</em> see it. Or at least I will.</p>\n\n<p>Because I find this stuff interesting, I was initially excited about <a href=\"http://www.favsapp.com/\">the Mac app Favs</a>. It lets you hook in to all the usual suspects of social networks and browse your favs. But it didn’t resonate as useful to me, because new items were <em>marked as unread</em> which I found curious, because of course I’ve already “read” these… how else could I have already marked these as my favorites? That paradigm would only be useful if, Stellar-like, Favs allowed me to subscribe to <em>others’ favorites</em>, not my own. And it does, but only for some services, and it felt a little off and difficult to use for some reason. I appreciate how it’s pitched:</p>\n\n<blockquote>\n  <h2 id=\"find-favorites\">Find Favorites</h2>\n\n  <p>Instead of spreading your favorites across different networks, use Favs to sync them to your Mac. Don’t waste any more time on searching for your favorite content - Favs has a powerful search feature build right into the application that makes finding what you like a breeze.</p>\n</blockquote>\n\n<p>Which is great but that’s what I use Pinboard for already and I’m very satisfied with that.</p>\n\n<blockquote>\n  <h2 id=\"follow-favorites\">Follow Favorites</h2>\n\n  <p>Many favorites are public, for example on Twitter. This allows you to follow the favorites of persons you like and just see their hand-picked articles. For those sources Favs marks new entries as ‘unread’ and you can use Favs as a sophisticated Reader app.</p>\n</blockquote>\n\n<p>Which is closer to what I want: basically a Mac Stellar app. I may have to give this one another chance. My consumption of others’ favs is minimal to non-existent, so I should similarize my expectations for others’ interest in my favs.</p>\n\n<p>A curious phenomenon: I’ll often fav a thing in the heat of the moment, and then later on when browsing my private Pinboard looking for things to make public and share, I decide it’s either not worth sharing (it’s depreciated in value somehow) or it’s just too personal to me and my interests and no one else will care. It’s the difference between the stellar firehose (especially notoriously fav-happy people like <a href=\"http://stellar.io/anildash\">Anil Dash</a>) and a more curated linkblog. I probably fav 50 tweets for every one I retweet.</p>\n\n<p>So why fav?</p>\n\n<h2 id=\"why-fav\">WHY FAV??</h2>\n\n<p>The way I see it, there are three reasons to fav something.</p>\n\n<ol>\n  <li>To send your compliments to the chef; to give some kudos; to pat someone on the back and say “good job”</li>\n  <li>to bookmark it because you love it so much you would hate to lose track of it in the swirling streams of internet</li>\n  <li>To re-share it to your people – think the Twitter “Discovery” page, or the Instagram “news” page, the Pinboard public page</li>\n</ol>\n\n<p>I don’t like a limp fav. I want something to <em>happen</em>. I want to send a positive blast of emotions to whoever made the thing. I want to spread the good word.</p>\n\n<p>YouTube’s fav paradigm is kind of interesting. I can Like or Dislike a video (thumbs up or down), which I <em>never</em> do. I favorite videos. I favorite a lot of videos. I’m not sure the video creator even sees that (though it is <a href=\"http://www.youtube.com/playlist?list=FLWR7Pes9M-ZFllBudk1fqIA&amp;feature=plcp\">listed publicly</a>), but I prefer it because there are APIs for things like ifttt to turn that into a trigger that does something for me. Likes/Dislikes are an anonymous little tug of war. There’s no point… except to win.</p>\n\n<p>I also rarely Like posts on Facebook, because the usually-private nature of the posts means the hooks just aren’t there, and probably shouldn’t be. That’s purely a kudos situation and maybe I’m just too selfish to give that.</p>\n\n<p>I know a lot of people who never favorite anything on the internet. I’m sure to some people, favoriting means something entirely different (some of the most popular ifttt recipes are to take the links from favorited tweets, and send those to Instapaper. That’s crazy to me. You should just get TweetBot which has native send-to-Instapaper functionality).</p>\n\n<p>I like that all of these services have a button that amounts to <strong>I SPURT LOVE</strong> but for this probably-OCD bubbula, I need all of that to be in one place, whether anyone else is getting anything out of it or not.</p>\n\n<p>I’ll give the final word to Rob Delaney:</p>\n\n<blockquote class=\"twitter-tweet\">\n  <p>\n    People ask me why I fave or star so many tweets. I’M A PASSIONATE MAN &amp; THIS PASSIONATE MAN NEEDN’T EXPLAIN HIMSELF TO YOU LOT.\n  </p>— rob delaney (@robdelaney)\n\n  <a href=\"https://twitter.com/robdelaney/status/238203754736926721\" data-datetime=\"2012-08-22T09:19:35+00:00\">August 22, 2012</a>\n</blockquote>\n"
      }
      
        ,
      
    
      {
        "date": "26 Aug 2012",
        "title": "Learning new things",
        "url": "/2012/learning-new-things",
        "content": "<p>What have I learned lately?</p>\n\n<p>I’ve watched my friend make a web app from scratch and it made me dizzy. I helped develop the idea and given some direction for the project.</p>\n\n<p>I’ve learned how to use <a href=\"https://github.com/maxjacobson/\">GitHub</a> to collaborate on that project. I have one public repo <a href=\"https://github.com/maxjacobson/\">there</a> today and it’s mainly just there for me to learn to use git with.</p>\n\n<p>And also to practice web design. Things like <a href=\"http://sass-lang.com/\">sass</a> and CSS. And <a href=\"http://www.pixelmator.com/\">Pixelmator</a>.</p>\n\n<p>I put all I learned from that into re-designing my homepage <a href=\"http://maxjacobson.net\">maxjacobson.net</a>, which remains a pretty version of <a href=\"http://pinboard.in/u:maxjacobson/public/\">my public Pinboard page</a>. I removed the half-assed <a href=\"http://blog.notmyidea.org/pelican-a-simple-static-blog-generator-in-python.html\">Pelican</a> blog in favor of this Wordpress install, which I casually mention at the bottom of the homepage.</p>\n\n<p>To set up this Wordpress blog I had to <a href=\"http://faq.nearlyfreespeech.net/section/nbspgettingstarted/installwordpress\">follow some tricky instructions</a>, including setting up a MySQL process and database. Still don’t really know how that stuff works, but it’s working.</p>\n\n<p>The blog doesn’t look anything like the homepage, but Wordpress themes are pretty tricky. They’re all built with PHP which I don’t know how to use. I’ll probably not go down that rabbit hole.</p>\n\n<p>There are a lot of broken links, which I find beautiful.</p>\n"
      }
      
        ,
      
    
      {
        "date": "17 Jul 2012",
        "title": "People only use RSS when they don't know they're using it so maybe the 'sub box' is its future",
        "url": "/2012/rss-vs-sub-box",
        "content": "<p>Google owns,</p>\n\n<ul>\n  <li>Google Reader</li>\n  <li>YouTube, which has a “sub box” for subscribing to Channels</li>\n</ul>\n\n<p>Nerds use the first one and regular people use the second one. Maybe they can like … merge them?</p>\n"
      }
      
        ,
      
    
      {
        "date": "21 Mar 2012",
        "title": "The easiest way to indent paragraphs online, not that you necessarily should",
        "url": "/2012/indenting-paragraphs-online",
        "content": "<p>Today I read DC Pierson’s recent essay <a href=\"http://dcpierson.tumblr.com/post/19605918654/\">Writing About 2Pac In Los Angeles, A Place It Turns Out He Isn’t From</a> and even though I liked reading it a lot, the main thing I’ve been thinking about since has nothing to do with hip-hop or Los Angeles or writing. It’s this: why did he indent his paragraphs?</p>\n\n<p>If this essay were printed in a book, I wouldn’t have blinked. That’s normal. But indented paragraphs online are somewhat unusual. Maybe the key to it is this line from the essay:</p>\n\n<blockquote>\n  <p>I wonder if Hampton will read what I end up writing and make fun of me, the way I imagine most comics will when they discover that I write earnest-ish prose stuff, in particular, douchey prose stuff about writing about music.</p>\n</blockquote>\n\n<p>My feeling is this: prose needs not be indented, but earnest-ish prose stuff does. Or that’s how it feels anyway. In the past I’ve written short stories, put them on a blog, and felt like they looked wrong. <em>That’s not a blog!</em> I’d think. <em>It’s a heart-breaking story, it should be indented!</em></p>\n\n<p>And, maybe. More on that later.</p>\n\n<p>First, let’s delve into the nitty gritty of formatting for the web. Let’s look at the beginning of one of Pierson’s paragraphs, in HTML, to see how he accomplished indentation:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"body1\"</span><span class=\"nt\">&gt;&lt;span&gt;</span>            <span class=\"nt\">&lt;/span&gt;</span>Then I moved[...]<span class=\"nt\">&lt;/p&gt;</span>\n</code></pre>\n</div>\n\n<p>Basically, he inserted a bunch of spaces at the beginning of each paragraph. I think a lot of people do it this way. I don’t know if this is “wrong” so much as… I think there’s a better way. I’m no expert but here’s my take on the best way to format indented paragraphs online.</p>\n\n<p>Basically, just add this code anywhere in your post:</p>\n\n<div class=\"language-html highlighter-rouge\"><pre class=\"highlight\"><code><span class=\"nt\">&lt;style&gt;p</span><span class=\"o\">+</span><span class=\"nt\">p</span> <span class=\"p\">{</span> <span class=\"nl\">text-indent</span><span class=\"p\">:</span> <span class=\"m\">2em</span><span class=\"p\">;</span> <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">-1em</span><span class=\"p\">;</span> <span class=\"p\">}</span><span class=\"nt\">&lt;/style&gt;</span>\n</code></pre>\n</div>\n\n<p>The <code class=\"highlighter-rouge\">text-indent: 2em</code> part will indent the first line of each non-first paragraph by two ems. An em is basically whatever size the text is. 2em seemed right to me. <a href=\"http://www.mulhollandbooks.com/popcornfiction/\">Popcorn Fiction</a> uses 3em. You can adjust that figure or replace it with 25px or whatever you want.</p>\n\n<p>I just learned that <code class=\"highlighter-rouge\">p+p</code> trick today. In the past I’ve just used <code class=\"highlighter-rouge\">p</code> for paragraph, but this way the style will only apply to paragraphs that directly follow another paragraph. That’s good because indentations are usually omitted in the first paragraph. If you’d like the style to apply to <em>every</em> paragraph, replace <code class=\"highlighter-rouge\">p+p</code> with just <code class=\"highlighter-rouge\">p</code>.</p>\n\n<p>The <code class=\"highlighter-rouge\">margin-top: -1em</code> part will decrease the spacing between paragraphs a little. Now that paragraphs are being indented, we don’t need spacing to identify a new paragraph as much.</p>\n\n<p>This will affect the whole page, not just your post, so be careful. If you put this in a Tumblr post, for example, you’ll find that every post on your homepage is now affected. To avoid this, put the code “after the jump” with the Read More button code, <code class=\"highlighter-rouge\">&lt;!-- more --&gt;</code>.</p>\n\n<p>The advantage is that you don’t need to worry about HTML or anything. Just write your thing then put the one line of CSS in there, and it’ll look good.</p>\n\n<p>(If you’d like to see what this looks like, check out this old <a href=\"http://blog.maxjacobson.net/story/the-roxy-maneuver/\">short story of mine</a>. This had no indentation yesterday but I just added it all with one line of code.)</p>\n\n<p>If you’re not comfortable with HTML, I’d recommend writing in <a href=\"http://en.wikipedia.org/wiki/Markdown\">Markdown</a> using something like <a href=\"http://mouapp.com\">Mou</a> (Mac), <a href=\"http://dillinger.io/\">Dillinger</a> (web), or <a href=\"http://markdownpad.com/\">MarkdownPad</a> (Windows) to preview or generate clean HTML for you. For this blog I write everything in Markdown and almost never see the HTML.</p>\n\n<p>Both Tumblr and Calepin allow you to write in Markdown without ever seeing HTML. Check the <a href=\"https://www.tumblr.com/preferences\">Tumblr Preferences</a> to flip that switch. Highly recommended.</p>\n\n<hr />\n\n<p>So it’s possible to do it and pretty painless to implement. But I’ll ask this question next: <strong>why bother?</strong> Don’t indented paragraphs look a little weird on the web? A little out of place? I think so. The web has so trained my perception of this that I sort of wonder why books have indented paragraphs now. Hmm. If paragraphs were spaced out, books would be longer. I wonder by how much.</p>\n\n<p>Here’s some quick math:</p>\n\n<ul>\n  <li>My copy of <em>A Feast for Crows</em> is 976 pages</li>\n  <li>There are 34 lines per page</li>\n  <li>There are an average of 7.8 paragraphs per page (from a random sampling of ten pages)</li>\n  <li>There are approximately 7,612.8 paragraphs in the book (976 pages * 7.8 paragraphs per page)</li>\n  <li>That’s an additional 7,612.8 new lines to the book if we spaced out the paragraphs with one extra line worth of spacing</li>\n  <li>That’s an approximate additional 223.9 pages (7,612.8 lines / 34 lines per page)</li>\n</ul>\n\n<p>So that’s a significant amount of paper. Foregoing indentations would save some pages but I don’t think it would nearly balance out. Indentations are much more compact than spacing.</p>\n\n<p>Okay, so indentations are greener, but that’s not something we really have to worry about on the web. Maybe it looks better or is easier to read. I don’t know. I only like it when writers take the care to format their work in the way that best expresses themselves. So go for it if you want.</p>\n\n<p>On June 4th, 2011, someone named TigerCrane <a href=\"http://ask.metafilter.com/187546/Why-dont-we-indent-paragraphs-any-more\">asked the internet</a> “When and why did we stop indenting paragraphs?”</p>\n\n<p>I particularly <a href=\"http://ask.metafilter.com/187546/Why-dont-we-indent-paragraphs-any-more#2700234\">like this</a> response by Sys Rq:</p>\n\n<blockquote>\n  <p>I haven’t seen a not-indented paragraph in a while, outside of situations like this online one where it’s basically impossible.</p>\n\n  <p>Where are you seeing them?</p>\n</blockquote>\n\n<p>There are some other great theories there as well.</p>\n\n<hr />\n\n<p>Let’s take a look at some publications.</p>\n\n<table>\n  <thead>\n    <tr>\n      <th style=\"text-align: left\">Publication</th>\n      <th style=\"text-align: left\">Indents on screens</th>\n      <th>Indents in print</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td style=\"text-align: left\">Most blogs</td>\n      <td style=\"text-align: left\">No</td>\n      <td>N/A</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">Most magazines</td>\n      <td style=\"text-align: left\">I don’t know</td>\n      <td>Yes</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">The New York Times</td>\n      <td style=\"text-align: left\">No</td>\n      <td>Yes</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">The New Yorker</td>\n      <td style=\"text-align: left\">No</td>\n      <td>Yes</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\"><a href=\"http://www.mulhollandbooks.com/popcornfiction/\">Popcorn Fiction</a></td>\n      <td style=\"text-align: left\">Yes</td>\n      <td>N/A</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">Kindle eBooks</td>\n      <td style=\"text-align: left\">Yes (by default)</td>\n      <td>N/A</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">Apple iBooks</td>\n      <td style=\"text-align: left\">Yes (by default)</td>\n      <td>N/A</td>\n    </tr>\n    <tr>\n      <td style=\"text-align: left\">Instapaper</td>\n      <td style=\"text-align: left\">No</td>\n      <td>N/A</td>\n    </tr>\n  </tbody>\n</table>\n\n<p>I find it very curious that the eBooks are styled like print books when they don’t need to be. I suspect it’s a matter of familiarity and comfort.</p>\n\n<p>There’s one, possibly dire consequence of replacing indentations with spacing in long form writing. These pieces are broken up into units of discourse. The novel is made up of two parts, maybe, and those parts are made up of chapters, and those chapters are made up of sections, which are made up of paragraphs, which are made up of sentences, which are made up of words.</p>\n\n<p>If a writer chooses to use spacing to separate paragraphs, how does she separate sections? I’m talking about those parts where the action stops, there’s a rare space between paragraphs, and then action resumes. Maybe it’s a good moment to walk the dog. If all paragraphs are spaced out, that break won’t stand out.</p>\n\n<p>I solve that problem with horizontal rules now. I think it works okay. It looks a little something like this in Markdown:</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code># The Book\n\n## Chapter one\n\nSome stuff.\n\n* * *\n\nSome more stuff.\n\n## Chapter two\n\nThe thrilling conclusion. What a short book.\n</code></pre>\n</div>\n\n<p>And you can style the <code class=\"highlighter-rouge\">&lt;hr /&gt;</code> (horizontal rule) to look however you want, including being invisible. Here’s what mine looks like on this site:</p>\n\n<hr />\n\n<p>So anyway I generally avoid indenting text online. I think the urge is mostly to do with wanting to put on book airs. But I’m not writing a book, even if I’m writing a novel. I’m writing a web page.</p>\n"
      }
      
        ,
      
    
      {
        "date": "26 Feb 2012",
        "title": "Introducing myself to the command line",
        "url": "/2012/introducing-myself-to-the-command-line",
        "content": "<p>I never really understood how to use the command line. I kind of got it in principle but not in practice.</p>\n\n<p>So I taught myself the basics by reading <a href=\"http://cli.learncodethehardway.org/\">this mini- book on Learn Code The Hard Way</a>. It’s awesome. The book is an alpha release and may have some errors but I didn’t spot any. Would I, though?</p>\n\n<p>Here are my thoughts and notes I jotted down while learning this. It’s fairly stream of conscious and certainly less accurate or helpful than the aforelinked mini-book. If you’d like to learn it along with me, maybe this could possibly be useful to you. It’s a little different on a Windows computer, but if you’re on a Mac or Linux computer, this should all work for you too.</p>\n\n<hr />\n\n<p>I wonder how much stuff I’m gonna have to memorize.</p>\n\n<p>I’m in the terminal! I’m in Terminal!</p>\n\n<p>I’m learning bash. Apparently my nerd friends will tell me to learn zsh instead. I wonder if my actual nerd friends would.</p>\n\n<p>Ok I think I get the whole <code class=\"highlighter-rouge\">cd</code> and <code class=\"highlighter-rouge\">..</code> thing. If you’re in a directory you can <code class=\"highlighter-rouge\">cd</code> into any subdirectory or <code class=\"highlighter-rouge\">cd ..</code> to go back one. From the downloads directory I can <code class=\"highlighter-rouge\">cd ../documents</code> to get to the documents folder. That goes up one and then back down into another.</p>\n\n<p>I wonder if up and down are the right words to use there. In the Finder I think of it more as left and right, in the column view.</p>\n\n<p>So far basically all I’m doing is making folders and moving through them. Loving it.</p>\n\n<p>Whoa, I just deleted john! john was a directory I made. <code class=\"highlighter-rouge\">rmdir john</code> is deadly.</p>\n\n<p>At this point, the guide is saying if I want to I can take a break and come back tomorrow. It thinks I’m weak. I can do this.</p>\n\n<p>I like that I can <a href=\"http://cli.learncodethehardway.org/book/cli-crash-coursech8.html\">do</a> <code class=\"highlighter-rouge\">mkdir -p i/like/icecream</code> and it’ll make <em>all three</em> of those folders from scratch.</p>\n\n<p>I wonder if I <code class=\"highlighter-rouge\">rmdir i</code>, if it’ll remove all the subfolders too. Ohh cool, it won’t let me. That’s nice.</p>\n\n<p>It’s kind of weird that when I <code class=\"highlighter-rouge\">rmdir something</code>, it doesn’t go to the trash, it’s just <em>gone</em>.</p>\n\n<p><code class=\"highlighter-rouge\">pushd</code> and <code class=\"highlighter-rouge\">popd</code> are kind of baking my noodle (as <a href=\"#deadlinktooldpodcastinterviewiwthcorey\">Corey likes to say</a>. Is this like the popping and locking of the programming world? Maybe I should take a break.</p>\n\n<p>OK so you’re in a directory. You <code class=\"highlighter-rouge\">pushd to/a/folder</code> and now you’re there, but you sort of bookmarked where you were. If you want to go back there you <code class=\"highlighter-rouge\">popd</code>. If you push somewhere, then push somewhere else, then <code class=\"highlighter-rouge\">pushd</code> over and over you can cycle back and forth between them. If you <code class=\"highlighter-rouge\">popd</code> over and over you can go back through the stack (from most recent to least recent I think?) of your <code class=\"highlighter-rouge\">pushd</code>s.</p>\n\n<p>I love <code class=\"highlighter-rouge\">putting things in code brackets</code> it’s really easy in Markdown/Calepin. I might be misusing it.</p>\n\n<p>Ahh and the stack isn’t hidden! That’s what’s printed/returned when you <code class=\"highlighter-rouge\">pushd</code>. I think I’m wrapping my head around this. Not sure if I’ve explained it well or anything, though.</p>\n\n<p>I’m up to chapter nine. I just made an empty text file by writing <code class=\"highlighter-rouge\">touch iamcool.txt</code>. Hey, <a href=\"http://cli.learncodethehardway.org/book/cli-crash-coursech9.html#x15-460009\">your words</a>.</p>\n\n<p>I just wrote <code class=\"highlighter-rouge\">touch butts.mp3</code> and it made a song called Butts that I’m gonna be sending out to radio stations first thing tomorrow.</p>\n\n<p>Ok so if I want to make a copy of iamcool.txt called awesome.txt it’s as easy as writing <code class=\"highlighter-rouge\">cp iamcool.txt awesome.txt</code>! Okay! (In fact I am getting tired).</p>\n\n<p>I’m slowly piecing together that <code class=\"highlighter-rouge\">-r</code> does… well, something. I don’t know. If I <code class=\"highlighter-rouge\">mkdir afolder</code>, I can then <code class=\"highlighter-rouge\">cp -r afolder ~/Desktop</code> to make a copy of that folder on my desktop. But to copy awesome.txt to my desktop I just write <code class=\"highlighter-rouge\">cp awesome.txt ~/Desktop</code>. So that <code class=\"highlighter-rouge\">-r</code> I guess makes it work for a directory.</p>\n\n<p>Hmm so now I’m moving files. But it sounds like renaming to me. <code class=\"highlighter-rouge\">mv awesome.txt lame.txt</code> will basically rename it from awesome to lame. I suppose it’s moving the data from one file to a new one? Like, when you die your soul leaves your body and enters a baby just as it’s being born? If you believe in a very literal, specific form of reincarnation?</p>\n\n<p>I know how to open a file in vim, and I even know how to do some basic vim commands, but I have no idea how to save a file and exit vim.</p>\n\n<p>Ok I took a break. It’s two days later from when I started this. I’m happy that I still remember the commands I’ve learned this far.</p>\n\n<p>I don’t know how to delete files but I can sort of do it by renaming one file into something else that exists, and it basically disappears I think.</p>\n\n<p>I can also move a file from one folder into another folder with this. <code class=\"highlighter-rouge\">mv hello.txt afolder/hello.txt</code> moves that file into the folder (though it doesn’t create the folder). So it’s moving <em>and</em> renaming.</p>\n\n<p>Hmm.</p>\n\n<p>Okay so now I’m using the <code class=\"highlighter-rouge\">less</code> command to view the contents of text files. it seems to work just fine. I press <code class=\"highlighter-rouge\">q</code> to exit. If it’s a long document I can page through it with <code class=\"highlighter-rouge\">w</code> (up) or <code class=\"highlighter-rouge\">space</code> (down), one page-worth at a time. Got it.</p>\n\n<p>I can read markdown files in the terminal pretty nicely. I’m gonna navigated to my Calepin folder and open up this draft file. <code class=\"highlighter-rouge\">cd ../Dropbox/Apps/Calepin</code>, <code class=\"highlighter-rouge\">ls</code>, <code class=\"highlighter-rouge\">less cli.md</code> wow there it is! Ha! This is fun.</p>\n\n<p>I just whipped up <a href=\"http://cl.ly/2q1b430A3t1a1q1y0U1V\">a background image</a> for my terminal. I wish it could tile and not just stretch. Looks good as long as I don’t resize the window.</p>\n\n<p>Now I’m <code class=\"highlighter-rouge\">cat</code>ting things. That just sort of displays the contents of the text file in a slightly different way than <code class=\"highlighter-rouge\">less</code>. <em>So</em> exciting.</p>\n\n<p>Oh thank goodness <code class=\"highlighter-rouge\">rm</code> exists. I didn’t like that other way of deleting files.</p>\n\n<p>OK so I can <code class=\"highlighter-rouge\">rm hello.txt</code> to delete it but I can’t use <code class=\"highlighter-rouge\">rm</code> to delete a folder (that’s what <code class=\"highlighter-rouge\">rmdir</code> is for). Oh wait, I can, I just have to do some weird business. <code class=\"highlighter-rouge\">rm -rf folder</code> works. <em>Yoosh</em> how do I remember that? Wait a moment. <code class=\"highlighter-rouge\">rm -rf</code> can delete folder even if they have stuff in them. That one ups <code class=\"highlighter-rouge\">rmdir</code>. This is “recursive deleting”.</p>\n\n<p>I like this possibly self-delusional quote <a href=\"http://cli.learncodethehardway.org/book/cli-crash-coursech15.html\">from the mini-book</a>:</p>\n\n<blockquote>\n  <p>Now we get to the cool part of the command line: redirection.</p>\n</blockquote>\n\n<p>I kinda knew about the <code class=\"highlighter-rouge\">|</code> but not the <code class=\"highlighter-rouge\">&lt;</code> or <code class=\"highlighter-rouge\">&gt;</code>.</p>\n\n<p>Oh! <a href=\"http://www.secretgeometry.com/apps/cathode/\">This</a> is fun.</p>\n\n<p>I just had a breakthrough wherein I learned how to save and close from vim, so I’ve just been playing in that for a little while. It’s <code class=\"highlighter-rouge\">:wq</code>! So simple!</p>\n\n<p>Ok, wildcard matching… ya yah.</p>\n\n<p>Ex, <code class=\"highlighter-rouge\">ls *.txt</code> will list only the text files. that’s handy. This command surprised me: <code class=\"highlighter-rouge\">cat *.txt &gt; bigfile.txt</code> took all of the txt files and combined them into one new one, which it also created. Then <code class=\"highlighter-rouge\">rm *.txt</code> removed all of the txt files. That’s vicious.</p>\n\n<p>Ok so this is a fun thing. I just realized I can open <em>tabs</em> in the Terminal! So I’m gonna write this post in one tab and learn things in another. Whoa. Although the switch-tab shortcut is kind of unwieldy (command-shift-] or [). I can learn it.</p>\n\n<p>So I can run a command like <code class=\"highlighter-rouge\">grep hello *.txt</code> and it’ll find the string “hello” in all the txt files and then return a list of all of the lines from all of the txt files that have that string in them. Useful. And if I want, I can pipe that to <code class=\"highlighter-rouge\">less</code> and it’ll be the same thing, but easier to flip through (with space and w).</p>\n\n<p>I thought I was done when I reached the section on <code class=\"highlighter-rouge\">man</code>, which looks up the manual for any given command, but there’s a whole nother section. Great. I can handle some more knowledge.</p>\n\n<p>I’m up to chapter 21. <em>Weeks</em> have elapsed. I’m not sure exactly what I just did and I can only hope it wasn’t bad. one of the thrills of using the command line is that I can completely destroy my whole computer at any point by writing the wrong thing.</p>\n\n<p>In <a href=\"http://cli.learncodethehardway.org/book/cli-crash-coursech21.html#x30-9700021\">this chapter</a> I “looked at my environment” and then set a variable and then printed out the variable. But where is this variable? In my environment? I feel like I don’t want it to be there anymore but don’t know how to get it out. Environmentalism! (I actually <code class=\"highlighter-rouge\">echo</code>‘d it, not print. For what it’s worth.)</p>\n\n<p>Now it wants me to research online “how you change your PATH for your computer” and do it all in the terminal. I think I’m just gonna skip this one.</p>\n\n<p>Ah! Chapter 22 to the rescue. <code class=\"highlighter-rouge\">unset</code> will flush that variable. Cool. I’m so relieved. I wonder if I can <code class=\"highlighter-rouge\">unset</code> something important. That would be very unpsetting.</p>\n\n<p>“You have completed the crash course. At this point you should be a barely capable shell user.” – Nice. I feel that way. It feels pretty great.</p>\n\n<p>The conclusion links to <a href=\"http://www.gnu.org/software/bash/manual/bashref.html\">this</a> official bash reference. Also <a href=\"http://cli.learncodethehardway.org/bash_cheat_sheet.pdf\">this cheat sheet</a>. Maybe I’ll tackle those next.</p>\n"
      }
      
        ,
      
    
      {
        "date": "07 May 2011",
        "title": "Mosh Pits",
        "url": "/2011/mosh-pits",
        "content": "<p><a href=\"http://ilivesweat.tumblr.com/post/4392390572/i-think-its-something-thats-hard-to-recognize-if-you\">“I think it’s something that’s hard to recognize if you don’t experience it yourself”</a></p>\n\n<p>Mariel Loveland:</p>\n\n<blockquote>\n  <p>I stood on the outskirts of the crowd for the entire show knowing I wanted absolutely nothing to do [with] the mass of 15 to 20-year-old boys pushing each other around, but the minute the closing band struck its first chord, I was shoved right into the middle. I immediately tried to look for a way out but was completely surrounded, and no matter how much I pushed, I couldn’t move.  I was getting punched, kicked, and pummeled until I eventually fell down, and all I could see was a wave of dust and sneakers kicking and stepping on me. I couldn’t get up, and I couldn’t breathe. I choked on dirt and started sobbing until one man, probably someone’s dad, heard me screaming for help. He reached underneath the crowd and threw me over his shoulder.  As he was pulling me away, I heard one voice cut through the music: “That’s why you don’t bring your little girl to shows.” I was 15.</p>\n</blockquote>\n\n<p>I liked this little essay about being a girl at punk shows. It got me thinking back on my first time in a mosh pit (of not too many). It was at my Temple, at the annual Gefiltefest. Some local punk band was playing and kids got rambunctious. I was just enjoying the music but I got shoved into the vortex. I was around fifteen too. It was kind of fun at first but then I fell down and my glasses fell off. One of those naïve “is this the end?” moments. Almost immediately someone pulled me up, shoved my glasses into my hands, and pushed me out of the circle. There definitely weren’t any girls in there.</p>\n\n<p>Another time, in college, I went to Montreal with some friends to see the band Thrice. This was during their Alchemy Index tour, which is when I first started listening to them. My friend Sung loved them, I think because he was an asian guitarist and Thrice’s lead guitarist is asian, and he’s <a href=\"http://www.youtube.com/watch?v=_9nWJ2Ek1YY\">pretty great</a>. Sung had a friend in college in Montreal whose place we could stay at, and so we left our bags there, went and bought some of those extra-large bottles of canadian beer, wandered around a little, and went to the show. Say Anything was opening for Thrice, and were playing when we got there. The venue was way bigger than I’d anticipated. Less the grubby little rooms I was used to, more of a huge, multi-layered club. You could work your way up close to the stage if you want, and mosh around, or get a drink and watch from the mezzanine. We went right to the floor and got separated right away.</p>\n\n<p>Say Anything didn’t sound so great so I went for a walk, to the bathroom, then the bar. There were a lot of French seeming girls there, not so many up front on the floor. Maybe they didn’t feel safe there. I don’t know. I didn’t, really, but that was kind of the fun of it.</p>\n\n<p>By the time Thrice came on, things were getting to be kind of a blur. I didn’t know where my friends were. The plan was to find them later. I was never a massive Thrice fan, but one thing I really like is how they’ve progressed from a hardcore band in their early outings to a slightly more experimental rock and roll group. So I was a little surprised by how heavy the show was once it started, and how immediately the mosh pit congealed and dwarfed Say Anything’s. I was drawn in, willingly. The energy is hard to resist. I didn’t brave the thrashy center but I got shoved around a little, and shoved people around a little. And then my shoe fell off and disappeared into the crashing waves of converse all stars.</p>\n\n<p>So now I’m kind of drunk and in a faraway land, and I’m hopping on one foot and everyone is shoving everyone and <em>really</em> loud music is playing and I’m not sure where my friends are. The adrenaline I’d been looking for? Found it.</p>\n\n<p>Suddenly I see my shoe. Someone’s holding it above their head like a trophy, less than ten feet away, but a shifting mass of dozens of sweaty canadians between us. I start forcing my way through, on one foot, and reaching out, but the guy tosses it across the floor, like one might with a beach ball at a concert your parents would take you to. The crowd tossed it a couple more times before I managed to intercept it and pull it back on, at which point I receded to the edges where all you’re doing is helping people not fall down and being the one who picks up other people’s glasses and enjoying the music and catching your breath.</p>\n\n<hr />\n\n<p>While writing this I listened to Ms. Loveland’s band Candy Hearts’ album <a href=\"http://www.deathtofalsehoperecords.com/downloads/dtfh102.html\">Ripped Up Jeans and Silly Dreams</a> which you can download for free there. It’s kind of nice. Hits that sweet spot between plaintive got-no-friends-but-my-guitar and us-against-the-world propulsion when the drums kick in. Not sure if that means much of anything, but I’m no music critic.</p>\n"
      }
      
        ,
      
    
      {
        "date": "12 Mar 2011",
        "title": "Un Americano re Japón y mucho cafe e ansiedad",
        "url": "/2011/un-americano",
        "content": "<p>So today on my lunch break I walk to <a href=\"http://maps.google.com/maps/place?client=safari&amp;rls=en&amp;oe=UTF-8&amp;um=1&amp;ie=UTF-8&amp;q=stumptown+ace&amp;fb=1&amp;gl=us&amp;hq=stumptown+ace&amp;hnear=Chappaqua,+NY&amp;cid=8778389626880739538\">the Stumptown cafe in the Ace Hotel</a> on 29th street in Manhattan to buy a pound of “Hair Bender” coffee beans. I’d heard some good things, you know? It’s supposed to be really great. Ace Hotel seems like a really expensive youth hostel, or like a teen opium lounge, or like a nightclub/library hybrid with a chill bouncer or - and so I got on a serious line to buy some coffee, I was probably waiting for like ten minutes, and I hand over the bag and ask for an Americano - (which I used to be embarrassed to order because I was told it’s named that by Europeans who think we’re sissy for watering town our coffee but now I realize that’s actually how I like my coffee and it can’t be <em>that</em> pejorative if we’re using it all the time, like <em>we</em> can call each other and our drinks that and we’re sort of <em>taking it back</em> you know?) - and as the quiet, vested, bearded man makes it for me I realize it’s cash only and I only have two dollars and I’m going to have to go to the ATM in the lobby and I say sorry, I’ll be right back, da da da, and I go to the lobby and <em>of course</em> the ATM is currently being serviced and I’ll have to go find another one if I want any cash any time soon. So I start walking around and I think I remember I passed my bank on the way here and so I walk the three blocks and get some money and walk the three blocks back, and when I get back there’s, like, a gaggle of muslims on 29th street now, like maybe fifty or sixty guys, all facing the same way - I look for a mosque and don’t see one, just a middle eastern restaurant - and preparing their prayer rugs, some on the sidewalk and some on the edge of the street, and praying as cars whiz by and the residents of stumptown gawk indifferently.</p>\n\n<p>I go in and there’s another serious line - a bunch of people all facing the same way and praying you might say, and not unfairly - and I figure I should probably get back on it even though I don’t have all the time in the world, but the Vest sees me after a minute and says I should come up and pick up my things. They don’t seem to mind that I kinda ditched them for twenty minutes as I had fretted. He happily makes me another watered down pussy drink and offers me a bag for the hair bender, which I decline and (maybe) awkwardly stuff it in my coat pocket, and leave, past where all the guys had been and had somehow evacuated already.<sup id=\"fnref:1\"><a href=\"#fn:1\" class=\"footnote\">1</a></sup></p>\n\n<hr />\n\n<p>I’ve just done some light googling to learn more about the coffee I bought and I’m a little sorry to confess that my attentions drifted immediately to an essay by Ethan Epstein which seems aimed to splash cold water in the face of those who think they’re right to be taking certain pleasures in this endeavor of fancy coffee.</p>\n\n<p>Yes, yes, it’s fun to pay an extra two dollars for them to brew it with that chemex thing you read about on the internet, and yes it’s fun to put on vests and not worry about the economic consequences of our purchases, and it is highly seductive to just take them at their word that they are in fact making the very best coffee in the world.</p>\n\n<p>(Not that they actually <em>said</em> that, though you might feel like they didn’t need to.)</p>\n\n<p><a href=\"http://www.nypress.com/article-19910-totally-stumped.html\">Ethan Epstein writes</a>:</p>\n\n<blockquote>\n  <p>Stumptown shouldn’t be mistaken for the bohemian paradise that its owner and his legions of promoters and sycophants would have you believe. Like Starbucks, the company it professes to abhor, Stumptown provides a ready-made, generic bohemianism, one where people know exactly what to expect. Stumptown’s current strategy is essentially a retread of Starbucks’ corporate model from more than a decade ago.</p>\n</blockquote>\n\n<p>That was published twenty-seven months ago, but I can report that they don’t seem to have been cowed by his criticism. There’s more to the article, and it’s certainly worth a read. But as much as I enjoyed the irascibility factor, it reminded me of another essay, one I read several months ago (<a href=\"http://emotionalblackmail.tumblr.com/post/1462637366/today-is-the-day-we-take-back-the-word-hipster\">via my cousin Rachel’s blog</a>) called “Being a Hipster Is an Excellent and Wonderful Thing!”</p>\n\n<p>In it, <a href=\"http://www.theawl.com/2010/10/being-a-hipster-is-an-excellent-and-wonderful-thing\">Maria Bustillos writes</a>:</p>\n\n<blockquote>\n  <p>It’s easy to tell the difference between a hipster and a poseur, because while the former are mainly enjoying, the latter are mainly judging. The poseur is an aesthetic snob without aesthetic discernment; he sneers but has no understanding of standards. So instead of having fun sharing their arcane things together, the poseurs are having zero fun pretending to not like anything. As Nietzsche put it most memorably: <em>The man who despises himself nevertheless esteems himself as one who despises.</em> These two kinds of people really are just worlds apart, even though they may find themselves living in the same neighborhood and going to the same rock show.</p>\n</blockquote>\n\n<p>It would be unfair of me to take her general criticism and pass it through a magnifying class and focus them on this relatively old piece. What I really mean to focus it on is my own weird head, because these are things I struggle with and I relate to both pieces very much, and they’re both pulling at me, and I <em>want</em> to be more like “Maria” but I’m afraid I’m not.</p>\n\n<p>Maria continues:</p>\n\n<blockquote>\n  <p>So what are these alleged good reasons for praising the hipsters? There are two. One is to decrease suffering among the youngs, because there should be no shame ever surrounding the love of or identification with a place, a way of life, a band or a pair of glasses. There could be so much more happiness (and inventiveness, and liberty) if people were just free to just love what they love without having to worry about whether or not they are going to be crucified for being a hipster.</p>\n</blockquote>\n\n<p>That was five months ago. It was around then that I probably first heard of the <a href=\"http://aerobie.com/products/aeropress.htm\">Aerobie Aeropress espressor maker</a>, which comes from the same inventor of such “High Performance Sport Toys” as the Aerobie Pro ring, which <a href=\"http://aerobie.com/about/news/quartermilethrow.htm\">apparently</a> has been thrown farther than anything else has been thrown.</p>\n\n<p>Lately I’ve been growing dissatisfied with my french press for a couple of reasons that the Aeropress seems to solve<sup id=\"fnref:2\"><a href=\"#fn:2\" class=\"footnote\">2</a></sup> so I said “unnnnh fuck it” and bought one and tonight I used it to make some hairs bend and it was good. I think it’ll get better as I get a hang of the contraption (which looks like a penis enlarger). I <em>enjoyed</em> it, and I think that’s an important step toward being my inner Maria.</p>\n\n<div class=\"footnotes\">\n  <ol>\n    <li id=\"fn:1\">\n\n      <p>Now I’m wondering if the muslims were perhaps sending their prayers to Japan, and if perhaps I’m a real rube for thinking about coffee and hipster culture and anxiety while thousands of people are losing their homes and dying across the world and how I never know what to say on days like today so I either stay quiet or can’t stop talking and today I <a href=\"http://twitter.com/maxjacobson/status/46274344829190144\">tweeted this</a> and maybe that wasn’t that funny but it was all I could think to say. <a href=\"#fnref:1\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n    <li id=\"fn:2\">\n\n      <p>It brews faster, is easier to clean up, and doesn’t have the sediment in the drink, without losing the taste. It had been my understanding that the main boon of french press was the lack of paper filter, which ensured that all of the oils in the coffee grounds weren’t stuck in the filter. The Aeropress does have a filter, but claims that this isn’t an issue. <a href=\"#fnref:2\" class=\"reversefootnote\">&#8617;</a></p>\n    </li>\n  </ol>\n</div>\n"
      }
      
    
  ]
}

<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <title>todo_lint: a new ruby gem to help prevent comments from stagnating - hardscrabble</title>
  <meta content='Max Jacobson' name='author'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href='/feed.xml' rel='alternate' title='Posts feed' type='application/atom+xml'>
  <link href='/img/favicon.ico' rel='icon' type='image/x-icon'>
  <link rel="stylesheet" href="/css/lib/pinboard.css">
<link rel="stylesheet" href="/css/lib/normalize.css">
<link rel="stylesheet" href="/css/lib/solarized.css">
<link rel="stylesheet" href="/css/style.css">



  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', "UA-4982721-15", 'auto');
  ga('send', 'pageview');

</script>


</head>
<body>

<header>
  <h1><a href="/">hardscrabble</a></h1>
  <nav>
    <a href="/">home</a>
    | <a href="/about/">about</a>
    | <a href="/metaphorloop/">metaphor loop</a>
    | <a href="/search/">search</a>
    | <a href="/links/">links</a>
  </nav>
</header>

<div class="post">

  <div class="metadata">
    <div class="title">
      <h2>
        todo_lint: a new ruby gem to help prevent comments from stagnating
      </h2>
    </div>
    <div class="byline">
      by <a href='/about'>Max Jacobson</a>
    </div>
    <div class="date">
      08 Jul 2015
    </div>
  </div>

  <div class="body">
    <p>I made another gem! Here it is: <a href="https://github.com/maxjacobson/todo_lint">https://github.com/maxjacobson/todo_lint</a></p>

<p>Last week, I wrote about <a href="/2015/required-arg/">required_arg</a>, my new gem for
adding required keyword arguments to Ruby 2.0.0. I actually made that, quickly,
while making this one, which took several hours longer.</p>

<p>What does it do?</p>

<p>It analyzes your code and warns you about <code class="highlighter-rouge">TODO</code> comments. You can run the
script automatically as part of your continuous integration (CI) build process,
and it will fail your build if your TODOs are troublesome. It suggests a
workflow whereby your TODO comments must be annotated with a due date, and that
due date must be in the future. So you can write little notes to self in your
code, but you cannot forget them, because one day your build will start
failing. At that point, you can do what you’ll do; maybe you’ll snooze the todo
due date into the future; maybe you’ll pull the idea out into your feature/ bug
tracker; maybe you’ll just delete it in acknowledgment that you’re never gonna
do it. Up to you.</p>

<p>It’s going to be very annoying, and hopefully that will be a good thing.</p>

<p>Adding it to a Ruby project is pretty simple. Here’s what it looks like to add
it to a gem: <a href="https://github.com/maxjacobson/film_snob/pull/85">https://github.com/maxjacobson/film_snob/pull/85</a></p>

<p>At work, I’m coordinating a gaggle of interns working on a new project, and I
asked them to be guinea pigs for me and include this gem in their project and
CI workflow. They obliged, but unfortunately it <strong>immediately didn’t work at
all</strong>. I didn’t realize it, but our CI service was bundling all dependencies
into the same folder as the app, and then todo_lint was checking every file
from every Ruby dependency for todos. We don’t want to check all those files,
because they’re out of our control. I realized we would need some kind of
configuration to allow excluding by folder or maybe even pattern, so I jotted
it down in <a href="https://github.com/maxjacobson/todo_lint/issues/6">a GitHub issue</a>
and told the intern to forget about it; the guinea pig was dead!</p>

<p>Or … was it? Awesomely, she took the time to make a pull request to todo_lint,
making it user-configurable; specifically, users can now exclude file patterns
like <code class="highlighter-rouge">vendor/**</code>. Excellent! The guinea pig lives.</p>

<p>If you’d like to help improve the project, take a look at <a href="https://github.com/maxjacobson/todo_lint/issues">the remaining open
issues</a> and feel free to claim
one or add your own. I want my projects to be friendly toward contributors.
Awesomely, bundler now suggests including <a href="coc">a code of conduct</a> when you
create a skeleton gem with, eg, <code class="highlighter-rouge">bundle gem todo_lint</code>, and I’ll do my best to
uphold that.</p>

<p>Join me in being a scold. It’s fun.</p>

  </div>

  <div class="post-footer">
    <p>
      Feel free to get in touch via <a href='http://twitter.com/maxjacobson'>@maxjacobson</a> or <a href='mailto:max@hardscrabble.net'>max@hardscrabble.net</a>
    </p>
  </div>

</div>


<footer>
  <div>
    Powered by <a href="http://jekyllrb.com/">Jekyll</a>
    and hosted on <a href="https://pages.github.com/">GitHub Pages</a>.
    The source is <a href="https://github.com/hardscrabble/hardscrabble.github.io">available to browse, for nerds</a>.
    The feed can be found at <a href="/feed.xml">feed.xml</a>
  </div>
</footer>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<script src='/js/vendor/lunr.min.js'></script>
<script src='/js/app.js'></script>


<script src="//static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">try{ clicky.init(100815498); }catch(e){}</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100815498ns.gif" /></p></noscript>
</body>
</html>

